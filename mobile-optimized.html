<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>TravelAI Mobile</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-900: #0F172A; --primary-800: #1E293B; --primary-700: #334155; --primary-600: #475569; --primary-400: #94A3B8; --primary-100: #F1F5F9;
            --ocean-blue: #1E40AF; --mirage-blue: #4b90e6; --governor-bay: #2553eb; --emerald: #10B981; --premium-amber: #F59E0B;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Inter', sans-serif; line-height: 1.5; background: var(--primary-50);
            -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
            touch-action: manipulation;
        }

        /* Mobile Navigation */
        .mobile-nav {
            position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
            background: white; height: 60px; display: flex; align-items: center; justify-content: space-between;
            padding: 0 1rem; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        .mobile-logo { font-size: 1.2rem; font-weight: 800; color: var(--governor-bay); }
        .mobile-menu-btn {
            background: none; border: none; font-size: 1.5rem; color: var(--primary-700);
            padding: 0.5rem; cursor: pointer;
        }

        /* Mobile Menu Overlay */
        .mobile-menu-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 2000;
            background: rgba(0, 0, 0, 0.5); opacity: 0; visibility: hidden;
            transition: all 0.3s ease;
        }
        .mobile-menu-overlay.active { opacity: 1; visibility: visible; }
        .mobile-menu {
            position: absolute; right: 0; top: 0; width: 280px; height: 100%;
            background: white; transform: translateX(100%); transition: transform 0.3s ease;
            padding: 2rem 1rem;
        }
        .mobile-menu-overlay.active .mobile-menu { transform: translateX(0); }
        .mobile-menu-close {
            position: absolute; top: 1rem; right: 1rem; background: none; border: none;
            font-size: 1.5rem; color: var(--primary-600); cursor: pointer;
        }
        .mobile-menu-items { margin-top: 2rem; }
        .mobile-menu-item {
            display: block; padding: 1rem 0; color: var(--primary-700); text-decoration: none;
            border-bottom: 1px solid var(--primary-100); font-weight: 500;
        }

        /* Touch-Optimized Hero */
        .mobile-hero {
            padding: 80px 1rem 2rem; min-height: 100vh; display: flex; flex-direction: column;
            background: linear-gradient(135deg, var(--ocean-blue), var(--mirage-blue));
            color: white; text-align: center;
        }
        .hero-title {
            font-size: 2rem; font-weight: 800; margin-bottom: 1rem; line-height: 1.2;
        }
        .hero-subtitle {
            font-size: 1.1rem; opacity: 0.9; margin-bottom: 2rem;
        }

        /* Mobile Search Widget */
        .mobile-search {
            background: white; border-radius: 1rem; padding: 1.5rem; margin: 2rem 0;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        .search-tabs {
            display: flex; background: var(--primary-100); border-radius: 0.5rem; padding: 2px;
            margin-bottom: 1.5rem;
        }
        .search-tab {
            flex: 1; background: none; border: none; padding: 0.75rem; border-radius: 0.5rem;
            font-weight: 500; color: var(--primary-600); cursor: pointer; font-size: 0.9rem;
        }
        .search-tab.active { background: white; color: var(--governor-bay); font-weight: 600; }
        .mobile-input {
            width: 100%; padding: 1rem; border: 2px solid var(--primary-200); border-radius: 0.75rem;
            font-size: 1rem; margin-bottom: 1rem; -webkit-appearance: none;
        }
        .mobile-input:focus { outline: none; border-color: var(--governor-bay); }
        .mobile-cta {
            width: 100%; background: linear-gradient(135deg, var(--governor-bay), var(--ocean-blue));
            color: white; border: none; padding: 1rem; border-radius: 0.75rem;
            font-size: 1.1rem; font-weight: 600; cursor: pointer; -webkit-appearance: none;
        }

        /* Swipeable Cards */
        .mobile-cards {
            padding: 2rem 0; overflow: hidden;
        }
        .cards-container {
            display: flex; gap: 1rem; padding: 0 1rem; overflow-x: auto; scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch; scrollbar-width: none; -ms-overflow-style: none;
        }
        .cards-container::-webkit-scrollbar { display: none; }
        .mobile-card {
            min-width: 280px; background: white; border-radius: 1rem; overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); scroll-snap-align: start;
        }
        .card-image {
            height: 160px; background: linear-gradient(45deg, var(--primary-100), var(--primary-200));
            display: flex; align-items: center; justify-content: center; font-size: 3rem;
        }
        .card-content { padding: 1.5rem; }
        .card-title { font-size: 1.2rem; font-weight: 600; color: var(--primary-900); margin-bottom: 0.5rem; }
        .card-price { font-size: 1.5rem; font-weight: 700; color: var(--governor-bay); margin-bottom: 1rem; }
        .card-features {
            display: flex; gap: 0.5rem; margin-bottom: 1rem; flex-wrap: wrap;
        }
        .feature-tag {
            background: var(--primary-100); color: var(--primary-700); padding: 0.25rem 0.75rem;
            border-radius: 50px; font-size: 0.8rem;
        }
        .card-btn {
            width: 100%; background: var(--governor-bay); color: white; border: none;
            padding: 0.75rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer;
        }

        /* Touch Gestures */
        .swipe-indicator {
            text-align: center; padding: 1rem; color: var(--primary-600); font-size: 0.9rem;
        }
        .swipe-dots {
            display: flex; justify-content: center; gap: 0.5rem; margin-top: 1rem;
        }
        .swipe-dot {
            width: 8px; height: 8px; background: var(--primary-300); border-radius: 50%;
            transition: all 0.3s ease;
        }
        .swipe-dot.active { background: var(--governor-bay); transform: scale(1.2); }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed; bottom: 0; left: 0; right: 0; z-index: 1000;
            background: white; height: 70px; display: flex; justify-content: space-around;
            align-items: center; box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            padding-bottom: env(safe-area-inset-bottom);
        }
        .bottom-nav-item {
            display: flex; flex-direction: column; align-items: center; text-decoration: none;
            color: var(--primary-600); font-size: 0.8rem; padding: 0.5rem;
        }
        .bottom-nav-item.active { color: var(--governor-bay); }
        .bottom-nav-icon { font-size: 1.2rem; margin-bottom: 0.25rem; }

        /* Floating Action Button */
        .fab {
            position: fixed; bottom: 90px; right: 1rem; z-index: 999;
            width: 56px; height: 56px; background: linear-gradient(135deg, var(--governor-bay), var(--ocean-blue));
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            color: white; font-size: 1.5rem; box-shadow: 0 8px 25px rgba(37, 83, 235, 0.4);
            cursor: pointer; transition: all 0.3s ease;
        }
        .fab:hover { transform: scale(1.1); }

        /* Pull to Refresh */
        .pull-to-refresh {
            text-align: center; padding: 1rem; color: var(--primary-600);
            transform: translateY(-100%); transition: transform 0.3s ease;
        }
        .pull-to-refresh.visible { transform: translateY(0); }

        /* Touch Feedback */
        .touch-feedback {
            position: relative; overflow: hidden;
        }
        .touch-feedback::after {
            content: ''; position: absolute; top: 50%; left: 50%; width: 0; height: 0;
            background: rgba(255, 255, 255, 0.3); border-radius: 50%;
            transform: translate(-50%, -50%); transition: all 0.3s ease;
        }
        .touch-feedback:active::after { width: 200px; height: 200px; }

        /* Safe Area Support */
        @supports (padding: max(0px)) {
            .mobile-nav { padding-top: max(1rem, env(safe-area-inset-top)); }
            .mobile-hero { padding-top: max(80px, calc(60px + env(safe-area-inset-top))); }
        }
    </style>
</head>
<body>
    <!-- Mobile Navigation -->
    <nav class="mobile-nav">
        <div class="mobile-logo">TravelAI</div>
        <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
            <i class="fas fa-bars"></i>
        </button>
    </nav>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobile-menu-overlay">
        <div class="mobile-menu">
            <button class="mobile-menu-close" onclick="toggleMobileMenu()">√ó</button>
            <div class="mobile-menu-items">
                <a href="index.html" class="mobile-menu-item">üè† Home</a>
                <a href="flights.html" class="mobile-menu-item">‚úàÔ∏è Flights</a>
                <a href="hotels.html" class="mobile-menu-item">üè® Hotels</a>
                <a href="itinerary.html" class="mobile-menu-item">üó∫Ô∏è Itineraries</a>
                <a href="packages.html" class="mobile-menu-item">üì¶ Packages</a>
                <a href="dashboard.html" class="mobile-menu-item">üë§ Dashboard</a>
            </div>
        </div>
    </div>

    <!-- Pull to Refresh -->
    <div class="pull-to-refresh" id="pull-to-refresh">
        <i class="fas fa-sync-alt"></i> Pull to refresh
    </div>

    <!-- Mobile Hero -->
    <section class="mobile-hero">
        <h1 class="hero-title">Your Perfect Trip Awaits</h1>
        <p class="hero-subtitle">AI-powered travel planning in your pocket</p>
        
        <div class="mobile-search">
            <div class="search-tabs">
                <button class="search-tab active" onclick="switchMobileTab('trip')">üó∫Ô∏è Trip</button>
                <button class="search-tab" onclick="switchMobileTab('flight')">‚úàÔ∏è Flight</button>
                <button class="search-tab" onclick="switchMobileTab('hotel')">üè® Hotel</button>
            </div>
            
            <div class="search-content" id="trip-content">
                <input type="text" class="mobile-input" placeholder="Where do you want to go?" id="destination-input">
                <input type="date" class="mobile-input" id="date-input">
                <button class="mobile-cta touch-feedback" onclick="startPlanning()">
                    üöÄ Start Planning
                </button>
            </div>
        </div>
    </section>

    <!-- Swipeable Cards -->
    <section class="mobile-cards">
        <div style="padding: 0 1rem; margin-bottom: 1rem;">
            <h2 style="font-size: 1.5rem; font-weight: 700; color: var(--primary-900);">üî• Hot Deals</h2>
        </div>
        
        <div class="cards-container" id="cards-container">
            <div class="mobile-card">
                <div class="card-image">üèØ</div>
                <div class="card-content">
                    <h3 class="card-title">Japan Adventure</h3>
                    <div class="card-price">$1,299</div>
                    <div class="card-features">
                        <span class="feature-tag">7 Days</span>
                        <span class="feature-tag">Cultural</span>
                        <span class="feature-tag">Food Tours</span>
                    </div>
                    <button class="card-btn touch-feedback" onclick="bookDeal('japan')">Book Now</button>
                </div>
            </div>
            
            <div class="mobile-card">
                <div class="card-image">üèñÔ∏è</div>
                <div class="card-content">
                    <h3 class="card-title">Bali Paradise</h3>
                    <div class="card-price">$899</div>
                    <div class="card-features">
                        <span class="feature-tag">5 Days</span>
                        <span class="feature-tag">Beach</span>
                        <span class="feature-tag">Spa</span>
                    </div>
                    <button class="card-btn touch-feedback" onclick="bookDeal('bali')">Book Now</button>
                </div>
            </div>
            
            <div class="mobile-card">
                <div class="card-image">üèõÔ∏è</div>
                <div class="card-content">
                    <h3 class="card-title">Europe Classic</h3>
                    <div class="card-price">$1,599</div>
                    <div class="card-features">
                        <span class="feature-tag">10 Days</span>
                        <span class="feature-tag">History</span>
                        <span class="feature-tag">Art</span>
                    </div>
                    <button class="card-btn touch-feedback" onclick="bookDeal('europe')">Book Now</button>
                </div>
            </div>
        </div>
        
        <div class="swipe-indicator">‚Üê Swipe to see more deals ‚Üí</div>
        <div class="swipe-dots">
            <div class="swipe-dot active"></div>
            <div class="swipe-dot"></div>
            <div class="swipe-dot"></div>
        </div>
    </section>

    <!-- Floating Action Button -->
    <div class="fab" onclick="quickSearch()">
        <i class="fas fa-search"></i>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="index.html" class="bottom-nav-item active">
            <div class="bottom-nav-icon">üè†</div>
            <div>Home</div>
        </a>
        <a href="advanced-search.html" class="bottom-nav-item">
            <div class="bottom-nav-icon">üîç</div>
            <div>Search</div>
        </a>
        <a href="packages.html" class="bottom-nav-item">
            <div class="bottom-nav-icon">üì¶</div>
            <div>Deals</div>
        </a>
        <a href="dashboard.html" class="bottom-nav-item">
            <div class="bottom-nav-icon">üë§</div>
            <div>Profile</div>
        </a>
    </nav>

    <script>
        // Mobile Menu Toggle
        function toggleMobileMenu() {
            const overlay = document.getElementById('mobile-menu-overlay');
            overlay.classList.toggle('active');
        }

        // Close menu when clicking overlay
        document.getElementById('mobile-menu-overlay').addEventListener('click', function(e) {
            if (e.target === this) {
                toggleMobileMenu();
            }
        });

        // Mobile Tab Switching
        function switchMobileTab(tab) {
            document.querySelectorAll('.search-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            
            // Update placeholder based on tab
            const input = document.getElementById('destination-input');
            const placeholders = {
                trip: 'Where do you want to go?',
                flight: 'From ‚Üí To',
                hotel: 'City or hotel name'
            };
            input.placeholder = placeholders[tab];
        }

        // Touch Gestures for Cards
        let startX = 0;
        let currentX = 0;
        let cardIndex = 0;
        const cardsContainer = document.getElementById('cards-container');
        const dots = document.querySelectorAll('.swipe-dot');

        cardsContainer.addEventListener('touchstart', handleTouchStart, { passive: true });
        cardsContainer.addEventListener('touchmove', handleTouchMove, { passive: true });
        cardsContainer.addEventListener('touchend', handleTouchEnd, { passive: true });

        function handleTouchStart(e) {
            startX = e.touches[0].clientX;
        }

        function handleTouchMove(e) {
            currentX = e.touches[0].clientX;
        }

        function handleTouchEnd() {
            const diffX = startX - currentX;
            const threshold = 50;

            if (Math.abs(diffX) > threshold) {
                if (diffX > 0 && cardIndex < 2) {
                    cardIndex++;
                } else if (diffX < 0 && cardIndex > 0) {
                    cardIndex--;
                }
                updateDots();
            }
        }

        function updateDots() {
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === cardIndex);
            });
        }

        // Pull to Refresh
        let startY = 0;
        let pullDistance = 0;
        const pullToRefresh = document.getElementById('pull-to-refresh');

        document.addEventListener('touchstart', function(e) {
            if (window.scrollY === 0) {
                startY = e.touches[0].clientY;
            }
        }, { passive: true });

        document.addEventListener('touchmove', function(e) {
            if (window.scrollY === 0 && startY > 0) {
                pullDistance = e.touches[0].clientY - startY;
                if (pullDistance > 0) {
                    pullToRefresh.classList.add('visible');
                    if (pullDistance > 100) {
                        pullToRefresh.innerHTML = '<i class="fas fa-sync-alt"></i> Release to refresh';
                    }
                }
            }
        }, { passive: true });

        document.addEventListener('touchend', function() {
            if (pullDistance > 100) {
                // Trigger refresh
                pullToRefresh.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Refreshing...';
                setTimeout(() => {
                    location.reload();
                }, 1000);
            }
            pullToRefresh.classList.remove('visible');
            pullDistance = 0;
            startY = 0;
        }, { passive: true });

        // Functions
        function startPlanning() {
            const destination = document.getElementById('destination-input').value;
            if (destination) {
                location.href = `itinerary.html?destination=${encodeURIComponent(destination)}`;
            } else {
                location.href = 'itinerary.html';
            }
        }

        function bookDeal(destination) {
            location.href = `packages.html?deal=${destination}`;
        }

        function quickSearch() {
            document.getElementById('destination-input').focus();
        }

        // Auto-set today's date
        document.getElementById('date-input').valueAsDate = new Date();

        // Haptic Feedback (if supported)
        function hapticFeedback() {
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
        }

        // Add haptic feedback to buttons
        document.querySelectorAll('.touch-feedback').forEach(button => {
            button.addEventListener('touchstart', hapticFeedback, { passive: true });
        });
    </script>
</body>
</html>