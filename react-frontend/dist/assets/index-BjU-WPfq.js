var sb=Object.defineProperty;var Xp=t=>{throw TypeError(t)};var rb=(t,s,r)=>s in t?sb(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r;var zi=(t,s,r)=>rb(t,typeof s!="symbol"?s+"":s,r),sd=(t,s,r)=>s.has(t)||Xp("Cannot "+r);var de=(t,s,r)=>(sd(t,s,"read from private field"),r?r.call(t):s.get(t)),nt=(t,s,r)=>s.has(t)?Xp("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,r),Ve=(t,s,r,a)=>(sd(t,s,"write to private field"),a?a.call(t,r):s.set(t,r),r),Wt=(t,s,r)=>(sd(t,s,"access private method"),r);var so=(t,s,r,a)=>({set _(i){Ve(t,s,i,r)},get _(){return de(t,s,a)}});function ab(t,s){for(var r=0;r<s.length;r++){const a=s[r];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const n=Object.getOwnPropertyDescriptor(a,i);n&&Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(i){if(i.ep)return;i.ep=!0;const n=r(i);fetch(i.href,n)}})();function Pf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ef={exports:{}},kc={},Df={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=Symbol.for("react.element"),nb=Symbol.for("react.portal"),ib=Symbol.for("react.fragment"),lb=Symbol.for("react.strict_mode"),ob=Symbol.for("react.profiler"),cb=Symbol.for("react.provider"),db=Symbol.for("react.context"),mb=Symbol.for("react.forward_ref"),ub=Symbol.for("react.suspense"),pb=Symbol.for("react.memo"),xb=Symbol.for("react.lazy"),ex=Symbol.iterator;function hb(t){return t===null||typeof t!="object"?null:(t=ex&&t[ex]||t["@@iterator"],typeof t=="function"?t:null)}var Tf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Af=Object.assign,Rf={};function Ti(t,s,r){this.props=t,this.context=s,this.refs=Rf,this.updater=r||Tf}Ti.prototype.isReactComponent={};Ti.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};Ti.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ff(){}Ff.prototype=Ti.prototype;function ru(t,s,r){this.props=t,this.context=s,this.refs=Rf,this.updater=r||Tf}var au=ru.prototype=new Ff;au.constructor=ru;Af(au,Ti.prototype);au.isPureReactComponent=!0;var tx=Array.isArray,If=Object.prototype.hasOwnProperty,nu={current:null},Lf={key:!0,ref:!0,__self:!0,__source:!0};function Mf(t,s,r){var a,i={},n=null,l=null;if(s!=null)for(a in s.ref!==void 0&&(l=s.ref),s.key!==void 0&&(n=""+s.key),s)If.call(s,a)&&!Lf.hasOwnProperty(a)&&(i[a]=s[a]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),m=0;m<o;m++)c[m]=arguments[m+2];i.children=c}if(t&&t.defaultProps)for(a in o=t.defaultProps,o)i[a]===void 0&&(i[a]=o[a]);return{$$typeof:ql,type:t,key:n,ref:l,props:i,_owner:nu.current}}function fb(t,s){return{$$typeof:ql,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function iu(t){return typeof t=="object"&&t!==null&&t.$$typeof===ql}function gb(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return s[r]})}var sx=/\/+/g;function rd(t,s){return typeof t=="object"&&t!==null&&t.key!=null?gb(""+t.key):s.toString(36)}function So(t,s,r,a,i){var n=typeof t;(n==="undefined"||n==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(n){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case ql:case nb:l=!0}}if(l)return l=t,i=i(l),t=a===""?"."+rd(l,0):a,tx(i)?(r="",t!=null&&(r=t.replace(sx,"$&/")+"/"),So(i,s,r,"",function(m){return m})):i!=null&&(iu(i)&&(i=fb(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(sx,"$&/")+"/")+t)),s.push(i)),1;if(l=0,a=a===""?".":a+":",tx(t))for(var o=0;o<t.length;o++){n=t[o];var c=a+rd(n,o);l+=So(n,s,r,c,i)}else if(c=hb(t),typeof c=="function")for(t=c.call(t),o=0;!(n=t.next()).done;)n=n.value,c=a+rd(n,o++),l+=So(n,s,r,c,i);else if(n==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return l}function ro(t,s,r){if(t==null)return t;var a=[],i=0;return So(t,a,"","",function(n){return s.call(r,n,i++)}),a}function yb(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var ns={current:null},ko={transition:null},bb={ReactCurrentDispatcher:ns,ReactCurrentBatchConfig:ko,ReactCurrentOwner:nu};function $f(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:ro,forEach:function(t,s,r){ro(t,function(){s.apply(this,arguments)},r)},count:function(t){var s=0;return ro(t,function(){s++}),s},toArray:function(t){return ro(t,function(s){return s})||[]},only:function(t){if(!iu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ye.Component=Ti;Ye.Fragment=ib;Ye.Profiler=ob;Ye.PureComponent=ru;Ye.StrictMode=lb;Ye.Suspense=ub;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bb;Ye.act=$f;Ye.cloneElement=function(t,s,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var a=Af({},t.props),i=t.key,n=t.ref,l=t._owner;if(s!=null){if(s.ref!==void 0&&(n=s.ref,l=nu.current),s.key!==void 0&&(i=""+s.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in s)If.call(s,c)&&!Lf.hasOwnProperty(c)&&(a[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){o=Array(c);for(var m=0;m<c;m++)o[m]=arguments[m+2];a.children=o}return{$$typeof:ql,type:t.type,key:i,ref:n,props:a,_owner:l}};Ye.createContext=function(t){return t={$$typeof:db,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cb,_context:t},t.Consumer=t};Ye.createElement=Mf;Ye.createFactory=function(t){var s=Mf.bind(null,t);return s.type=t,s};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(t){return{$$typeof:mb,render:t}};Ye.isValidElement=iu;Ye.lazy=function(t){return{$$typeof:xb,_payload:{_status:-1,_result:t},_init:yb}};Ye.memo=function(t,s){return{$$typeof:pb,type:t,compare:s===void 0?null:s}};Ye.startTransition=function(t){var s=ko.transition;ko.transition={};try{t()}finally{ko.transition=s}};Ye.unstable_act=$f;Ye.useCallback=function(t,s){return ns.current.useCallback(t,s)};Ye.useContext=function(t){return ns.current.useContext(t)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(t){return ns.current.useDeferredValue(t)};Ye.useEffect=function(t,s){return ns.current.useEffect(t,s)};Ye.useId=function(){return ns.current.useId()};Ye.useImperativeHandle=function(t,s,r){return ns.current.useImperativeHandle(t,s,r)};Ye.useInsertionEffect=function(t,s){return ns.current.useInsertionEffect(t,s)};Ye.useLayoutEffect=function(t,s){return ns.current.useLayoutEffect(t,s)};Ye.useMemo=function(t,s){return ns.current.useMemo(t,s)};Ye.useReducer=function(t,s,r){return ns.current.useReducer(t,s,r)};Ye.useRef=function(t){return ns.current.useRef(t)};Ye.useState=function(t){return ns.current.useState(t)};Ye.useSyncExternalStore=function(t,s,r){return ns.current.useSyncExternalStore(t,s,r)};Ye.useTransition=function(){return ns.current.useTransition()};Ye.version="18.3.1";Df.exports=Ye;var b=Df.exports;const ht=Pf(b),vb=ab({__proto__:null,default:ht},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jb=b,Nb=Symbol.for("react.element"),wb=Symbol.for("react.fragment"),Sb=Object.prototype.hasOwnProperty,kb=jb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cb={key:!0,ref:!0,__self:!0,__source:!0};function Of(t,s,r){var a,i={},n=null,l=null;r!==void 0&&(n=""+r),s.key!==void 0&&(n=""+s.key),s.ref!==void 0&&(l=s.ref);for(a in s)Sb.call(s,a)&&!Cb.hasOwnProperty(a)&&(i[a]=s[a]);if(t&&t.defaultProps)for(a in s=t.defaultProps,s)i[a]===void 0&&(i[a]=s[a]);return{$$typeof:Nb,type:t,key:n,ref:l,props:i,_owner:kb.current}}kc.Fragment=wb;kc.jsx=Of;kc.jsxs=Of;Ef.exports=kc;var e=Ef.exports,zd={},Bf={exports:{}},Cs={},zf={exports:{}},Uf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(_,H){var V=_.length;_.push(H);e:for(;0<V;){var ae=V-1>>>1,me=_[ae];if(0<i(me,H))_[ae]=H,_[V]=me,V=ae;else break e}}function r(_){return _.length===0?null:_[0]}function a(_){if(_.length===0)return null;var H=_[0],V=_.pop();if(V!==H){_[0]=V;e:for(var ae=0,me=_.length,F=me>>>1;ae<F;){var ee=2*(ae+1)-1,ue=_[ee],S=ee+1,ne=_[S];if(0>i(ue,V))S<me&&0>i(ne,ue)?(_[ae]=ne,_[S]=V,ae=S):(_[ae]=ue,_[ee]=V,ae=ee);else if(S<me&&0>i(ne,V))_[ae]=ne,_[S]=V,ae=S;else break e}}return H}function i(_,H){var V=_.sortIndex-H.sortIndex;return V!==0?V:_.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var n=performance;t.unstable_now=function(){return n.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],m=[],d=1,x=null,p=3,j=!1,g=!1,u=!1,y=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(_){for(var H=r(m);H!==null;){if(H.callback===null)a(m);else if(H.startTime<=_)a(m),H.sortIndex=H.expirationTime,s(c,H);else break;H=r(m)}}function T(_){if(u=!1,v(_),!g)if(r(c)!==null)g=!0,J(P);else{var H=r(m);H!==null&&E(T,H.startTime-_)}}function P(_,H){g=!1,u&&(u=!1,h(U),U=-1),j=!0;var V=p;try{for(v(H),x=r(c);x!==null&&(!(x.expirationTime>H)||_&&!X());){var ae=x.callback;if(typeof ae=="function"){x.callback=null,p=x.priorityLevel;var me=ae(x.expirationTime<=H);H=t.unstable_now(),typeof me=="function"?x.callback=me:x===r(c)&&a(c),v(H)}else a(c);x=r(c)}if(x!==null)var F=!0;else{var ee=r(m);ee!==null&&E(T,ee.startTime-H),F=!1}return F}finally{x=null,p=V,j=!1}}var R=!1,O=null,U=-1,C=5,q=-1;function X(){return!(t.unstable_now()-q<C)}function N(){if(O!==null){var _=t.unstable_now();q=_;var H=!0;try{H=O(!0,_)}finally{H?D():(R=!1,O=null)}}else R=!1}var D;if(typeof f=="function")D=function(){f(N)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,$=G.port2;G.port1.onmessage=N,D=function(){$.postMessage(null)}}else D=function(){y(N,0)};function J(_){O=_,R||(R=!0,D())}function E(_,H){U=y(function(){_(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_continueExecution=function(){g||j||(g=!0,J(P))},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(_){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var V=p;p=H;try{return _()}finally{p=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_,H){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var V=p;p=_;try{return H()}finally{p=V}},t.unstable_scheduleCallback=function(_,H,V){var ae=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ae+V:ae):V=ae,_){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=V+me,_={id:d++,callback:H,priorityLevel:_,startTime:V,expirationTime:me,sortIndex:-1},V>ae?(_.sortIndex=V,s(m,_),r(c)===null&&_===r(m)&&(u?(h(U),U=-1):u=!0,E(T,V-ae))):(_.sortIndex=me,s(c,_),g||j||(g=!0,J(P))),_},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(_){var H=p;return function(){var V=p;p=H;try{return _.apply(this,arguments)}finally{p=V}}}})(Uf);zf.exports=Uf;var _b=zf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb=b,Ss=_b;function he(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vf=new Set,yl={};function $n(t,s){gi(t,s),gi(t+"Capture",s)}function gi(t,s){for(yl[t]=s,t=0;t<s.length;t++)Vf.add(s[t])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ud=Object.prototype.hasOwnProperty,Eb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rx={},ax={};function Db(t){return Ud.call(ax,t)?!0:Ud.call(rx,t)?!1:Eb.test(t)?ax[t]=!0:(rx[t]=!0,!1)}function Tb(t,s,r,a){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ab(t,s,r,a){if(s===null||typeof s>"u"||Tb(t,s,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function is(t,s,r,a,i,n,l){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=s,this.sanitizeURL=n,this.removeEmptyString=l}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qt[t]=new is(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];qt[s]=new is(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qt[t]=new is(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qt[t]=new is(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qt[t]=new is(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qt[t]=new is(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qt[t]=new is(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qt[t]=new is(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qt[t]=new is(t,5,!1,t.toLowerCase(),null,!1,!1)});var lu=/[\-:]([a-z])/g;function ou(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(lu,ou);qt[s]=new is(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(lu,ou);qt[s]=new is(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(lu,ou);qt[s]=new is(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qt[t]=new is(t,1,!1,t.toLowerCase(),null,!1,!1)});qt.xlinkHref=new is("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qt[t]=new is(t,1,!1,t.toLowerCase(),null,!0,!0)});function cu(t,s,r,a){var i=qt.hasOwnProperty(s)?qt[s]:null;(i!==null?i.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(Ab(s,r,i,a)&&(r=null),a||i===null?Db(s)&&(r===null?t.removeAttribute(s):t.setAttribute(s,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(s=i.attributeName,a=i.attributeNamespace,r===null?t.removeAttribute(s):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,a?t.setAttributeNS(a,s,r):t.setAttribute(s,r))))}var $r=Pb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ao=Symbol.for("react.element"),qn=Symbol.for("react.portal"),Wn=Symbol.for("react.fragment"),du=Symbol.for("react.strict_mode"),Vd=Symbol.for("react.profiler"),qf=Symbol.for("react.provider"),Wf=Symbol.for("react.context"),mu=Symbol.for("react.forward_ref"),qd=Symbol.for("react.suspense"),Wd=Symbol.for("react.suspense_list"),uu=Symbol.for("react.memo"),Ea=Symbol.for("react.lazy"),Gf=Symbol.for("react.offscreen"),nx=Symbol.iterator;function Ui(t){return t===null||typeof t!="object"?null:(t=nx&&t[nx]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,ad;function tl(t){if(ad===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);ad=s&&s[1]||""}return`
`+ad+t}var nd=!1;function id(t,s){if(!t||nd)return"";nd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(m){var a=m}Reflect.construct(t,[],s)}else{try{s.call()}catch(m){a=m}t.call(s.prototype)}else{try{throw Error()}catch(m){a=m}t()}}catch(m){if(m&&a&&typeof m.stack=="string"){for(var i=m.stack.split(`
`),n=a.stack.split(`
`),l=i.length-1,o=n.length-1;1<=l&&0<=o&&i[l]!==n[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==n[o]){if(l!==1||o!==1)do if(l--,o--,0>o||i[l]!==n[o]){var c=`
`+i[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=o);break}}}finally{nd=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?tl(t):""}function Rb(t){switch(t.tag){case 5:return tl(t.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 2:case 15:return t=id(t.type,!1),t;case 11:return t=id(t.type.render,!1),t;case 1:return t=id(t.type,!0),t;default:return""}}function Gd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wn:return"Fragment";case qn:return"Portal";case Vd:return"Profiler";case du:return"StrictMode";case qd:return"Suspense";case Wd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wf:return(t.displayName||"Context")+".Consumer";case qf:return(t._context.displayName||"Context")+".Provider";case mu:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uu:return s=t.displayName||null,s!==null?s:Gd(t.type)||"Memo";case Ea:s=t._payload,t=t._init;try{return Gd(t(s))}catch{}}return null}function Fb(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gd(s);case 8:return s===du?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function tn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hf(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ib(t){var s=Hf(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),a=""+t[s];if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,n=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return i.call(this)},set:function(l){a=""+l,n.call(this,l)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function no(t){t._valueTracker||(t._valueTracker=Ib(t))}function Qf(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),a="";return t&&(a=Hf(t)?t.checked?"true":"false":t.value),t=a,t!==r?(s.setValue(t),!0):!1}function Uo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hd(t,s){var r=s.checked;return yt({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ix(t,s){var r=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;r=tn(s.value!=null?s.value:r),t._wrapperState={initialChecked:a,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Zf(t,s){s=s.checked,s!=null&&cu(t,"checked",s,!1)}function Qd(t,s){Zf(t,s);var r=tn(s.value),a=s.type;if(r!=null)a==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?Zd(t,s.type,r):s.hasOwnProperty("defaultValue")&&Zd(t,s.type,tn(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function lx(t,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,r||s===t.value||(t.value=s),t.defaultValue=s}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Zd(t,s,r){(s!=="number"||Uo(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var sl=Array.isArray;function ri(t,s,r,a){if(t=t.options,s){s={};for(var i=0;i<r.length;i++)s["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=s.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&a&&(t[r].defaultSelected=!0)}else{for(r=""+tn(r),s=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,a&&(t[i].defaultSelected=!0);return}s!==null||t[i].disabled||(s=t[i])}s!==null&&(s.selected=!0)}}function Yd(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(he(91));return yt({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ox(t,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(he(92));if(sl(r)){if(1<r.length)throw Error(he(93));r=r[0]}s=r}s==null&&(s=""),r=s}t._wrapperState={initialValue:tn(r)}}function Yf(t,s){var r=tn(s.value),a=tn(s.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),s.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),a!=null&&(t.defaultValue=""+a)}function cx(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function Kf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kd(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?Kf(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var io,Jf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,a,i){MSApp.execUnsafeLocalFunction(function(){return t(s,r,a,i)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(io=io||document.createElement("div"),io.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=io.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function bl(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var il={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lb=["Webkit","ms","Moz","O"];Object.keys(il).forEach(function(t){Lb.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),il[s]=il[t]})});function Xf(t,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||il.hasOwnProperty(t)&&il[t]?(""+s).trim():s+"px"}function eg(t,s){t=t.style;for(var r in s)if(s.hasOwnProperty(r)){var a=r.indexOf("--")===0,i=Xf(r,s[r],a);r==="float"&&(r="cssFloat"),a?t.setProperty(r,i):t[r]=i}}var Mb=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jd(t,s){if(s){if(Mb[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(he(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(he(61))}if(s.style!=null&&typeof s.style!="object")throw Error(he(62))}}function Xd(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var em=null;function pu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tm=null,ai=null,ni=null;function dx(t){if(t=Hl(t)){if(typeof tm!="function")throw Error(he(280));var s=t.stateNode;s&&(s=Dc(s),tm(t.stateNode,t.type,s))}}function tg(t){ai?ni?ni.push(t):ni=[t]:ai=t}function sg(){if(ai){var t=ai,s=ni;if(ni=ai=null,dx(t),s)for(t=0;t<s.length;t++)dx(s[t])}}function rg(t,s){return t(s)}function ag(){}var ld=!1;function ng(t,s,r){if(ld)return t(s,r);ld=!0;try{return rg(t,s,r)}finally{ld=!1,(ai!==null||ni!==null)&&(ag(),sg())}}function vl(t,s){var r=t.stateNode;if(r===null)return null;var a=Dc(r);if(a===null)return null;r=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(he(231,s,typeof r));return r}var sm=!1;if(Tr)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){sm=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{sm=!1}function $b(t,s,r,a,i,n,l,o,c){var m=Array.prototype.slice.call(arguments,3);try{s.apply(r,m)}catch(d){this.onError(d)}}var ll=!1,Vo=null,qo=!1,rm=null,Ob={onError:function(t){ll=!0,Vo=t}};function Bb(t,s,r,a,i,n,l,o,c){ll=!1,Vo=null,$b.apply(Ob,arguments)}function zb(t,s,r,a,i,n,l,o,c){if(Bb.apply(this,arguments),ll){if(ll){var m=Vo;ll=!1,Vo=null}else throw Error(he(198));qo||(qo=!0,rm=m)}}function On(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function ig(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function mx(t){if(On(t)!==t)throw Error(he(188))}function Ub(t){var s=t.alternate;if(!s){if(s=On(t),s===null)throw Error(he(188));return s!==t?null:t}for(var r=t,a=s;;){var i=r.return;if(i===null)break;var n=i.alternate;if(n===null){if(a=i.return,a!==null){r=a;continue}break}if(i.child===n.child){for(n=i.child;n;){if(n===r)return mx(i),t;if(n===a)return mx(i),s;n=n.sibling}throw Error(he(188))}if(r.return!==a.return)r=i,a=n;else{for(var l=!1,o=i.child;o;){if(o===r){l=!0,r=i,a=n;break}if(o===a){l=!0,a=i,r=n;break}o=o.sibling}if(!l){for(o=n.child;o;){if(o===r){l=!0,r=n,a=i;break}if(o===a){l=!0,a=n,r=i;break}o=o.sibling}if(!l)throw Error(he(189))}}if(r.alternate!==a)throw Error(he(190))}if(r.tag!==3)throw Error(he(188));return r.stateNode.current===r?t:s}function lg(t){return t=Ub(t),t!==null?og(t):null}function og(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=og(t);if(s!==null)return s;t=t.sibling}return null}var cg=Ss.unstable_scheduleCallback,ux=Ss.unstable_cancelCallback,Vb=Ss.unstable_shouldYield,qb=Ss.unstable_requestPaint,wt=Ss.unstable_now,Wb=Ss.unstable_getCurrentPriorityLevel,xu=Ss.unstable_ImmediatePriority,dg=Ss.unstable_UserBlockingPriority,Wo=Ss.unstable_NormalPriority,Gb=Ss.unstable_LowPriority,mg=Ss.unstable_IdlePriority,Cc=null,pr=null;function Hb(t){if(pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(Cc,t,void 0,(t.current.flags&128)===128)}catch{}}var Ks=Math.clz32?Math.clz32:Yb,Qb=Math.log,Zb=Math.LN2;function Yb(t){return t>>>=0,t===0?32:31-(Qb(t)/Zb|0)|0}var lo=64,oo=4194304;function rl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Go(t,s){var r=t.pendingLanes;if(r===0)return 0;var a=0,i=t.suspendedLanes,n=t.pingedLanes,l=r&268435455;if(l!==0){var o=l&~i;o!==0?a=rl(o):(n&=l,n!==0&&(a=rl(n)))}else l=r&~i,l!==0?a=rl(l):n!==0&&(a=rl(n));if(a===0)return 0;if(s!==0&&s!==a&&!(s&i)&&(i=a&-a,n=s&-s,i>=n||i===16&&(n&4194240)!==0))return s;if(a&4&&(a|=r&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=a;0<s;)r=31-Ks(s),i=1<<r,a|=t[r],s&=~i;return a}function Kb(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jb(t,s){for(var r=t.suspendedLanes,a=t.pingedLanes,i=t.expirationTimes,n=t.pendingLanes;0<n;){var l=31-Ks(n),o=1<<l,c=i[l];c===-1?(!(o&r)||o&a)&&(i[l]=Kb(o,s)):c<=s&&(t.expiredLanes|=o),n&=~o}}function am(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ug(){var t=lo;return lo<<=1,!(lo&4194240)&&(lo=64),t}function od(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Wl(t,s,r){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Ks(s),t[s]=r}function Xb(t,s){var r=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ks(r),n=1<<i;s[i]=0,a[i]=-1,t[i]=-1,r&=~n}}function hu(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var a=31-Ks(r),i=1<<a;i&s|t[a]&s&&(t[a]|=s),r&=~i}}var lt=0;function pg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xg,fu,hg,fg,gg,nm=!1,co=[],Wa=null,Ga=null,Ha=null,jl=new Map,Nl=new Map,Aa=[],ev="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function px(t,s){switch(t){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":jl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(s.pointerId)}}function qi(t,s,r,a,i,n){return t===null||t.nativeEvent!==n?(t={blockedOn:s,domEventName:r,eventSystemFlags:a,nativeEvent:n,targetContainers:[i]},s!==null&&(s=Hl(s),s!==null&&fu(s)),t):(t.eventSystemFlags|=a,s=t.targetContainers,i!==null&&s.indexOf(i)===-1&&s.push(i),t)}function tv(t,s,r,a,i){switch(s){case"focusin":return Wa=qi(Wa,t,s,r,a,i),!0;case"dragenter":return Ga=qi(Ga,t,s,r,a,i),!0;case"mouseover":return Ha=qi(Ha,t,s,r,a,i),!0;case"pointerover":var n=i.pointerId;return jl.set(n,qi(jl.get(n)||null,t,s,r,a,i)),!0;case"gotpointercapture":return n=i.pointerId,Nl.set(n,qi(Nl.get(n)||null,t,s,r,a,i)),!0}return!1}function yg(t){var s=hn(t.target);if(s!==null){var r=On(s);if(r!==null){if(s=r.tag,s===13){if(s=ig(r),s!==null){t.blockedOn=s,gg(t.priority,function(){hg(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Co(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=im(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var a=new r.constructor(r.type,r);em=a,r.target.dispatchEvent(a),em=null}else return s=Hl(r),s!==null&&fu(s),t.blockedOn=r,!1;s.shift()}return!0}function xx(t,s,r){Co(t)&&r.delete(s)}function sv(){nm=!1,Wa!==null&&Co(Wa)&&(Wa=null),Ga!==null&&Co(Ga)&&(Ga=null),Ha!==null&&Co(Ha)&&(Ha=null),jl.forEach(xx),Nl.forEach(xx)}function Wi(t,s){t.blockedOn===s&&(t.blockedOn=null,nm||(nm=!0,Ss.unstable_scheduleCallback(Ss.unstable_NormalPriority,sv)))}function wl(t){function s(i){return Wi(i,t)}if(0<co.length){Wi(co[0],t);for(var r=1;r<co.length;r++){var a=co[r];a.blockedOn===t&&(a.blockedOn=null)}}for(Wa!==null&&Wi(Wa,t),Ga!==null&&Wi(Ga,t),Ha!==null&&Wi(Ha,t),jl.forEach(s),Nl.forEach(s),r=0;r<Aa.length;r++)a=Aa[r],a.blockedOn===t&&(a.blockedOn=null);for(;0<Aa.length&&(r=Aa[0],r.blockedOn===null);)yg(r),r.blockedOn===null&&Aa.shift()}var ii=$r.ReactCurrentBatchConfig,Ho=!0;function rv(t,s,r,a){var i=lt,n=ii.transition;ii.transition=null;try{lt=1,gu(t,s,r,a)}finally{lt=i,ii.transition=n}}function av(t,s,r,a){var i=lt,n=ii.transition;ii.transition=null;try{lt=4,gu(t,s,r,a)}finally{lt=i,ii.transition=n}}function gu(t,s,r,a){if(Ho){var i=im(t,s,r,a);if(i===null)yd(t,s,a,Qo,r),px(t,a);else if(tv(i,t,s,r,a))a.stopPropagation();else if(px(t,a),s&4&&-1<ev.indexOf(t)){for(;i!==null;){var n=Hl(i);if(n!==null&&xg(n),n=im(t,s,r,a),n===null&&yd(t,s,a,Qo,r),n===i)break;i=n}i!==null&&a.stopPropagation()}else yd(t,s,a,null,r)}}var Qo=null;function im(t,s,r,a){if(Qo=null,t=pu(a),t=hn(t),t!==null)if(s=On(t),s===null)t=null;else if(r=s.tag,r===13){if(t=ig(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Qo=t,null}function bg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wb()){case xu:return 1;case dg:return 4;case Wo:case Gb:return 16;case mg:return 536870912;default:return 16}default:return 16}}var za=null,yu=null,_o=null;function vg(){if(_o)return _o;var t,s=yu,r=s.length,a,i="value"in za?za.value:za.textContent,n=i.length;for(t=0;t<r&&s[t]===i[t];t++);var l=r-t;for(a=1;a<=l&&s[r-a]===i[n-a];a++);return _o=i.slice(t,1<a?1-a:void 0)}function Po(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function mo(){return!0}function hx(){return!1}function _s(t){function s(r,a,i,n,l){this._reactName=r,this._targetInst=i,this.type=a,this.nativeEvent=n,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(n):n[o]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?mo:hx,this.isPropagationStopped=hx,this}return yt(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=mo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=mo)},persist:function(){},isPersistent:mo}),s}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bu=_s(Ai),Gl=yt({},Ai,{view:0,detail:0}),nv=_s(Gl),cd,dd,Gi,_c=yt({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gi&&(Gi&&t.type==="mousemove"?(cd=t.screenX-Gi.screenX,dd=t.screenY-Gi.screenY):dd=cd=0,Gi=t),cd)},movementY:function(t){return"movementY"in t?t.movementY:dd}}),fx=_s(_c),iv=yt({},_c,{dataTransfer:0}),lv=_s(iv),ov=yt({},Gl,{relatedTarget:0}),md=_s(ov),cv=yt({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),dv=_s(cv),mv=yt({},Ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uv=_s(mv),pv=yt({},Ai,{data:0}),gx=_s(pv),xv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gv(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=fv[t])?!!s[t]:!1}function vu(){return gv}var yv=yt({},Gl,{key:function(t){if(t.key){var s=xv[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Po(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vu,charCode:function(t){return t.type==="keypress"?Po(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Po(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bv=_s(yv),vv=yt({},_c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yx=_s(vv),jv=yt({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vu}),Nv=_s(jv),wv=yt({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sv=_s(wv),kv=yt({},_c,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cv=_s(kv),_v=[9,13,27,32],ju=Tr&&"CompositionEvent"in window,ol=null;Tr&&"documentMode"in document&&(ol=document.documentMode);var Pv=Tr&&"TextEvent"in window&&!ol,jg=Tr&&(!ju||ol&&8<ol&&11>=ol),bx=" ",vx=!1;function Ng(t,s){switch(t){case"keyup":return _v.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gn=!1;function Ev(t,s){switch(t){case"compositionend":return wg(s);case"keypress":return s.which!==32?null:(vx=!0,bx);case"textInput":return t=s.data,t===bx&&vx?null:t;default:return null}}function Dv(t,s){if(Gn)return t==="compositionend"||!ju&&Ng(t,s)?(t=vg(),_o=yu=za=null,Gn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return jg&&s.locale!=="ko"?null:s.data;default:return null}}var Tv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jx(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Tv[t.type]:s==="textarea"}function Sg(t,s,r,a){tg(a),s=Zo(s,"onChange"),0<s.length&&(r=new bu("onChange","change",null,r,a),t.push({event:r,listeners:s}))}var cl=null,Sl=null;function Av(t){Ig(t,0)}function Pc(t){var s=Zn(t);if(Qf(s))return t}function Rv(t,s){if(t==="change")return s}var kg=!1;if(Tr){var ud;if(Tr){var pd="oninput"in document;if(!pd){var Nx=document.createElement("div");Nx.setAttribute("oninput","return;"),pd=typeof Nx.oninput=="function"}ud=pd}else ud=!1;kg=ud&&(!document.documentMode||9<document.documentMode)}function wx(){cl&&(cl.detachEvent("onpropertychange",Cg),Sl=cl=null)}function Cg(t){if(t.propertyName==="value"&&Pc(Sl)){var s=[];Sg(s,Sl,t,pu(t)),ng(Av,s)}}function Fv(t,s,r){t==="focusin"?(wx(),cl=s,Sl=r,cl.attachEvent("onpropertychange",Cg)):t==="focusout"&&wx()}function Iv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pc(Sl)}function Lv(t,s){if(t==="click")return Pc(s)}function Mv(t,s){if(t==="input"||t==="change")return Pc(s)}function $v(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var er=typeof Object.is=="function"?Object.is:$v;function kl(t,s){if(er(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),a=Object.keys(s);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var i=r[a];if(!Ud.call(s,i)||!er(t[i],s[i]))return!1}return!0}function Sx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kx(t,s){var r=Sx(t);t=0;for(var a;r;){if(r.nodeType===3){if(a=t+r.textContent.length,t<=s&&a>=s)return{node:r,offset:s-t};t=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Sx(r)}}function _g(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?_g(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Pg(){for(var t=window,s=Uo();s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=Uo(t.document)}return s}function Nu(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function Ov(t){var s=Pg(),r=t.focusedElem,a=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&_g(r.ownerDocument.documentElement,r)){if(a!==null&&Nu(r)){if(s=a.start,t=a.end,t===void 0&&(t=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(t,r.value.length);else if(t=(s=r.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,n=Math.min(a.start,i);a=a.end===void 0?n:Math.min(a.end,i),!t.extend&&n>a&&(i=a,a=n,n=i),i=kx(r,n);var l=kx(r,a);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(s=s.createRange(),s.setStart(i.node,i.offset),t.removeAllRanges(),n>a?(t.addRange(s),t.extend(l.node,l.offset)):(s.setEnd(l.node,l.offset),t.addRange(s)))}}for(s=[],t=r;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)t=s[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Bv=Tr&&"documentMode"in document&&11>=document.documentMode,Hn=null,lm=null,dl=null,om=!1;function Cx(t,s,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;om||Hn==null||Hn!==Uo(a)||(a=Hn,"selectionStart"in a&&Nu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),dl&&kl(dl,a)||(dl=a,a=Zo(lm,"onSelect"),0<a.length&&(s=new bu("onSelect","select",null,s,r),t.push({event:s,listeners:a}),s.target=Hn)))}function uo(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var Qn={animationend:uo("Animation","AnimationEnd"),animationiteration:uo("Animation","AnimationIteration"),animationstart:uo("Animation","AnimationStart"),transitionend:uo("Transition","TransitionEnd")},xd={},Eg={};Tr&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete Qn.animationend.animation,delete Qn.animationiteration.animation,delete Qn.animationstart.animation),"TransitionEvent"in window||delete Qn.transitionend.transition);function Ec(t){if(xd[t])return xd[t];if(!Qn[t])return t;var s=Qn[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in Eg)return xd[t]=s[r];return t}var Dg=Ec("animationend"),Tg=Ec("animationiteration"),Ag=Ec("animationstart"),Rg=Ec("transitionend"),Fg=new Map,_x="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nn(t,s){Fg.set(t,s),$n(s,[t])}for(var hd=0;hd<_x.length;hd++){var fd=_x[hd],zv=fd.toLowerCase(),Uv=fd[0].toUpperCase()+fd.slice(1);nn(zv,"on"+Uv)}nn(Dg,"onAnimationEnd");nn(Tg,"onAnimationIteration");nn(Ag,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(Rg,"onTransitionEnd");gi("onMouseEnter",["mouseout","mouseover"]);gi("onMouseLeave",["mouseout","mouseover"]);gi("onPointerEnter",["pointerout","pointerover"]);gi("onPointerLeave",["pointerout","pointerover"]);$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$n("onBeforeInput",["compositionend","keypress","textInput","paste"]);$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vv=new Set("cancel close invalid load scroll toggle".split(" ").concat(al));function Px(t,s,r){var a=t.type||"unknown-event";t.currentTarget=r,zb(a,s,void 0,t),t.currentTarget=null}function Ig(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var a=t[r],i=a.event;a=a.listeners;e:{var n=void 0;if(s)for(var l=a.length-1;0<=l;l--){var o=a[l],c=o.instance,m=o.currentTarget;if(o=o.listener,c!==n&&i.isPropagationStopped())break e;Px(i,o,m),n=c}else for(l=0;l<a.length;l++){if(o=a[l],c=o.instance,m=o.currentTarget,o=o.listener,c!==n&&i.isPropagationStopped())break e;Px(i,o,m),n=c}}}if(qo)throw t=rm,qo=!1,rm=null,t}function ut(t,s){var r=s[pm];r===void 0&&(r=s[pm]=new Set);var a=t+"__bubble";r.has(a)||(Lg(s,t,2,!1),r.add(a))}function gd(t,s,r){var a=0;s&&(a|=4),Lg(r,t,a,s)}var po="_reactListening"+Math.random().toString(36).slice(2);function Cl(t){if(!t[po]){t[po]=!0,Vf.forEach(function(r){r!=="selectionchange"&&(Vv.has(r)||gd(r,!1,t),gd(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[po]||(s[po]=!0,gd("selectionchange",!1,s))}}function Lg(t,s,r,a){switch(bg(s)){case 1:var i=rv;break;case 4:i=av;break;default:i=gu}r=i.bind(null,s,r,t),i=void 0,!sm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(i=!0),a?i!==void 0?t.addEventListener(s,r,{capture:!0,passive:i}):t.addEventListener(s,r,!0):i!==void 0?t.addEventListener(s,r,{passive:i}):t.addEventListener(s,r,!1)}function yd(t,s,r,a,i){var n=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var o=a.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(l===4)for(l=a.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;o!==null;){if(l=hn(o),l===null)return;if(c=l.tag,c===5||c===6){a=n=l;continue e}o=o.parentNode}}a=a.return}ng(function(){var m=n,d=pu(r),x=[];e:{var p=Fg.get(t);if(p!==void 0){var j=bu,g=t;switch(t){case"keypress":if(Po(r)===0)break e;case"keydown":case"keyup":j=bv;break;case"focusin":g="focus",j=md;break;case"focusout":g="blur",j=md;break;case"beforeblur":case"afterblur":j=md;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=fx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=lv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Nv;break;case Dg:case Tg:case Ag:j=dv;break;case Rg:j=Sv;break;case"scroll":j=nv;break;case"wheel":j=Cv;break;case"copy":case"cut":case"paste":j=uv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=yx}var u=(s&4)!==0,y=!u&&t==="scroll",h=u?p!==null?p+"Capture":null:p;u=[];for(var f=m,v;f!==null;){v=f;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,h!==null&&(T=vl(f,h),T!=null&&u.push(_l(f,T,v)))),y)break;f=f.return}0<u.length&&(p=new j(p,g,null,r,d),x.push({event:p,listeners:u}))}}if(!(s&7)){e:{if(p=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",p&&r!==em&&(g=r.relatedTarget||r.fromElement)&&(hn(g)||g[Ar]))break e;if((j||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,j?(g=r.relatedTarget||r.toElement,j=m,g=g?hn(g):null,g!==null&&(y=On(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(j=null,g=m),j!==g)){if(u=fx,T="onMouseLeave",h="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(u=yx,T="onPointerLeave",h="onPointerEnter",f="pointer"),y=j==null?p:Zn(j),v=g==null?p:Zn(g),p=new u(T,f+"leave",j,r,d),p.target=y,p.relatedTarget=v,T=null,hn(d)===m&&(u=new u(h,f+"enter",g,r,d),u.target=v,u.relatedTarget=y,T=u),y=T,j&&g)t:{for(u=j,h=g,f=0,v=u;v;v=zn(v))f++;for(v=0,T=h;T;T=zn(T))v++;for(;0<f-v;)u=zn(u),f--;for(;0<v-f;)h=zn(h),v--;for(;f--;){if(u===h||h!==null&&u===h.alternate)break t;u=zn(u),h=zn(h)}u=null}else u=null;j!==null&&Ex(x,p,j,u,!1),g!==null&&y!==null&&Ex(x,y,g,u,!0)}}e:{if(p=m?Zn(m):window,j=p.nodeName&&p.nodeName.toLowerCase(),j==="select"||j==="input"&&p.type==="file")var P=Rv;else if(jx(p))if(kg)P=Mv;else{P=Iv;var R=Fv}else(j=p.nodeName)&&j.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=Lv);if(P&&(P=P(t,m))){Sg(x,P,r,d);break e}R&&R(t,p,m),t==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&Zd(p,"number",p.value)}switch(R=m?Zn(m):window,t){case"focusin":(jx(R)||R.contentEditable==="true")&&(Hn=R,lm=m,dl=null);break;case"focusout":dl=lm=Hn=null;break;case"mousedown":om=!0;break;case"contextmenu":case"mouseup":case"dragend":om=!1,Cx(x,r,d);break;case"selectionchange":if(Bv)break;case"keydown":case"keyup":Cx(x,r,d)}var O;if(ju)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Gn?Ng(t,r)&&(U="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(U="onCompositionStart");U&&(jg&&r.locale!=="ko"&&(Gn||U!=="onCompositionStart"?U==="onCompositionEnd"&&Gn&&(O=vg()):(za=d,yu="value"in za?za.value:za.textContent,Gn=!0)),R=Zo(m,U),0<R.length&&(U=new gx(U,t,null,r,d),x.push({event:U,listeners:R}),O?U.data=O:(O=wg(r),O!==null&&(U.data=O)))),(O=Pv?Ev(t,r):Dv(t,r))&&(m=Zo(m,"onBeforeInput"),0<m.length&&(d=new gx("onBeforeInput","beforeinput",null,r,d),x.push({event:d,listeners:m}),d.data=O))}Ig(x,s)})}function _l(t,s,r){return{instance:t,listener:s,currentTarget:r}}function Zo(t,s){for(var r=s+"Capture",a=[];t!==null;){var i=t,n=i.stateNode;i.tag===5&&n!==null&&(i=n,n=vl(t,r),n!=null&&a.unshift(_l(t,n,i)),n=vl(t,s),n!=null&&a.push(_l(t,n,i))),t=t.return}return a}function zn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ex(t,s,r,a,i){for(var n=s._reactName,l=[];r!==null&&r!==a;){var o=r,c=o.alternate,m=o.stateNode;if(c!==null&&c===a)break;o.tag===5&&m!==null&&(o=m,i?(c=vl(r,n),c!=null&&l.unshift(_l(r,c,o))):i||(c=vl(r,n),c!=null&&l.push(_l(r,c,o)))),r=r.return}l.length!==0&&t.push({event:s,listeners:l})}var qv=/\r\n?/g,Wv=/\u0000|\uFFFD/g;function Dx(t){return(typeof t=="string"?t:""+t).replace(qv,`
`).replace(Wv,"")}function xo(t,s,r){if(s=Dx(s),Dx(t)!==s&&r)throw Error(he(425))}function Yo(){}var cm=null,dm=null;function mm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var um=typeof setTimeout=="function"?setTimeout:void 0,Gv=typeof clearTimeout=="function"?clearTimeout:void 0,Tx=typeof Promise=="function"?Promise:void 0,Hv=typeof queueMicrotask=="function"?queueMicrotask:typeof Tx<"u"?function(t){return Tx.resolve(null).then(t).catch(Qv)}:um;function Qv(t){setTimeout(function(){throw t})}function bd(t,s){var r=s,a=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(a===0){t.removeChild(i),wl(s);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=i}while(r);wl(s)}function Qa(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function Ax(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return t;s--}else r==="/$"&&s++}t=t.previousSibling}return null}var Ri=Math.random().toString(36).slice(2),mr="__reactFiber$"+Ri,Pl="__reactProps$"+Ri,Ar="__reactContainer$"+Ri,pm="__reactEvents$"+Ri,Zv="__reactListeners$"+Ri,Yv="__reactHandles$"+Ri;function hn(t){var s=t[mr];if(s)return s;for(var r=t.parentNode;r;){if(s=r[Ar]||r[mr]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=Ax(t);t!==null;){if(r=t[mr])return r;t=Ax(t)}return s}t=r,r=t.parentNode}return null}function Hl(t){return t=t[mr]||t[Ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function Dc(t){return t[Pl]||null}var xm=[],Yn=-1;function ln(t){return{current:t}}function pt(t){0>Yn||(t.current=xm[Yn],xm[Yn]=null,Yn--)}function mt(t,s){Yn++,xm[Yn]=t.current,t.current=s}var sn={},Kt=ln(sn),xs=ln(!1),Tn=sn;function yi(t,s){var r=t.type.contextTypes;if(!r)return sn;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var i={},n;for(n in r)i[n]=s[n];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),i}function hs(t){return t=t.childContextTypes,t!=null}function Ko(){pt(xs),pt(Kt)}function Rx(t,s,r){if(Kt.current!==sn)throw Error(he(168));mt(Kt,s),mt(xs,r)}function Mg(t,s,r){var a=t.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var i in a)if(!(i in s))throw Error(he(108,Fb(t)||"Unknown",i));return yt({},r,a)}function Jo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sn,Tn=Kt.current,mt(Kt,t),mt(xs,xs.current),!0}function Fx(t,s,r){var a=t.stateNode;if(!a)throw Error(he(169));r?(t=Mg(t,s,Tn),a.__reactInternalMemoizedMergedChildContext=t,pt(xs),pt(Kt),mt(Kt,t)):pt(xs),mt(xs,r)}var Sr=null,Tc=!1,vd=!1;function $g(t){Sr===null?Sr=[t]:Sr.push(t)}function Kv(t){Tc=!0,$g(t)}function on(){if(!vd&&Sr!==null){vd=!0;var t=0,s=lt;try{var r=Sr;for(lt=1;t<r.length;t++){var a=r[t];do a=a(!0);while(a!==null)}Sr=null,Tc=!1}catch(i){throw Sr!==null&&(Sr=Sr.slice(t+1)),cg(xu,on),i}finally{lt=s,vd=!1}}return null}var Kn=[],Jn=0,Xo=null,ec=0,Ts=[],As=0,An=null,Cr=1,_r="";function pn(t,s){Kn[Jn++]=ec,Kn[Jn++]=Xo,Xo=t,ec=s}function Og(t,s,r){Ts[As++]=Cr,Ts[As++]=_r,Ts[As++]=An,An=t;var a=Cr;t=_r;var i=32-Ks(a)-1;a&=~(1<<i),r+=1;var n=32-Ks(s)+i;if(30<n){var l=i-i%5;n=(a&(1<<l)-1).toString(32),a>>=l,i-=l,Cr=1<<32-Ks(s)+i|r<<i|a,_r=n+t}else Cr=1<<n|r<<i|a,_r=t}function wu(t){t.return!==null&&(pn(t,1),Og(t,1,0))}function Su(t){for(;t===Xo;)Xo=Kn[--Jn],Kn[Jn]=null,ec=Kn[--Jn],Kn[Jn]=null;for(;t===An;)An=Ts[--As],Ts[As]=null,_r=Ts[--As],Ts[As]=null,Cr=Ts[--As],Ts[As]=null}var Ns=null,js=null,xt=!1,Hs=null;function Bg(t,s){var r=Rs(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=t,s=t.deletions,s===null?(t.deletions=[r],t.flags|=16):s.push(r)}function Ix(t,s){switch(t.tag){case 5:var r=t.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,Ns=t,js=Qa(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,Ns=t,js=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=An!==null?{id:Cr,overflow:_r}:null,t.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=Rs(18,null,null,0),r.stateNode=s,r.return=t,t.child=r,Ns=t,js=null,!0):!1;default:return!1}}function hm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fm(t){if(xt){var s=js;if(s){var r=s;if(!Ix(t,s)){if(hm(t))throw Error(he(418));s=Qa(r.nextSibling);var a=Ns;s&&Ix(t,s)?Bg(a,r):(t.flags=t.flags&-4097|2,xt=!1,Ns=t)}}else{if(hm(t))throw Error(he(418));t.flags=t.flags&-4097|2,xt=!1,Ns=t}}}function Lx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ns=t}function ho(t){if(t!==Ns)return!1;if(!xt)return Lx(t),xt=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!mm(t.type,t.memoizedProps)),s&&(s=js)){if(hm(t))throw zg(),Error(he(418));for(;s;)Bg(t,s),s=Qa(s.nextSibling)}if(Lx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(s===0){js=Qa(t.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}t=t.nextSibling}js=null}}else js=Ns?Qa(t.stateNode.nextSibling):null;return!0}function zg(){for(var t=js;t;)t=Qa(t.nextSibling)}function bi(){js=Ns=null,xt=!1}function ku(t){Hs===null?Hs=[t]:Hs.push(t)}var Jv=$r.ReactCurrentBatchConfig;function Hi(t,s,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(he(309));var a=r.stateNode}if(!a)throw Error(he(147,t));var i=a,n=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===n?s.ref:(s=function(l){var o=i.refs;l===null?delete o[n]:o[n]=l},s._stringRef=n,s)}if(typeof t!="string")throw Error(he(284));if(!r._owner)throw Error(he(290,t))}return t}function fo(t,s){throw t=Object.prototype.toString.call(s),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function Mx(t){var s=t._init;return s(t._payload)}function Ug(t){function s(h,f){if(t){var v=h.deletions;v===null?(h.deletions=[f],h.flags|=16):v.push(f)}}function r(h,f){if(!t)return null;for(;f!==null;)s(h,f),f=f.sibling;return null}function a(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function i(h,f){return h=Ja(h,f),h.index=0,h.sibling=null,h}function n(h,f,v){return h.index=v,t?(v=h.alternate,v!==null?(v=v.index,v<f?(h.flags|=2,f):v):(h.flags|=2,f)):(h.flags|=1048576,f)}function l(h){return t&&h.alternate===null&&(h.flags|=2),h}function o(h,f,v,T){return f===null||f.tag!==6?(f=_d(v,h.mode,T),f.return=h,f):(f=i(f,v),f.return=h,f)}function c(h,f,v,T){var P=v.type;return P===Wn?d(h,f,v.props.children,T,v.key):f!==null&&(f.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ea&&Mx(P)===f.type)?(T=i(f,v.props),T.ref=Hi(h,f,v),T.return=h,T):(T=Io(v.type,v.key,v.props,null,h.mode,T),T.ref=Hi(h,f,v),T.return=h,T)}function m(h,f,v,T){return f===null||f.tag!==4||f.stateNode.containerInfo!==v.containerInfo||f.stateNode.implementation!==v.implementation?(f=Pd(v,h.mode,T),f.return=h,f):(f=i(f,v.children||[]),f.return=h,f)}function d(h,f,v,T,P){return f===null||f.tag!==7?(f=En(v,h.mode,T,P),f.return=h,f):(f=i(f,v),f.return=h,f)}function x(h,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return f=_d(""+f,h.mode,v),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ao:return v=Io(f.type,f.key,f.props,null,h.mode,v),v.ref=Hi(h,null,f),v.return=h,v;case qn:return f=Pd(f,h.mode,v),f.return=h,f;case Ea:var T=f._init;return x(h,T(f._payload),v)}if(sl(f)||Ui(f))return f=En(f,h.mode,v,null),f.return=h,f;fo(h,f)}return null}function p(h,f,v,T){var P=f!==null?f.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return P!==null?null:o(h,f,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ao:return v.key===P?c(h,f,v,T):null;case qn:return v.key===P?m(h,f,v,T):null;case Ea:return P=v._init,p(h,f,P(v._payload),T)}if(sl(v)||Ui(v))return P!==null?null:d(h,f,v,T,null);fo(h,v)}return null}function j(h,f,v,T,P){if(typeof T=="string"&&T!==""||typeof T=="number")return h=h.get(v)||null,o(f,h,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ao:return h=h.get(T.key===null?v:T.key)||null,c(f,h,T,P);case qn:return h=h.get(T.key===null?v:T.key)||null,m(f,h,T,P);case Ea:var R=T._init;return j(h,f,v,R(T._payload),P)}if(sl(T)||Ui(T))return h=h.get(v)||null,d(f,h,T,P,null);fo(f,T)}return null}function g(h,f,v,T){for(var P=null,R=null,O=f,U=f=0,C=null;O!==null&&U<v.length;U++){O.index>U?(C=O,O=null):C=O.sibling;var q=p(h,O,v[U],T);if(q===null){O===null&&(O=C);break}t&&O&&q.alternate===null&&s(h,O),f=n(q,f,U),R===null?P=q:R.sibling=q,R=q,O=C}if(U===v.length)return r(h,O),xt&&pn(h,U),P;if(O===null){for(;U<v.length;U++)O=x(h,v[U],T),O!==null&&(f=n(O,f,U),R===null?P=O:R.sibling=O,R=O);return xt&&pn(h,U),P}for(O=a(h,O);U<v.length;U++)C=j(O,h,U,v[U],T),C!==null&&(t&&C.alternate!==null&&O.delete(C.key===null?U:C.key),f=n(C,f,U),R===null?P=C:R.sibling=C,R=C);return t&&O.forEach(function(X){return s(h,X)}),xt&&pn(h,U),P}function u(h,f,v,T){var P=Ui(v);if(typeof P!="function")throw Error(he(150));if(v=P.call(v),v==null)throw Error(he(151));for(var R=P=null,O=f,U=f=0,C=null,q=v.next();O!==null&&!q.done;U++,q=v.next()){O.index>U?(C=O,O=null):C=O.sibling;var X=p(h,O,q.value,T);if(X===null){O===null&&(O=C);break}t&&O&&X.alternate===null&&s(h,O),f=n(X,f,U),R===null?P=X:R.sibling=X,R=X,O=C}if(q.done)return r(h,O),xt&&pn(h,U),P;if(O===null){for(;!q.done;U++,q=v.next())q=x(h,q.value,T),q!==null&&(f=n(q,f,U),R===null?P=q:R.sibling=q,R=q);return xt&&pn(h,U),P}for(O=a(h,O);!q.done;U++,q=v.next())q=j(O,h,U,q.value,T),q!==null&&(t&&q.alternate!==null&&O.delete(q.key===null?U:q.key),f=n(q,f,U),R===null?P=q:R.sibling=q,R=q);return t&&O.forEach(function(N){return s(h,N)}),xt&&pn(h,U),P}function y(h,f,v,T){if(typeof v=="object"&&v!==null&&v.type===Wn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ao:e:{for(var P=v.key,R=f;R!==null;){if(R.key===P){if(P=v.type,P===Wn){if(R.tag===7){r(h,R.sibling),f=i(R,v.props.children),f.return=h,h=f;break e}}else if(R.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ea&&Mx(P)===R.type){r(h,R.sibling),f=i(R,v.props),f.ref=Hi(h,R,v),f.return=h,h=f;break e}r(h,R);break}else s(h,R);R=R.sibling}v.type===Wn?(f=En(v.props.children,h.mode,T,v.key),f.return=h,h=f):(T=Io(v.type,v.key,v.props,null,h.mode,T),T.ref=Hi(h,f,v),T.return=h,h=T)}return l(h);case qn:e:{for(R=v.key;f!==null;){if(f.key===R)if(f.tag===4&&f.stateNode.containerInfo===v.containerInfo&&f.stateNode.implementation===v.implementation){r(h,f.sibling),f=i(f,v.children||[]),f.return=h,h=f;break e}else{r(h,f);break}else s(h,f);f=f.sibling}f=Pd(v,h.mode,T),f.return=h,h=f}return l(h);case Ea:return R=v._init,y(h,f,R(v._payload),T)}if(sl(v))return g(h,f,v,T);if(Ui(v))return u(h,f,v,T);fo(h,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,f!==null&&f.tag===6?(r(h,f.sibling),f=i(f,v),f.return=h,h=f):(r(h,f),f=_d(v,h.mode,T),f.return=h,h=f),l(h)):r(h,f)}return y}var vi=Ug(!0),Vg=Ug(!1),tc=ln(null),sc=null,Xn=null,Cu=null;function _u(){Cu=Xn=sc=null}function Pu(t){var s=tc.current;pt(tc),t._currentValue=s}function gm(t,s,r){for(;t!==null;){var a=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),t===r)break;t=t.return}}function li(t,s){sc=t,Cu=Xn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(ps=!0),t.firstContext=null)}function Is(t){var s=t._currentValue;if(Cu!==t)if(t={context:t,memoizedValue:s,next:null},Xn===null){if(sc===null)throw Error(he(308));Xn=t,sc.dependencies={lanes:0,firstContext:t}}else Xn=Xn.next=t;return s}var fn=null;function Eu(t){fn===null?fn=[t]:fn.push(t)}function qg(t,s,r,a){var i=s.interleaved;return i===null?(r.next=r,Eu(s)):(r.next=i.next,i.next=r),s.interleaved=r,Rr(t,a)}function Rr(t,s){t.lanes|=s;var r=t.alternate;for(r!==null&&(r.lanes|=s),r=t,t=t.return;t!==null;)t.childLanes|=s,r=t.alternate,r!==null&&(r.childLanes|=s),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Da=!1;function Du(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wg(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Er(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Za(t,s,r){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,st&2){var i=a.pending;return i===null?s.next=s:(s.next=i.next,i.next=s),a.pending=s,Rr(t,r)}return i=a.interleaved,i===null?(s.next=s,Eu(a)):(s.next=i.next,i.next=s),a.interleaved=s,Rr(t,r)}function Eo(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var a=s.lanes;a&=t.pendingLanes,r|=a,s.lanes=r,hu(t,r)}}function $x(t,s){var r=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var i=null,n=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};n===null?i=n=l:n=n.next=l,r=r.next}while(r!==null);n===null?i=n=s:n=n.next=s}else i=n=s;r={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:n,shared:a.shared,effects:a.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}function rc(t,s,r,a){var i=t.updateQueue;Da=!1;var n=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,m=c.next;c.next=null,l===null?n=m:l.next=m,l=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=m:o.next=m,d.lastBaseUpdate=c))}if(n!==null){var x=i.baseState;l=0,d=m=c=null,o=n;do{var p=o.lane,j=o.eventTime;if((a&p)===p){d!==null&&(d=d.next={eventTime:j,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,u=o;switch(p=s,j=r,u.tag){case 1:if(g=u.payload,typeof g=="function"){x=g.call(j,x,p);break e}x=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=u.payload,p=typeof g=="function"?g.call(j,x,p):g,p==null)break e;x=yt({},x,p);break e;case 2:Da=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else j={eventTime:j,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(m=d=j,c=x):d=d.next=j,l|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(c=x),i.baseState=c,i.firstBaseUpdate=m,i.lastBaseUpdate=d,s=i.shared.interleaved,s!==null){i=s;do l|=i.lane,i=i.next;while(i!==s)}else n===null&&(i.shared.lanes=0);Fn|=l,t.lanes=l,t.memoizedState=x}}function Ox(t,s,r){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var a=t[s],i=a.callback;if(i!==null){if(a.callback=null,a=r,typeof i!="function")throw Error(he(191,i));i.call(a)}}}var Ql={},xr=ln(Ql),El=ln(Ql),Dl=ln(Ql);function gn(t){if(t===Ql)throw Error(he(174));return t}function Tu(t,s){switch(mt(Dl,s),mt(El,t),mt(xr,Ql),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Kd(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=Kd(s,t)}pt(xr),mt(xr,s)}function ji(){pt(xr),pt(El),pt(Dl)}function Gg(t){gn(Dl.current);var s=gn(xr.current),r=Kd(s,t.type);s!==r&&(mt(El,t),mt(xr,r))}function Au(t){El.current===t&&(pt(xr),pt(El))}var ft=ln(0);function ac(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var jd=[];function Ru(){for(var t=0;t<jd.length;t++)jd[t]._workInProgressVersionPrimary=null;jd.length=0}var Do=$r.ReactCurrentDispatcher,Nd=$r.ReactCurrentBatchConfig,Rn=0,gt=null,Rt=null,Ot=null,nc=!1,ml=!1,Tl=0,Xv=0;function Gt(){throw Error(he(321))}function Fu(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!er(t[r],s[r]))return!1;return!0}function Iu(t,s,r,a,i,n){if(Rn=n,gt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Do.current=t===null||t.memoizedState===null?rj:aj,t=r(a,i),ml){n=0;do{if(ml=!1,Tl=0,25<=n)throw Error(he(301));n+=1,Ot=Rt=null,s.updateQueue=null,Do.current=nj,t=r(a,i)}while(ml)}if(Do.current=ic,s=Rt!==null&&Rt.next!==null,Rn=0,Ot=Rt=gt=null,nc=!1,s)throw Error(he(300));return t}function Lu(){var t=Tl!==0;return Tl=0,t}function nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?gt.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Ls(){if(Rt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var s=Ot===null?gt.memoizedState:Ot.next;if(s!==null)Ot=s,Rt=t;else{if(t===null)throw Error(he(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Ot===null?gt.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Al(t,s){return typeof s=="function"?s(t):s}function wd(t){var s=Ls(),r=s.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=t;var a=Rt,i=a.baseQueue,n=r.pending;if(n!==null){if(i!==null){var l=i.next;i.next=n.next,n.next=l}a.baseQueue=i=n,r.pending=null}if(i!==null){n=i.next,a=a.baseState;var o=l=null,c=null,m=n;do{var d=m.lane;if((Rn&d)===d)c!==null&&(c=c.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),a=m.hasEagerState?m.eagerState:t(a,m.action);else{var x={lane:d,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};c===null?(o=c=x,l=a):c=c.next=x,gt.lanes|=d,Fn|=d}m=m.next}while(m!==null&&m!==n);c===null?l=a:c.next=o,er(a,s.memoizedState)||(ps=!0),s.memoizedState=a,s.baseState=l,s.baseQueue=c,r.lastRenderedState=a}if(t=r.interleaved,t!==null){i=t;do n=i.lane,gt.lanes|=n,Fn|=n,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function Sd(t){var s=Ls(),r=s.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=t;var a=r.dispatch,i=r.pending,n=s.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do n=t(n,l.action),l=l.next;while(l!==i);er(n,s.memoizedState)||(ps=!0),s.memoizedState=n,s.baseQueue===null&&(s.baseState=n),r.lastRenderedState=n}return[n,a]}function Hg(){}function Qg(t,s){var r=gt,a=Ls(),i=s(),n=!er(a.memoizedState,i);if(n&&(a.memoizedState=i,ps=!0),a=a.queue,Mu(Kg.bind(null,r,a,t),[t]),a.getSnapshot!==s||n||Ot!==null&&Ot.memoizedState.tag&1){if(r.flags|=2048,Rl(9,Yg.bind(null,r,a,i,s),void 0,null),Bt===null)throw Error(he(349));Rn&30||Zg(r,s,i)}return i}function Zg(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=gt.updateQueue,s===null?(s={lastEffect:null,stores:null},gt.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function Yg(t,s,r,a){s.value=r,s.getSnapshot=a,Jg(s)&&Xg(t)}function Kg(t,s,r){return r(function(){Jg(s)&&Xg(t)})}function Jg(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!er(t,r)}catch{return!0}}function Xg(t){var s=Rr(t,1);s!==null&&Js(s,t,1,-1)}function Bx(t){var s=nr();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:t},s.queue=t,t=t.dispatch=sj.bind(null,gt,t),[s.memoizedState,t]}function Rl(t,s,r,a){return t={tag:t,create:s,destroy:r,deps:a,next:null},s=gt.updateQueue,s===null?(s={lastEffect:null,stores:null},gt.updateQueue=s,s.lastEffect=t.next=t):(r=s.lastEffect,r===null?s.lastEffect=t.next=t:(a=r.next,r.next=t,t.next=a,s.lastEffect=t)),t}function e0(){return Ls().memoizedState}function To(t,s,r,a){var i=nr();gt.flags|=t,i.memoizedState=Rl(1|s,r,void 0,a===void 0?null:a)}function Ac(t,s,r,a){var i=Ls();a=a===void 0?null:a;var n=void 0;if(Rt!==null){var l=Rt.memoizedState;if(n=l.destroy,a!==null&&Fu(a,l.deps)){i.memoizedState=Rl(s,r,n,a);return}}gt.flags|=t,i.memoizedState=Rl(1|s,r,n,a)}function zx(t,s){return To(8390656,8,t,s)}function Mu(t,s){return Ac(2048,8,t,s)}function t0(t,s){return Ac(4,2,t,s)}function s0(t,s){return Ac(4,4,t,s)}function r0(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function a0(t,s,r){return r=r!=null?r.concat([t]):null,Ac(4,4,r0.bind(null,s,t),r)}function $u(){}function n0(t,s){var r=Ls();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&Fu(s,a[1])?a[0]:(r.memoizedState=[t,s],t)}function i0(t,s){var r=Ls();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&Fu(s,a[1])?a[0]:(t=t(),r.memoizedState=[t,s],t)}function l0(t,s,r){return Rn&21?(er(r,s)||(r=ug(),gt.lanes|=r,Fn|=r,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,ps=!0),t.memoizedState=r)}function ej(t,s){var r=lt;lt=r!==0&&4>r?r:4,t(!0);var a=Nd.transition;Nd.transition={};try{t(!1),s()}finally{lt=r,Nd.transition=a}}function o0(){return Ls().memoizedState}function tj(t,s,r){var a=Ka(t);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},c0(t))d0(s,r);else if(r=qg(t,s,r,a),r!==null){var i=as();Js(r,t,a,i),m0(r,s,a)}}function sj(t,s,r){var a=Ka(t),i={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(c0(t))d0(s,i);else{var n=t.alternate;if(t.lanes===0&&(n===null||n.lanes===0)&&(n=s.lastRenderedReducer,n!==null))try{var l=s.lastRenderedState,o=n(l,r);if(i.hasEagerState=!0,i.eagerState=o,er(o,l)){var c=s.interleaved;c===null?(i.next=i,Eu(s)):(i.next=c.next,c.next=i),s.interleaved=i;return}}catch{}finally{}r=qg(t,s,i,a),r!==null&&(i=as(),Js(r,t,a,i),m0(r,s,a))}}function c0(t){var s=t.alternate;return t===gt||s!==null&&s===gt}function d0(t,s){ml=nc=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function m0(t,s,r){if(r&4194240){var a=s.lanes;a&=t.pendingLanes,r|=a,s.lanes=r,hu(t,r)}}var ic={readContext:Is,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},rj={readContext:Is,useCallback:function(t,s){return nr().memoizedState=[t,s===void 0?null:s],t},useContext:Is,useEffect:zx,useImperativeHandle:function(t,s,r){return r=r!=null?r.concat([t]):null,To(4194308,4,r0.bind(null,s,t),r)},useLayoutEffect:function(t,s){return To(4194308,4,t,s)},useInsertionEffect:function(t,s){return To(4,2,t,s)},useMemo:function(t,s){var r=nr();return s=s===void 0?null:s,t=t(),r.memoizedState=[t,s],t},useReducer:function(t,s,r){var a=nr();return s=r!==void 0?r(s):s,a.memoizedState=a.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},a.queue=t,t=t.dispatch=tj.bind(null,gt,t),[a.memoizedState,t]},useRef:function(t){var s=nr();return t={current:t},s.memoizedState=t},useState:Bx,useDebugValue:$u,useDeferredValue:function(t){return nr().memoizedState=t},useTransition:function(){var t=Bx(!1),s=t[0];return t=ej.bind(null,t[1]),nr().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,r){var a=gt,i=nr();if(xt){if(r===void 0)throw Error(he(407));r=r()}else{if(r=s(),Bt===null)throw Error(he(349));Rn&30||Zg(a,s,r)}i.memoizedState=r;var n={value:r,getSnapshot:s};return i.queue=n,zx(Kg.bind(null,a,n,t),[t]),a.flags|=2048,Rl(9,Yg.bind(null,a,n,r,s),void 0,null),r},useId:function(){var t=nr(),s=Bt.identifierPrefix;if(xt){var r=_r,a=Cr;r=(a&~(1<<32-Ks(a)-1)).toString(32)+r,s=":"+s+"R"+r,r=Tl++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=Xv++,s=":"+s+"r"+r.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},aj={readContext:Is,useCallback:n0,useContext:Is,useEffect:Mu,useImperativeHandle:a0,useInsertionEffect:t0,useLayoutEffect:s0,useMemo:i0,useReducer:wd,useRef:e0,useState:function(){return wd(Al)},useDebugValue:$u,useDeferredValue:function(t){var s=Ls();return l0(s,Rt.memoizedState,t)},useTransition:function(){var t=wd(Al)[0],s=Ls().memoizedState;return[t,s]},useMutableSource:Hg,useSyncExternalStore:Qg,useId:o0,unstable_isNewReconciler:!1},nj={readContext:Is,useCallback:n0,useContext:Is,useEffect:Mu,useImperativeHandle:a0,useInsertionEffect:t0,useLayoutEffect:s0,useMemo:i0,useReducer:Sd,useRef:e0,useState:function(){return Sd(Al)},useDebugValue:$u,useDeferredValue:function(t){var s=Ls();return Rt===null?s.memoizedState=t:l0(s,Rt.memoizedState,t)},useTransition:function(){var t=Sd(Al)[0],s=Ls().memoizedState;return[t,s]},useMutableSource:Hg,useSyncExternalStore:Qg,useId:o0,unstable_isNewReconciler:!1};function Us(t,s){if(t&&t.defaultProps){s=yt({},s),t=t.defaultProps;for(var r in t)s[r]===void 0&&(s[r]=t[r]);return s}return s}function ym(t,s,r,a){s=t.memoizedState,r=r(a,s),r=r==null?s:yt({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Rc={isMounted:function(t){return(t=t._reactInternals)?On(t)===t:!1},enqueueSetState:function(t,s,r){t=t._reactInternals;var a=as(),i=Ka(t),n=Er(a,i);n.payload=s,r!=null&&(n.callback=r),s=Za(t,n,i),s!==null&&(Js(s,t,i,a),Eo(s,t,i))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var a=as(),i=Ka(t),n=Er(a,i);n.tag=1,n.payload=s,r!=null&&(n.callback=r),s=Za(t,n,i),s!==null&&(Js(s,t,i,a),Eo(s,t,i))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=as(),a=Ka(t),i=Er(r,a);i.tag=2,s!=null&&(i.callback=s),s=Za(t,i,a),s!==null&&(Js(s,t,a,r),Eo(s,t,a))}};function Ux(t,s,r,a,i,n,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,n,l):s.prototype&&s.prototype.isPureReactComponent?!kl(r,a)||!kl(i,n):!0}function u0(t,s,r){var a=!1,i=sn,n=s.contextType;return typeof n=="object"&&n!==null?n=Is(n):(i=hs(s)?Tn:Kt.current,a=s.contextTypes,n=(a=a!=null)?yi(t,i):sn),s=new s(r,n),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Rc,t.stateNode=s,s._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=n),s}function Vx(t,s,r,a){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,a),s.state!==t&&Rc.enqueueReplaceState(s,s.state,null)}function bm(t,s,r,a){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Du(t);var n=s.contextType;typeof n=="object"&&n!==null?i.context=Is(n):(n=hs(s)?Tn:Kt.current,i.context=yi(t,n)),i.state=t.memoizedState,n=s.getDerivedStateFromProps,typeof n=="function"&&(ym(t,s,n,r),i.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(s=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),s!==i.state&&Rc.enqueueReplaceState(i,i.state,null),rc(t,r,i,a),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ni(t,s){try{var r="",a=s;do r+=Rb(a),a=a.return;while(a);var i=r}catch(n){i=`
Error generating stack: `+n.message+`
`+n.stack}return{value:t,source:s,stack:i,digest:null}}function kd(t,s,r){return{value:t,source:null,stack:r??null,digest:s??null}}function vm(t,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var ij=typeof WeakMap=="function"?WeakMap:Map;function p0(t,s,r){r=Er(-1,r),r.tag=3,r.payload={element:null};var a=s.value;return r.callback=function(){oc||(oc=!0,Dm=a),vm(t,s)},r}function x0(t,s,r){r=Er(-1,r),r.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var i=s.value;r.payload=function(){return a(i)},r.callback=function(){vm(t,s)}}var n=t.stateNode;return n!==null&&typeof n.componentDidCatch=="function"&&(r.callback=function(){vm(t,s),typeof a!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})}),r}function qx(t,s,r){var a=t.pingCache;if(a===null){a=t.pingCache=new ij;var i=new Set;a.set(s,i)}else i=a.get(s),i===void 0&&(i=new Set,a.set(s,i));i.has(r)||(i.add(r),t=vj.bind(null,t,s,r),s.then(t,t))}function Wx(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Gx(t,s,r,a,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===s?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=Er(-1,1),s.tag=2,Za(r,s,1))),r.lanes|=1),t)}var lj=$r.ReactCurrentOwner,ps=!1;function ts(t,s,r,a){s.child=t===null?Vg(s,null,r,a):vi(s,t.child,r,a)}function Hx(t,s,r,a,i){r=r.render;var n=s.ref;return li(s,i),a=Iu(t,s,r,a,n,i),r=Lu(),t!==null&&!ps?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~i,Fr(t,s,i)):(xt&&r&&wu(s),s.flags|=1,ts(t,s,a,i),s.child)}function Qx(t,s,r,a,i){if(t===null){var n=r.type;return typeof n=="function"&&!Gu(n)&&n.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=n,h0(t,s,n,a,i)):(t=Io(r.type,null,a,s,s.mode,i),t.ref=s.ref,t.return=s,s.child=t)}if(n=t.child,!(t.lanes&i)){var l=n.memoizedProps;if(r=r.compare,r=r!==null?r:kl,r(l,a)&&t.ref===s.ref)return Fr(t,s,i)}return s.flags|=1,t=Ja(n,a),t.ref=s.ref,t.return=s,s.child=t}function h0(t,s,r,a,i){if(t!==null){var n=t.memoizedProps;if(kl(n,a)&&t.ref===s.ref)if(ps=!1,s.pendingProps=a=n,(t.lanes&i)!==0)t.flags&131072&&(ps=!0);else return s.lanes=t.lanes,Fr(t,s,i)}return jm(t,s,r,a,i)}function f0(t,s,r){var a=s.pendingProps,i=a.children,n=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(ti,bs),bs|=r;else{if(!(r&1073741824))return t=n!==null?n.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,mt(ti,bs),bs|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=n!==null?n.baseLanes:r,mt(ti,bs),bs|=a}else n!==null?(a=n.baseLanes|r,s.memoizedState=null):a=r,mt(ti,bs),bs|=a;return ts(t,s,i,r),s.child}function g0(t,s){var r=s.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function jm(t,s,r,a,i){var n=hs(r)?Tn:Kt.current;return n=yi(s,n),li(s,i),r=Iu(t,s,r,a,n,i),a=Lu(),t!==null&&!ps?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~i,Fr(t,s,i)):(xt&&a&&wu(s),s.flags|=1,ts(t,s,r,i),s.child)}function Zx(t,s,r,a,i){if(hs(r)){var n=!0;Jo(s)}else n=!1;if(li(s,i),s.stateNode===null)Ao(t,s),u0(s,r,a),bm(s,r,a,i),a=!0;else if(t===null){var l=s.stateNode,o=s.memoizedProps;l.props=o;var c=l.context,m=r.contextType;typeof m=="object"&&m!==null?m=Is(m):(m=hs(r)?Tn:Kt.current,m=yi(s,m));var d=r.getDerivedStateFromProps,x=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";x||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==a||c!==m)&&Vx(s,l,a,m),Da=!1;var p=s.memoizedState;l.state=p,rc(s,a,l,i),c=s.memoizedState,o!==a||p!==c||xs.current||Da?(typeof d=="function"&&(ym(s,r,d,a),c=s.memoizedState),(o=Da||Ux(s,r,o,a,p,c,m))?(x||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(s.flags|=4194308)):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=c),l.props=a,l.state=c,l.context=m,a=o):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{l=s.stateNode,Wg(t,s),o=s.memoizedProps,m=s.type===s.elementType?o:Us(s.type,o),l.props=m,x=s.pendingProps,p=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Is(c):(c=hs(r)?Tn:Kt.current,c=yi(s,c));var j=r.getDerivedStateFromProps;(d=typeof j=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==x||p!==c)&&Vx(s,l,a,c),Da=!1,p=s.memoizedState,l.state=p,rc(s,a,l,i);var g=s.memoizedState;o!==x||p!==g||xs.current||Da?(typeof j=="function"&&(ym(s,r,j,a),g=s.memoizedState),(m=Da||Ux(s,r,m,a,p,g,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,g,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,g,c)),typeof l.componentDidUpdate=="function"&&(s.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=g),l.props=a,l.state=g,l.context=c,a=m):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(s.flags|=1024),a=!1)}return Nm(t,s,r,a,n,i)}function Nm(t,s,r,a,i,n){g0(t,s);var l=(s.flags&128)!==0;if(!a&&!l)return i&&Fx(s,r,!1),Fr(t,s,n);a=s.stateNode,lj.current=s;var o=l&&typeof r.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,t!==null&&l?(s.child=vi(s,t.child,null,n),s.child=vi(s,null,o,n)):ts(t,s,o,n),s.memoizedState=a.state,i&&Fx(s,r,!0),s.child}function y0(t){var s=t.stateNode;s.pendingContext?Rx(t,s.pendingContext,s.pendingContext!==s.context):s.context&&Rx(t,s.context,!1),Tu(t,s.containerInfo)}function Yx(t,s,r,a,i){return bi(),ku(i),s.flags|=256,ts(t,s,r,a),s.child}var wm={dehydrated:null,treeContext:null,retryLane:0};function Sm(t){return{baseLanes:t,cachePool:null,transitions:null}}function b0(t,s,r){var a=s.pendingProps,i=ft.current,n=!1,l=(s.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(n=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),mt(ft,i&1),t===null)return fm(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(l=a.children,t=a.fallback,n?(a=s.mode,n=s.child,l={mode:"hidden",children:l},!(a&1)&&n!==null?(n.childLanes=0,n.pendingProps=l):n=Lc(l,a,0,null),t=En(t,a,r,null),n.return=s,t.return=s,n.sibling=t,s.child=n,s.child.memoizedState=Sm(r),s.memoizedState=wm,t):Ou(s,l));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return oj(t,s,l,a,o,i,r);if(n){n=a.fallback,l=s.mode,i=t.child,o=i.sibling;var c={mode:"hidden",children:a.children};return!(l&1)&&s.child!==i?(a=s.child,a.childLanes=0,a.pendingProps=c,s.deletions=null):(a=Ja(i,c),a.subtreeFlags=i.subtreeFlags&14680064),o!==null?n=Ja(o,n):(n=En(n,l,r,null),n.flags|=2),n.return=s,a.return=s,a.sibling=n,s.child=a,a=n,n=s.child,l=t.child.memoizedState,l=l===null?Sm(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},n.memoizedState=l,n.childLanes=t.childLanes&~r,s.memoizedState=wm,a}return n=t.child,t=n.sibling,a=Ja(n,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=r),a.return=s,a.sibling=null,t!==null&&(r=s.deletions,r===null?(s.deletions=[t],s.flags|=16):r.push(t)),s.child=a,s.memoizedState=null,a}function Ou(t,s){return s=Lc({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function go(t,s,r,a){return a!==null&&ku(a),vi(s,t.child,null,r),t=Ou(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function oj(t,s,r,a,i,n,l){if(r)return s.flags&256?(s.flags&=-257,a=kd(Error(he(422))),go(t,s,l,a)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(n=a.fallback,i=s.mode,a=Lc({mode:"visible",children:a.children},i,0,null),n=En(n,i,l,null),n.flags|=2,a.return=s,n.return=s,a.sibling=n,s.child=a,s.mode&1&&vi(s,t.child,null,l),s.child.memoizedState=Sm(l),s.memoizedState=wm,n);if(!(s.mode&1))return go(t,s,l,null);if(i.data==="$!"){if(a=i.nextSibling&&i.nextSibling.dataset,a)var o=a.dgst;return a=o,n=Error(he(419)),a=kd(n,a,void 0),go(t,s,l,a)}if(o=(l&t.childLanes)!==0,ps||o){if(a=Bt,a!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(a.suspendedLanes|l)?0:i,i!==0&&i!==n.retryLane&&(n.retryLane=i,Rr(t,i),Js(a,t,i,-1))}return Wu(),a=kd(Error(he(421))),go(t,s,l,a)}return i.data==="$?"?(s.flags|=128,s.child=t.child,s=jj.bind(null,t),i._reactRetry=s,null):(t=n.treeContext,js=Qa(i.nextSibling),Ns=s,xt=!0,Hs=null,t!==null&&(Ts[As++]=Cr,Ts[As++]=_r,Ts[As++]=An,Cr=t.id,_r=t.overflow,An=s),s=Ou(s,a.children),s.flags|=4096,s)}function Kx(t,s,r){t.lanes|=s;var a=t.alternate;a!==null&&(a.lanes|=s),gm(t.return,s,r)}function Cd(t,s,r,a,i){var n=t.memoizedState;n===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:i}:(n.isBackwards=s,n.rendering=null,n.renderingStartTime=0,n.last=a,n.tail=r,n.tailMode=i)}function v0(t,s,r){var a=s.pendingProps,i=a.revealOrder,n=a.tail;if(ts(t,s,a.children,r),a=ft.current,a&2)a=a&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kx(t,r,s);else if(t.tag===19)Kx(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(mt(ft,a),!(s.mode&1))s.memoizedState=null;else switch(i){case"forwards":for(r=s.child,i=null;r!==null;)t=r.alternate,t!==null&&ac(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=s.child,s.child=null):(i=r.sibling,r.sibling=null),Cd(s,!1,i,r,n);break;case"backwards":for(r=null,i=s.child,s.child=null;i!==null;){if(t=i.alternate,t!==null&&ac(t)===null){s.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Cd(s,!0,r,null,n);break;case"together":Cd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ao(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function Fr(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),Fn|=s.lanes,!(r&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(he(153));if(s.child!==null){for(t=s.child,r=Ja(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=Ja(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function cj(t,s,r){switch(s.tag){case 3:y0(s),bi();break;case 5:Gg(s);break;case 1:hs(s.type)&&Jo(s);break;case 4:Tu(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,i=s.memoizedProps.value;mt(tc,a._currentValue),a._currentValue=i;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(mt(ft,ft.current&1),s.flags|=128,null):r&s.child.childLanes?b0(t,s,r):(mt(ft,ft.current&1),t=Fr(t,s,r),t!==null?t.sibling:null);mt(ft,ft.current&1);break;case 19:if(a=(r&s.childLanes)!==0,t.flags&128){if(a)return v0(t,s,r);s.flags|=128}if(i=s.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),mt(ft,ft.current),a)break;return null;case 22:case 23:return s.lanes=0,f0(t,s,r)}return Fr(t,s,r)}var j0,km,N0,w0;j0=function(t,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};km=function(){};N0=function(t,s,r,a){var i=t.memoizedProps;if(i!==a){t=s.stateNode,gn(xr.current);var n=null;switch(r){case"input":i=Hd(t,i),a=Hd(t,a),n=[];break;case"select":i=yt({},i,{value:void 0}),a=yt({},a,{value:void 0}),n=[];break;case"textarea":i=Yd(t,i),a=Yd(t,a),n=[];break;default:typeof i.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=Yo)}Jd(r,a);var l;r=null;for(m in i)if(!a.hasOwnProperty(m)&&i.hasOwnProperty(m)&&i[m]!=null)if(m==="style"){var o=i[m];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(yl.hasOwnProperty(m)?n||(n=[]):(n=n||[]).push(m,null));for(m in a){var c=a[m];if(o=i!=null?i[m]:void 0,a.hasOwnProperty(m)&&c!==o&&(c!=null||o!=null))if(m==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(n||(n=[]),n.push(m,r)),r=c;else m==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(n=n||[]).push(m,c)):m==="children"?typeof c!="string"&&typeof c!="number"||(n=n||[]).push(m,""+c):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(yl.hasOwnProperty(m)?(c!=null&&m==="onScroll"&&ut("scroll",t),n||o===c||(n=[])):(n=n||[]).push(m,c))}r&&(n=n||[]).push("style",r);var m=n;(s.updateQueue=m)&&(s.flags|=4)}};w0=function(t,s,r,a){r!==a&&(s.flags|=4)};function Qi(t,s){if(!xt)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function Ht(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,a=0;if(s)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,a|=i.subtreeFlags&14680064,a|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=a,t.childLanes=r,s}function dj(t,s,r){var a=s.pendingProps;switch(Su(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(s),null;case 1:return hs(s.type)&&Ko(),Ht(s),null;case 3:return a=s.stateNode,ji(),pt(xs),pt(Kt),Ru(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ho(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Hs!==null&&(Rm(Hs),Hs=null))),km(t,s),Ht(s),null;case 5:Au(s);var i=gn(Dl.current);if(r=s.type,t!==null&&s.stateNode!=null)N0(t,s,r,a,i),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(he(166));return Ht(s),null}if(t=gn(xr.current),ho(s)){a=s.stateNode,r=s.type;var n=s.memoizedProps;switch(a[mr]=s,a[Pl]=n,t=(s.mode&1)!==0,r){case"dialog":ut("cancel",a),ut("close",a);break;case"iframe":case"object":case"embed":ut("load",a);break;case"video":case"audio":for(i=0;i<al.length;i++)ut(al[i],a);break;case"source":ut("error",a);break;case"img":case"image":case"link":ut("error",a),ut("load",a);break;case"details":ut("toggle",a);break;case"input":ix(a,n),ut("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!n.multiple},ut("invalid",a);break;case"textarea":ox(a,n),ut("invalid",a)}Jd(r,n),i=null;for(var l in n)if(n.hasOwnProperty(l)){var o=n[l];l==="children"?typeof o=="string"?a.textContent!==o&&(n.suppressHydrationWarning!==!0&&xo(a.textContent,o,t),i=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(n.suppressHydrationWarning!==!0&&xo(a.textContent,o,t),i=["children",""+o]):yl.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ut("scroll",a)}switch(r){case"input":no(a),lx(a,n,!0);break;case"textarea":no(a),cx(a);break;case"select":case"option":break;default:typeof n.onClick=="function"&&(a.onclick=Yo)}a=i,s.updateQueue=a,a!==null&&(s.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Kf(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=l.createElement(r,{is:a.is}):(t=l.createElement(r),r==="select"&&(l=t,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):t=l.createElementNS(t,r),t[mr]=s,t[Pl]=a,j0(t,s,!1,!1),s.stateNode=t;e:{switch(l=Xd(r,a),r){case"dialog":ut("cancel",t),ut("close",t),i=a;break;case"iframe":case"object":case"embed":ut("load",t),i=a;break;case"video":case"audio":for(i=0;i<al.length;i++)ut(al[i],t);i=a;break;case"source":ut("error",t),i=a;break;case"img":case"image":case"link":ut("error",t),ut("load",t),i=a;break;case"details":ut("toggle",t),i=a;break;case"input":ix(t,a),i=Hd(t,a),ut("invalid",t);break;case"option":i=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},i=yt({},a,{value:void 0}),ut("invalid",t);break;case"textarea":ox(t,a),i=Yd(t,a),ut("invalid",t);break;default:i=a}Jd(r,i),o=i;for(n in o)if(o.hasOwnProperty(n)){var c=o[n];n==="style"?eg(t,c):n==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Jf(t,c)):n==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&bl(t,c):typeof c=="number"&&bl(t,""+c):n!=="suppressContentEditableWarning"&&n!=="suppressHydrationWarning"&&n!=="autoFocus"&&(yl.hasOwnProperty(n)?c!=null&&n==="onScroll"&&ut("scroll",t):c!=null&&cu(t,n,c,l))}switch(r){case"input":no(t),lx(t,a,!1);break;case"textarea":no(t),cx(t);break;case"option":a.value!=null&&t.setAttribute("value",""+tn(a.value));break;case"select":t.multiple=!!a.multiple,n=a.value,n!=null?ri(t,!!a.multiple,n,!1):a.defaultValue!=null&&ri(t,!!a.multiple,a.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Yo)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ht(s),null;case 6:if(t&&s.stateNode!=null)w0(t,s,t.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(he(166));if(r=gn(Dl.current),gn(xr.current),ho(s)){if(a=s.stateNode,r=s.memoizedProps,a[mr]=s,(n=a.nodeValue!==r)&&(t=Ns,t!==null))switch(t.tag){case 3:xo(a.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xo(a.nodeValue,r,(t.mode&1)!==0)}n&&(s.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[mr]=s,s.stateNode=a}return Ht(s),null;case 13:if(pt(ft),a=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xt&&js!==null&&s.mode&1&&!(s.flags&128))zg(),bi(),s.flags|=98560,n=!1;else if(n=ho(s),a!==null&&a.dehydrated!==null){if(t===null){if(!n)throw Error(he(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(he(317));n[mr]=s}else bi(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Ht(s),n=!1}else Hs!==null&&(Rm(Hs),Hs=null),n=!0;if(!n)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(t===null||ft.current&1?It===0&&(It=3):Wu())),s.updateQueue!==null&&(s.flags|=4),Ht(s),null);case 4:return ji(),km(t,s),t===null&&Cl(s.stateNode.containerInfo),Ht(s),null;case 10:return Pu(s.type._context),Ht(s),null;case 17:return hs(s.type)&&Ko(),Ht(s),null;case 19:if(pt(ft),n=s.memoizedState,n===null)return Ht(s),null;if(a=(s.flags&128)!==0,l=n.rendering,l===null)if(a)Qi(n,!1);else{if(It!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(l=ac(t),l!==null){for(s.flags|=128,Qi(n,!1),a=l.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=r,r=s.child;r!==null;)n=r,t=a,n.flags&=14680066,l=n.alternate,l===null?(n.childLanes=0,n.lanes=t,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,t=l.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return mt(ft,ft.current&1|2),s.child}t=t.sibling}n.tail!==null&&wt()>wi&&(s.flags|=128,a=!0,Qi(n,!1),s.lanes=4194304)}else{if(!a)if(t=ac(l),t!==null){if(s.flags|=128,a=!0,r=t.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),Qi(n,!0),n.tail===null&&n.tailMode==="hidden"&&!l.alternate&&!xt)return Ht(s),null}else 2*wt()-n.renderingStartTime>wi&&r!==1073741824&&(s.flags|=128,a=!0,Qi(n,!1),s.lanes=4194304);n.isBackwards?(l.sibling=s.child,s.child=l):(r=n.last,r!==null?r.sibling=l:s.child=l,n.last=l)}return n.tail!==null?(s=n.tail,n.rendering=s,n.tail=s.sibling,n.renderingStartTime=wt(),s.sibling=null,r=ft.current,mt(ft,a?r&1|2:r&1),s):(Ht(s),null);case 22:case 23:return qu(),a=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?bs&1073741824&&(Ht(s),s.subtreeFlags&6&&(s.flags|=8192)):Ht(s),null;case 24:return null;case 25:return null}throw Error(he(156,s.tag))}function mj(t,s){switch(Su(s),s.tag){case 1:return hs(s.type)&&Ko(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ji(),pt(xs),pt(Kt),Ru(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return Au(s),null;case 13:if(pt(ft),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(he(340));bi()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return pt(ft),null;case 4:return ji(),null;case 10:return Pu(s.type._context),null;case 22:case 23:return qu(),null;case 24:return null;default:return null}}var yo=!1,Zt=!1,uj=typeof WeakSet=="function"?WeakSet:Set,ke=null;function ei(t,s){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){vt(t,s,a)}else r.current=null}function Cm(t,s,r){try{r()}catch(a){vt(t,s,a)}}var Jx=!1;function pj(t,s){if(cm=Ho,t=Pg(),Nu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var i=a.anchorOffset,n=a.focusNode;a=a.focusOffset;try{r.nodeType,n.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,m=0,d=0,x=t,p=null;t:for(;;){for(var j;x!==r||i!==0&&x.nodeType!==3||(o=l+i),x!==n||a!==0&&x.nodeType!==3||(c=l+a),x.nodeType===3&&(l+=x.nodeValue.length),(j=x.firstChild)!==null;)p=x,x=j;for(;;){if(x===t)break t;if(p===r&&++m===i&&(o=l),p===n&&++d===a&&(c=l),(j=x.nextSibling)!==null)break;x=p,p=x.parentNode}x=j}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(dm={focusedElem:t,selectionRange:r},Ho=!1,ke=s;ke!==null;)if(s=ke,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ke=t;else for(;ke!==null;){s=ke;try{var g=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var u=g.memoizedProps,y=g.memoizedState,h=s.stateNode,f=h.getSnapshotBeforeUpdate(s.elementType===s.type?u:Us(s.type,u),y);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var v=s.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(T){vt(s,s.return,T)}if(t=s.sibling,t!==null){t.return=s.return,ke=t;break}ke=s.return}return g=Jx,Jx=!1,g}function ul(t,s,r){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var i=a=a.next;do{if((i.tag&t)===t){var n=i.destroy;i.destroy=void 0,n!==void 0&&Cm(s,r,n)}i=i.next}while(i!==a)}}function Fc(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var a=r.create;r.destroy=a()}r=r.next}while(r!==s)}}function _m(t){var s=t.ref;if(s!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof s=="function"?s(t):s.current=t}}function S0(t){var s=t.alternate;s!==null&&(t.alternate=null,S0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[mr],delete s[Pl],delete s[pm],delete s[Zv],delete s[Yv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function k0(t){return t.tag===5||t.tag===3||t.tag===4}function Xx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||k0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pm(t,s,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(t,s):r.insertBefore(t,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(t,r)):(s=r,s.appendChild(t)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Yo));else if(a!==4&&(t=t.child,t!==null))for(Pm(t,s,r),t=t.sibling;t!==null;)Pm(t,s,r),t=t.sibling}function Em(t,s,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(Em(t,s,r),t=t.sibling;t!==null;)Em(t,s,r),t=t.sibling}var Ut=null,Gs=!1;function _a(t,s,r){for(r=r.child;r!==null;)C0(t,s,r),r=r.sibling}function C0(t,s,r){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(Cc,r)}catch{}switch(r.tag){case 5:Zt||ei(r,s);case 6:var a=Ut,i=Gs;Ut=null,_a(t,s,r),Ut=a,Gs=i,Ut!==null&&(Gs?(t=Ut,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ut.removeChild(r.stateNode));break;case 18:Ut!==null&&(Gs?(t=Ut,r=r.stateNode,t.nodeType===8?bd(t.parentNode,r):t.nodeType===1&&bd(t,r),wl(t)):bd(Ut,r.stateNode));break;case 4:a=Ut,i=Gs,Ut=r.stateNode.containerInfo,Gs=!0,_a(t,s,r),Ut=a,Gs=i;break;case 0:case 11:case 14:case 15:if(!Zt&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){i=a=a.next;do{var n=i,l=n.destroy;n=n.tag,l!==void 0&&(n&2||n&4)&&Cm(r,s,l),i=i.next}while(i!==a)}_a(t,s,r);break;case 1:if(!Zt&&(ei(r,s),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(o){vt(r,s,o)}_a(t,s,r);break;case 21:_a(t,s,r);break;case 22:r.mode&1?(Zt=(a=Zt)||r.memoizedState!==null,_a(t,s,r),Zt=a):_a(t,s,r);break;default:_a(t,s,r)}}function eh(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new uj),s.forEach(function(a){var i=Nj.bind(null,t,a);r.has(a)||(r.add(a),a.then(i,i))})}}function zs(t,s){var r=s.deletions;if(r!==null)for(var a=0;a<r.length;a++){var i=r[a];try{var n=t,l=s,o=l;e:for(;o!==null;){switch(o.tag){case 5:Ut=o.stateNode,Gs=!1;break e;case 3:Ut=o.stateNode.containerInfo,Gs=!0;break e;case 4:Ut=o.stateNode.containerInfo,Gs=!0;break e}o=o.return}if(Ut===null)throw Error(he(160));C0(n,l,i),Ut=null,Gs=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(m){vt(i,s,m)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)_0(s,t),s=s.sibling}function _0(t,s){var r=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zs(s,t),rr(t),a&4){try{ul(3,t,t.return),Fc(3,t)}catch(u){vt(t,t.return,u)}try{ul(5,t,t.return)}catch(u){vt(t,t.return,u)}}break;case 1:zs(s,t),rr(t),a&512&&r!==null&&ei(r,r.return);break;case 5:if(zs(s,t),rr(t),a&512&&r!==null&&ei(r,r.return),t.flags&32){var i=t.stateNode;try{bl(i,"")}catch(u){vt(t,t.return,u)}}if(a&4&&(i=t.stateNode,i!=null)){var n=t.memoizedProps,l=r!==null?r.memoizedProps:n,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&n.type==="radio"&&n.name!=null&&Zf(i,n),Xd(o,l);var m=Xd(o,n);for(l=0;l<c.length;l+=2){var d=c[l],x=c[l+1];d==="style"?eg(i,x):d==="dangerouslySetInnerHTML"?Jf(i,x):d==="children"?bl(i,x):cu(i,d,x,m)}switch(o){case"input":Qd(i,n);break;case"textarea":Yf(i,n);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!n.multiple;var j=n.value;j!=null?ri(i,!!n.multiple,j,!1):p!==!!n.multiple&&(n.defaultValue!=null?ri(i,!!n.multiple,n.defaultValue,!0):ri(i,!!n.multiple,n.multiple?[]:"",!1))}i[Pl]=n}catch(u){vt(t,t.return,u)}}break;case 6:if(zs(s,t),rr(t),a&4){if(t.stateNode===null)throw Error(he(162));i=t.stateNode,n=t.memoizedProps;try{i.nodeValue=n}catch(u){vt(t,t.return,u)}}break;case 3:if(zs(s,t),rr(t),a&4&&r!==null&&r.memoizedState.isDehydrated)try{wl(s.containerInfo)}catch(u){vt(t,t.return,u)}break;case 4:zs(s,t),rr(t);break;case 13:zs(s,t),rr(t),i=t.child,i.flags&8192&&(n=i.memoizedState!==null,i.stateNode.isHidden=n,!n||i.alternate!==null&&i.alternate.memoizedState!==null||(Uu=wt())),a&4&&eh(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Zt=(m=Zt)||d,zs(s,t),Zt=m):zs(s,t),rr(t),a&8192){if(m=t.memoizedState!==null,(t.stateNode.isHidden=m)&&!d&&t.mode&1)for(ke=t,d=t.child;d!==null;){for(x=ke=d;ke!==null;){switch(p=ke,j=p.child,p.tag){case 0:case 11:case 14:case 15:ul(4,p,p.return);break;case 1:ei(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){a=p,r=p.return;try{s=a,g.props=s.memoizedProps,g.state=s.memoizedState,g.componentWillUnmount()}catch(u){vt(a,r,u)}}break;case 5:ei(p,p.return);break;case 22:if(p.memoizedState!==null){sh(x);continue}}j!==null?(j.return=p,ke=j):sh(x)}d=d.sibling}e:for(d=null,x=t;;){if(x.tag===5){if(d===null){d=x;try{i=x.stateNode,m?(n=i.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none"):(o=x.stateNode,c=x.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Xf("display",l))}catch(u){vt(t,t.return,u)}}}else if(x.tag===6){if(d===null)try{x.stateNode.nodeValue=m?"":x.memoizedProps}catch(u){vt(t,t.return,u)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===t)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;d===x&&(d=null),x=x.return}d===x&&(d=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:zs(s,t),rr(t),a&4&&eh(t);break;case 21:break;default:zs(s,t),rr(t)}}function rr(t){var s=t.flags;if(s&2){try{e:{for(var r=t.return;r!==null;){if(k0(r)){var a=r;break e}r=r.return}throw Error(he(160))}switch(a.tag){case 5:var i=a.stateNode;a.flags&32&&(bl(i,""),a.flags&=-33);var n=Xx(t);Em(t,n,i);break;case 3:case 4:var l=a.stateNode.containerInfo,o=Xx(t);Pm(t,o,l);break;default:throw Error(he(161))}}catch(c){vt(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function xj(t,s,r){ke=t,P0(t)}function P0(t,s,r){for(var a=(t.mode&1)!==0;ke!==null;){var i=ke,n=i.child;if(i.tag===22&&a){var l=i.memoizedState!==null||yo;if(!l){var o=i.alternate,c=o!==null&&o.memoizedState!==null||Zt;o=yo;var m=Zt;if(yo=l,(Zt=c)&&!m)for(ke=i;ke!==null;)l=ke,c=l.child,l.tag===22&&l.memoizedState!==null?rh(i):c!==null?(c.return=l,ke=c):rh(i);for(;n!==null;)ke=n,P0(n),n=n.sibling;ke=i,yo=o,Zt=m}th(t)}else i.subtreeFlags&8772&&n!==null?(n.return=i,ke=n):th(t)}}function th(t){for(;ke!==null;){var s=ke;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Zt||Fc(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!Zt)if(r===null)a.componentDidMount();else{var i=s.elementType===s.type?r.memoizedProps:Us(s.type,r.memoizedProps);a.componentDidUpdate(i,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var n=s.updateQueue;n!==null&&Ox(s,n,a);break;case 3:var l=s.updateQueue;if(l!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}Ox(s,l,r)}break;case 5:var o=s.stateNode;if(r===null&&s.flags&4){r=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var m=s.alternate;if(m!==null){var d=m.memoizedState;if(d!==null){var x=d.dehydrated;x!==null&&wl(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Zt||s.flags&512&&_m(s)}catch(p){vt(s,s.return,p)}}if(s===t){ke=null;break}if(r=s.sibling,r!==null){r.return=s.return,ke=r;break}ke=s.return}}function sh(t){for(;ke!==null;){var s=ke;if(s===t){ke=null;break}var r=s.sibling;if(r!==null){r.return=s.return,ke=r;break}ke=s.return}}function rh(t){for(;ke!==null;){var s=ke;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{Fc(4,s)}catch(c){vt(s,r,c)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var i=s.return;try{a.componentDidMount()}catch(c){vt(s,i,c)}}var n=s.return;try{_m(s)}catch(c){vt(s,n,c)}break;case 5:var l=s.return;try{_m(s)}catch(c){vt(s,l,c)}}}catch(c){vt(s,s.return,c)}if(s===t){ke=null;break}var o=s.sibling;if(o!==null){o.return=s.return,ke=o;break}ke=s.return}}var hj=Math.ceil,lc=$r.ReactCurrentDispatcher,Bu=$r.ReactCurrentOwner,Fs=$r.ReactCurrentBatchConfig,st=0,Bt=null,Dt=null,Vt=0,bs=0,ti=ln(0),It=0,Fl=null,Fn=0,Ic=0,zu=0,pl=null,ms=null,Uu=0,wi=1/0,wr=null,oc=!1,Dm=null,Ya=null,bo=!1,Ua=null,cc=0,xl=0,Tm=null,Ro=-1,Fo=0;function as(){return st&6?wt():Ro!==-1?Ro:Ro=wt()}function Ka(t){return t.mode&1?st&2&&Vt!==0?Vt&-Vt:Jv.transition!==null?(Fo===0&&(Fo=ug()),Fo):(t=lt,t!==0||(t=window.event,t=t===void 0?16:bg(t.type)),t):1}function Js(t,s,r,a){if(50<xl)throw xl=0,Tm=null,Error(he(185));Wl(t,r,a),(!(st&2)||t!==Bt)&&(t===Bt&&(!(st&2)&&(Ic|=r),It===4&&Ra(t,Vt)),fs(t,a),r===1&&st===0&&!(s.mode&1)&&(wi=wt()+500,Tc&&on()))}function fs(t,s){var r=t.callbackNode;Jb(t,s);var a=Go(t,t===Bt?Vt:0);if(a===0)r!==null&&ux(r),t.callbackNode=null,t.callbackPriority=0;else if(s=a&-a,t.callbackPriority!==s){if(r!=null&&ux(r),s===1)t.tag===0?Kv(ah.bind(null,t)):$g(ah.bind(null,t)),Hv(function(){!(st&6)&&on()}),r=null;else{switch(pg(a)){case 1:r=xu;break;case 4:r=dg;break;case 16:r=Wo;break;case 536870912:r=mg;break;default:r=Wo}r=L0(r,E0.bind(null,t))}t.callbackPriority=s,t.callbackNode=r}}function E0(t,s){if(Ro=-1,Fo=0,st&6)throw Error(he(327));var r=t.callbackNode;if(oi()&&t.callbackNode!==r)return null;var a=Go(t,t===Bt?Vt:0);if(a===0)return null;if(a&30||a&t.expiredLanes||s)s=dc(t,a);else{s=a;var i=st;st|=2;var n=T0();(Bt!==t||Vt!==s)&&(wr=null,wi=wt()+500,Pn(t,s));do try{yj();break}catch(o){D0(t,o)}while(!0);_u(),lc.current=n,st=i,Dt!==null?s=0:(Bt=null,Vt=0,s=It)}if(s!==0){if(s===2&&(i=am(t),i!==0&&(a=i,s=Am(t,i))),s===1)throw r=Fl,Pn(t,0),Ra(t,a),fs(t,wt()),r;if(s===6)Ra(t,a);else{if(i=t.current.alternate,!(a&30)&&!fj(i)&&(s=dc(t,a),s===2&&(n=am(t),n!==0&&(a=n,s=Am(t,n))),s===1))throw r=Fl,Pn(t,0),Ra(t,a),fs(t,wt()),r;switch(t.finishedWork=i,t.finishedLanes=a,s){case 0:case 1:throw Error(he(345));case 2:xn(t,ms,wr);break;case 3:if(Ra(t,a),(a&130023424)===a&&(s=Uu+500-wt(),10<s)){if(Go(t,0)!==0)break;if(i=t.suspendedLanes,(i&a)!==a){as(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=um(xn.bind(null,t,ms,wr),s);break}xn(t,ms,wr);break;case 4:if(Ra(t,a),(a&4194240)===a)break;for(s=t.eventTimes,i=-1;0<a;){var l=31-Ks(a);n=1<<l,l=s[l],l>i&&(i=l),a&=~n}if(a=i,a=wt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*hj(a/1960))-a,10<a){t.timeoutHandle=um(xn.bind(null,t,ms,wr),a);break}xn(t,ms,wr);break;case 5:xn(t,ms,wr);break;default:throw Error(he(329))}}}return fs(t,wt()),t.callbackNode===r?E0.bind(null,t):null}function Am(t,s){var r=pl;return t.current.memoizedState.isDehydrated&&(Pn(t,s).flags|=256),t=dc(t,s),t!==2&&(s=ms,ms=r,s!==null&&Rm(s)),t}function Rm(t){ms===null?ms=t:ms.push.apply(ms,t)}function fj(t){for(var s=t;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var i=r[a],n=i.getSnapshot;i=i.value;try{if(!er(n(),i))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ra(t,s){for(s&=~zu,s&=~Ic,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var r=31-Ks(s),a=1<<r;t[r]=-1,s&=~a}}function ah(t){if(st&6)throw Error(he(327));oi();var s=Go(t,0);if(!(s&1))return fs(t,wt()),null;var r=dc(t,s);if(t.tag!==0&&r===2){var a=am(t);a!==0&&(s=a,r=Am(t,a))}if(r===1)throw r=Fl,Pn(t,0),Ra(t,s),fs(t,wt()),r;if(r===6)throw Error(he(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,xn(t,ms,wr),fs(t,wt()),null}function Vu(t,s){var r=st;st|=1;try{return t(s)}finally{st=r,st===0&&(wi=wt()+500,Tc&&on())}}function In(t){Ua!==null&&Ua.tag===0&&!(st&6)&&oi();var s=st;st|=1;var r=Fs.transition,a=lt;try{if(Fs.transition=null,lt=1,t)return t()}finally{lt=a,Fs.transition=r,st=s,!(st&6)&&on()}}function qu(){bs=ti.current,pt(ti)}function Pn(t,s){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Gv(r)),Dt!==null)for(r=Dt.return;r!==null;){var a=r;switch(Su(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Ko();break;case 3:ji(),pt(xs),pt(Kt),Ru();break;case 5:Au(a);break;case 4:ji();break;case 13:pt(ft);break;case 19:pt(ft);break;case 10:Pu(a.type._context);break;case 22:case 23:qu()}r=r.return}if(Bt=t,Dt=t=Ja(t.current,null),Vt=bs=s,It=0,Fl=null,zu=Ic=Fn=0,ms=pl=null,fn!==null){for(s=0;s<fn.length;s++)if(r=fn[s],a=r.interleaved,a!==null){r.interleaved=null;var i=a.next,n=r.pending;if(n!==null){var l=n.next;n.next=i,a.next=l}r.pending=a}fn=null}return t}function D0(t,s){do{var r=Dt;try{if(_u(),Do.current=ic,nc){for(var a=gt.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}nc=!1}if(Rn=0,Ot=Rt=gt=null,ml=!1,Tl=0,Bu.current=null,r===null||r.return===null){It=1,Fl=s,Dt=null;break}e:{var n=t,l=r.return,o=r,c=s;if(s=Vt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var m=c,d=o,x=d.tag;if(!(d.mode&1)&&(x===0||x===11||x===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var j=Wx(l);if(j!==null){j.flags&=-257,Gx(j,l,o,n,s),j.mode&1&&qx(n,m,s),s=j,c=m;var g=s.updateQueue;if(g===null){var u=new Set;u.add(c),s.updateQueue=u}else g.add(c);break e}else{if(!(s&1)){qx(n,m,s),Wu();break e}c=Error(he(426))}}else if(xt&&o.mode&1){var y=Wx(l);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Gx(y,l,o,n,s),ku(Ni(c,o));break e}}n=c=Ni(c,o),It!==4&&(It=2),pl===null?pl=[n]:pl.push(n),n=l;do{switch(n.tag){case 3:n.flags|=65536,s&=-s,n.lanes|=s;var h=p0(n,c,s);$x(n,h);break e;case 1:o=c;var f=n.type,v=n.stateNode;if(!(n.flags&128)&&(typeof f.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ya===null||!Ya.has(v)))){n.flags|=65536,s&=-s,n.lanes|=s;var T=x0(n,o,s);$x(n,T);break e}}n=n.return}while(n!==null)}R0(r)}catch(P){s=P,Dt===r&&r!==null&&(Dt=r=r.return);continue}break}while(!0)}function T0(){var t=lc.current;return lc.current=ic,t===null?ic:t}function Wu(){(It===0||It===3||It===2)&&(It=4),Bt===null||!(Fn&268435455)&&!(Ic&268435455)||Ra(Bt,Vt)}function dc(t,s){var r=st;st|=2;var a=T0();(Bt!==t||Vt!==s)&&(wr=null,Pn(t,s));do try{gj();break}catch(i){D0(t,i)}while(!0);if(_u(),st=r,lc.current=a,Dt!==null)throw Error(he(261));return Bt=null,Vt=0,It}function gj(){for(;Dt!==null;)A0(Dt)}function yj(){for(;Dt!==null&&!Vb();)A0(Dt)}function A0(t){var s=I0(t.alternate,t,bs);t.memoizedProps=t.pendingProps,s===null?R0(t):Dt=s,Bu.current=null}function R0(t){var s=t;do{var r=s.alternate;if(t=s.return,s.flags&32768){if(r=mj(r,s),r!==null){r.flags&=32767,Dt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{It=6,Dt=null;return}}else if(r=dj(r,s,bs),r!==null){Dt=r;return}if(s=s.sibling,s!==null){Dt=s;return}Dt=s=t}while(s!==null);It===0&&(It=5)}function xn(t,s,r){var a=lt,i=Fs.transition;try{Fs.transition=null,lt=1,bj(t,s,r,a)}finally{Fs.transition=i,lt=a}return null}function bj(t,s,r,a){do oi();while(Ua!==null);if(st&6)throw Error(he(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(he(177));t.callbackNode=null,t.callbackPriority=0;var n=r.lanes|r.childLanes;if(Xb(t,n),t===Bt&&(Dt=Bt=null,Vt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bo||(bo=!0,L0(Wo,function(){return oi(),null})),n=(r.flags&15990)!==0,r.subtreeFlags&15990||n){n=Fs.transition,Fs.transition=null;var l=lt;lt=1;var o=st;st|=4,Bu.current=null,pj(t,r),_0(r,t),Ov(dm),Ho=!!cm,dm=cm=null,t.current=r,xj(r),qb(),st=o,lt=l,Fs.transition=n}else t.current=r;if(bo&&(bo=!1,Ua=t,cc=i),n=t.pendingLanes,n===0&&(Ya=null),Hb(r.stateNode),fs(t,wt()),s!==null)for(a=t.onRecoverableError,r=0;r<s.length;r++)i=s[r],a(i.value,{componentStack:i.stack,digest:i.digest});if(oc)throw oc=!1,t=Dm,Dm=null,t;return cc&1&&t.tag!==0&&oi(),n=t.pendingLanes,n&1?t===Tm?xl++:(xl=0,Tm=t):xl=0,on(),null}function oi(){if(Ua!==null){var t=pg(cc),s=Fs.transition,r=lt;try{if(Fs.transition=null,lt=16>t?16:t,Ua===null)var a=!1;else{if(t=Ua,Ua=null,cc=0,st&6)throw Error(he(331));var i=st;for(st|=4,ke=t.current;ke!==null;){var n=ke,l=n.child;if(ke.flags&16){var o=n.deletions;if(o!==null){for(var c=0;c<o.length;c++){var m=o[c];for(ke=m;ke!==null;){var d=ke;switch(d.tag){case 0:case 11:case 15:ul(8,d,n)}var x=d.child;if(x!==null)x.return=d,ke=x;else for(;ke!==null;){d=ke;var p=d.sibling,j=d.return;if(S0(d),d===m){ke=null;break}if(p!==null){p.return=j,ke=p;break}ke=j}}}var g=n.alternate;if(g!==null){var u=g.child;if(u!==null){g.child=null;do{var y=u.sibling;u.sibling=null,u=y}while(u!==null)}}ke=n}}if(n.subtreeFlags&2064&&l!==null)l.return=n,ke=l;else e:for(;ke!==null;){if(n=ke,n.flags&2048)switch(n.tag){case 0:case 11:case 15:ul(9,n,n.return)}var h=n.sibling;if(h!==null){h.return=n.return,ke=h;break e}ke=n.return}}var f=t.current;for(ke=f;ke!==null;){l=ke;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,ke=v;else e:for(l=f;ke!==null;){if(o=ke,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Fc(9,o)}}catch(P){vt(o,o.return,P)}if(o===l){ke=null;break e}var T=o.sibling;if(T!==null){T.return=o.return,ke=T;break e}ke=o.return}}if(st=i,on(),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(Cc,t)}catch{}a=!0}return a}finally{lt=r,Fs.transition=s}}return!1}function nh(t,s,r){s=Ni(r,s),s=p0(t,s,1),t=Za(t,s,1),s=as(),t!==null&&(Wl(t,1,s),fs(t,s))}function vt(t,s,r){if(t.tag===3)nh(t,t,r);else for(;s!==null;){if(s.tag===3){nh(s,t,r);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ya===null||!Ya.has(a))){t=Ni(r,t),t=x0(s,t,1),s=Za(s,t,1),t=as(),s!==null&&(Wl(s,1,t),fs(s,t));break}}s=s.return}}function vj(t,s,r){var a=t.pingCache;a!==null&&a.delete(s),s=as(),t.pingedLanes|=t.suspendedLanes&r,Bt===t&&(Vt&r)===r&&(It===4||It===3&&(Vt&130023424)===Vt&&500>wt()-Uu?Pn(t,0):zu|=r),fs(t,s)}function F0(t,s){s===0&&(t.mode&1?(s=oo,oo<<=1,!(oo&130023424)&&(oo=4194304)):s=1);var r=as();t=Rr(t,s),t!==null&&(Wl(t,s,r),fs(t,r))}function jj(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),F0(t,r)}function Nj(t,s){var r=0;switch(t.tag){case 13:var a=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(he(314))}a!==null&&a.delete(s),F0(t,r)}var I0;I0=function(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps||xs.current)ps=!0;else{if(!(t.lanes&r)&&!(s.flags&128))return ps=!1,cj(t,s,r);ps=!!(t.flags&131072)}else ps=!1,xt&&s.flags&1048576&&Og(s,ec,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;Ao(t,s),t=s.pendingProps;var i=yi(s,Kt.current);li(s,r),i=Iu(null,s,a,t,i,r);var n=Lu();return s.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,hs(a)?(n=!0,Jo(s)):n=!1,s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Du(s),i.updater=Rc,s.stateNode=i,i._reactInternals=s,bm(s,a,t,r),s=Nm(null,s,a,!0,n,r)):(s.tag=0,xt&&n&&wu(s),ts(null,s,i,r),s=s.child),s;case 16:a=s.elementType;e:{switch(Ao(t,s),t=s.pendingProps,i=a._init,a=i(a._payload),s.type=a,i=s.tag=Sj(a),t=Us(a,t),i){case 0:s=jm(null,s,a,t,r);break e;case 1:s=Zx(null,s,a,t,r);break e;case 11:s=Hx(null,s,a,t,r);break e;case 14:s=Qx(null,s,a,Us(a.type,t),r);break e}throw Error(he(306,a,""))}return s;case 0:return a=s.type,i=s.pendingProps,i=s.elementType===a?i:Us(a,i),jm(t,s,a,i,r);case 1:return a=s.type,i=s.pendingProps,i=s.elementType===a?i:Us(a,i),Zx(t,s,a,i,r);case 3:e:{if(y0(s),t===null)throw Error(he(387));a=s.pendingProps,n=s.memoizedState,i=n.element,Wg(t,s),rc(s,a,null,r);var l=s.memoizedState;if(a=l.element,n.isDehydrated)if(n={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},s.updateQueue.baseState=n,s.memoizedState=n,s.flags&256){i=Ni(Error(he(423)),s),s=Yx(t,s,a,r,i);break e}else if(a!==i){i=Ni(Error(he(424)),s),s=Yx(t,s,a,r,i);break e}else for(js=Qa(s.stateNode.containerInfo.firstChild),Ns=s,xt=!0,Hs=null,r=Vg(s,null,a,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(bi(),a===i){s=Fr(t,s,r);break e}ts(t,s,a,r)}s=s.child}return s;case 5:return Gg(s),t===null&&fm(s),a=s.type,i=s.pendingProps,n=t!==null?t.memoizedProps:null,l=i.children,mm(a,i)?l=null:n!==null&&mm(a,n)&&(s.flags|=32),g0(t,s),ts(t,s,l,r),s.child;case 6:return t===null&&fm(s),null;case 13:return b0(t,s,r);case 4:return Tu(s,s.stateNode.containerInfo),a=s.pendingProps,t===null?s.child=vi(s,null,a,r):ts(t,s,a,r),s.child;case 11:return a=s.type,i=s.pendingProps,i=s.elementType===a?i:Us(a,i),Hx(t,s,a,i,r);case 7:return ts(t,s,s.pendingProps,r),s.child;case 8:return ts(t,s,s.pendingProps.children,r),s.child;case 12:return ts(t,s,s.pendingProps.children,r),s.child;case 10:e:{if(a=s.type._context,i=s.pendingProps,n=s.memoizedProps,l=i.value,mt(tc,a._currentValue),a._currentValue=l,n!==null)if(er(n.value,l)){if(n.children===i.children&&!xs.current){s=Fr(t,s,r);break e}}else for(n=s.child,n!==null&&(n.return=s);n!==null;){var o=n.dependencies;if(o!==null){l=n.child;for(var c=o.firstContext;c!==null;){if(c.context===a){if(n.tag===1){c=Er(-1,r&-r),c.tag=2;var m=n.updateQueue;if(m!==null){m=m.shared;var d=m.pending;d===null?c.next=c:(c.next=d.next,d.next=c),m.pending=c}}n.lanes|=r,c=n.alternate,c!==null&&(c.lanes|=r),gm(n.return,r,s),o.lanes|=r;break}c=c.next}}else if(n.tag===10)l=n.type===s.type?null:n.child;else if(n.tag===18){if(l=n.return,l===null)throw Error(he(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),gm(l,r,s),l=n.sibling}else l=n.child;if(l!==null)l.return=n;else for(l=n;l!==null;){if(l===s){l=null;break}if(n=l.sibling,n!==null){n.return=l.return,l=n;break}l=l.return}n=l}ts(t,s,i.children,r),s=s.child}return s;case 9:return i=s.type,a=s.pendingProps.children,li(s,r),i=Is(i),a=a(i),s.flags|=1,ts(t,s,a,r),s.child;case 14:return a=s.type,i=Us(a,s.pendingProps),i=Us(a.type,i),Qx(t,s,a,i,r);case 15:return h0(t,s,s.type,s.pendingProps,r);case 17:return a=s.type,i=s.pendingProps,i=s.elementType===a?i:Us(a,i),Ao(t,s),s.tag=1,hs(a)?(t=!0,Jo(s)):t=!1,li(s,r),u0(s,a,i),bm(s,a,i,r),Nm(null,s,a,!0,t,r);case 19:return v0(t,s,r);case 22:return f0(t,s,r)}throw Error(he(156,s.tag))};function L0(t,s){return cg(t,s)}function wj(t,s,r,a){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rs(t,s,r,a){return new wj(t,s,r,a)}function Gu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sj(t){if(typeof t=="function")return Gu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mu)return 11;if(t===uu)return 14}return 2}function Ja(t,s){var r=t.alternate;return r===null?(r=Rs(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Io(t,s,r,a,i,n){var l=2;if(a=t,typeof t=="function")Gu(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Wn:return En(r.children,i,n,s);case du:l=8,i|=8;break;case Vd:return t=Rs(12,r,s,i|2),t.elementType=Vd,t.lanes=n,t;case qd:return t=Rs(13,r,s,i),t.elementType=qd,t.lanes=n,t;case Wd:return t=Rs(19,r,s,i),t.elementType=Wd,t.lanes=n,t;case Gf:return Lc(r,i,n,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qf:l=10;break e;case Wf:l=9;break e;case mu:l=11;break e;case uu:l=14;break e;case Ea:l=16,a=null;break e}throw Error(he(130,t==null?t:typeof t,""))}return s=Rs(l,r,s,i),s.elementType=t,s.type=a,s.lanes=n,s}function En(t,s,r,a){return t=Rs(7,t,a,s),t.lanes=r,t}function Lc(t,s,r,a){return t=Rs(22,t,a,s),t.elementType=Gf,t.lanes=r,t.stateNode={isHidden:!1},t}function _d(t,s,r){return t=Rs(6,t,null,s),t.lanes=r,t}function Pd(t,s,r){return s=Rs(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function kj(t,s,r,a,i){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=od(0),this.expirationTimes=od(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=od(0),this.identifierPrefix=a,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hu(t,s,r,a,i,n,l,o,c){return t=new kj(t,s,r,o,c),s===1?(s=1,n===!0&&(s|=8)):s=0,n=Rs(3,null,null,s),t.current=n,n.stateNode=t,n.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Du(n),t}function Cj(t,s,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qn,key:a==null?null:""+a,children:t,containerInfo:s,implementation:r}}function M0(t){if(!t)return sn;t=t._reactInternals;e:{if(On(t)!==t||t.tag!==1)throw Error(he(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(hs(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(he(171))}if(t.tag===1){var r=t.type;if(hs(r))return Mg(t,r,s)}return s}function $0(t,s,r,a,i,n,l,o,c){return t=Hu(r,a,!0,t,i,n,l,o,c),t.context=M0(null),r=t.current,a=as(),i=Ka(r),n=Er(a,i),n.callback=s??null,Za(r,n,i),t.current.lanes=i,Wl(t,i,a),fs(t,a),t}function Mc(t,s,r,a){var i=s.current,n=as(),l=Ka(i);return r=M0(r),s.context===null?s.context=r:s.pendingContext=r,s=Er(n,l),s.payload={element:t},a=a===void 0?null:a,a!==null&&(s.callback=a),t=Za(i,s,l),t!==null&&(Js(t,i,l,n),Eo(t,i,l)),l}function mc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ih(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Qu(t,s){ih(t,s),(t=t.alternate)&&ih(t,s)}function _j(){return null}var O0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zu(t){this._internalRoot=t}$c.prototype.render=Zu.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(he(409));Mc(t,s,null,null)};$c.prototype.unmount=Zu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;In(function(){Mc(null,t,null,null)}),s[Ar]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var s=fg();t={blockedOn:null,target:t,priority:s};for(var r=0;r<Aa.length&&s!==0&&s<Aa[r].priority;r++);Aa.splice(r,0,t),r===0&&yg(t)}};function Yu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lh(){}function Pj(t,s,r,a,i){if(i){if(typeof a=="function"){var n=a;a=function(){var m=mc(l);n.call(m)}}var l=$0(s,a,t,0,null,!1,!1,"",lh);return t._reactRootContainer=l,t[Ar]=l.current,Cl(t.nodeType===8?t.parentNode:t),In(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof a=="function"){var o=a;a=function(){var m=mc(c);o.call(m)}}var c=Hu(t,0,!1,null,null,!1,!1,"",lh);return t._reactRootContainer=c,t[Ar]=c.current,Cl(t.nodeType===8?t.parentNode:t),In(function(){Mc(s,c,r,a)}),c}function Bc(t,s,r,a,i){var n=r._reactRootContainer;if(n){var l=n;if(typeof i=="function"){var o=i;i=function(){var c=mc(l);o.call(c)}}Mc(s,l,t,i)}else l=Pj(r,s,t,i,a);return mc(l)}xg=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var r=rl(s.pendingLanes);r!==0&&(hu(s,r|1),fs(s,wt()),!(st&6)&&(wi=wt()+500,on()))}break;case 13:In(function(){var a=Rr(t,1);if(a!==null){var i=as();Js(a,t,1,i)}}),Qu(t,1)}};fu=function(t){if(t.tag===13){var s=Rr(t,134217728);if(s!==null){var r=as();Js(s,t,134217728,r)}Qu(t,134217728)}};hg=function(t){if(t.tag===13){var s=Ka(t),r=Rr(t,s);if(r!==null){var a=as();Js(r,t,s,a)}Qu(t,s)}};fg=function(){return lt};gg=function(t,s){var r=lt;try{return lt=t,s()}finally{lt=r}};tm=function(t,s,r){switch(s){case"input":if(Qd(t,r),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var a=r[s];if(a!==t&&a.form===t.form){var i=Dc(a);if(!i)throw Error(he(90));Qf(a),Qd(a,i)}}}break;case"textarea":Yf(t,r);break;case"select":s=r.value,s!=null&&ri(t,!!r.multiple,s,!1)}};rg=Vu;ag=In;var Ej={usingClientEntryPoint:!1,Events:[Hl,Zn,Dc,tg,sg,Vu]},Zi={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dj={bundleType:Zi.bundleType,version:Zi.version,rendererPackageName:Zi.rendererPackageName,rendererConfig:Zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lg(t),t===null?null:t.stateNode},findFiberByHostInstance:Zi.findFiberByHostInstance||_j,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vo.isDisabled&&vo.supportsFiber)try{Cc=vo.inject(Dj),pr=vo}catch{}}Cs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ej;Cs.createPortal=function(t,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yu(s))throw Error(he(200));return Cj(t,s,null,r)};Cs.createRoot=function(t,s){if(!Yu(t))throw Error(he(299));var r=!1,a="",i=O0;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),s=Hu(t,1,!1,null,null,r,!1,a,i),t[Ar]=s.current,Cl(t.nodeType===8?t.parentNode:t),new Zu(s)};Cs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=lg(s),t=t===null?null:t.stateNode,t};Cs.flushSync=function(t){return In(t)};Cs.hydrate=function(t,s,r){if(!Oc(s))throw Error(he(200));return Bc(null,t,s,!0,r)};Cs.hydrateRoot=function(t,s,r){if(!Yu(t))throw Error(he(405));var a=r!=null&&r.hydratedSources||null,i=!1,n="",l=O0;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(n=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),s=$0(s,null,t,1,r??null,i,!1,n,l),t[Ar]=s.current,Cl(t),a)for(t=0;t<a.length;t++)r=a[t],i=r._getVersion,i=i(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,i]:s.mutableSourceEagerHydrationData.push(r,i);return new $c(s)};Cs.render=function(t,s,r){if(!Oc(s))throw Error(he(200));return Bc(null,t,s,!1,r)};Cs.unmountComponentAtNode=function(t){if(!Oc(t))throw Error(he(40));return t._reactRootContainer?(In(function(){Bc(null,null,t,!1,function(){t._reactRootContainer=null,t[Ar]=null})}),!0):!1};Cs.unstable_batchedUpdates=Vu;Cs.unstable_renderSubtreeIntoContainer=function(t,s,r,a){if(!Oc(r))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return Bc(t,s,r,!1,a)};Cs.version="18.3.1-next-f1338f8080-20240426";function B0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B0)}catch(t){console.error(t)}}B0(),Bf.exports=Cs;var Tj=Bf.exports,oh=Tj;zd.createRoot=oh.createRoot,zd.hydrateRoot=oh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Il.apply(this,arguments)}var Va;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Va||(Va={}));const ch="popstate";function Aj(t){t===void 0&&(t={});function s(a,i){let{pathname:n,search:l,hash:o}=a.location;return Fm("",{pathname:n,search:l,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){return typeof i=="string"?i:uc(i)}return Fj(s,r,null,t)}function kt(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function z0(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Rj(){return Math.random().toString(36).substr(2,8)}function dh(t,s){return{usr:t.state,key:t.key,idx:s}}function Fm(t,s,r,a){return r===void 0&&(r=null),Il({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?Fi(s):s,{state:r,key:s&&s.key||a||Rj()})}function uc(t){let{pathname:s="/",search:r="",hash:a=""}=t;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Fi(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substr(r),t=t.substr(0,r));let a=t.indexOf("?");a>=0&&(s.search=t.substr(a),t=t.substr(0,a)),t&&(s.pathname=t)}return s}function Fj(t,s,r,a){a===void 0&&(a={});let{window:i=document.defaultView,v5Compat:n=!1}=a,l=i.history,o=Va.Pop,c=null,m=d();m==null&&(m=0,l.replaceState(Il({},l.state,{idx:m}),""));function d(){return(l.state||{idx:null}).idx}function x(){o=Va.Pop;let y=d(),h=y==null?null:y-m;m=y,c&&c({action:o,location:u.location,delta:h})}function p(y,h){o=Va.Push;let f=Fm(u.location,y,h);m=d()+1;let v=dh(f,m),T=u.createHref(f);try{l.pushState(v,"",T)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(T)}n&&c&&c({action:o,location:u.location,delta:1})}function j(y,h){o=Va.Replace;let f=Fm(u.location,y,h);m=d();let v=dh(f,m),T=u.createHref(f);l.replaceState(v,"",T),n&&c&&c({action:o,location:u.location,delta:0})}function g(y){let h=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof y=="string"?y:uc(y);return f=f.replace(/ $/,"%20"),kt(h,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,h)}let u={get action(){return o},get location(){return t(i,l)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ch,x),c=y,()=>{i.removeEventListener(ch,x),c=null}},createHref(y){return s(i,y)},createURL:g,encodeLocation(y){let h=g(y);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:p,replace:j,go(y){return l.go(y)}};return u}var mh;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mh||(mh={}));function Ij(t,s,r){return r===void 0&&(r="/"),Lj(t,s,r)}function Lj(t,s,r,a){let i=typeof s=="string"?Fi(s):s,n=Ku(i.pathname||"/",r);if(n==null)return null;let l=U0(t);Mj(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let m=Zj(n);o=Gj(l[c],m)}return o}function U0(t,s,r,a){s===void 0&&(s=[]),r===void 0&&(r=[]),a===void 0&&(a="");let i=(n,l,o)=>{let c={relativePath:o===void 0?n.path||"":o,caseSensitive:n.caseSensitive===!0,childrenIndex:l,route:n};c.relativePath.startsWith("/")&&(kt(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let m=Xa([a,c.relativePath]),d=r.concat(c);n.children&&n.children.length>0&&(kt(n.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),U0(n.children,s,d,m)),!(n.path==null&&!n.index)&&s.push({path:m,score:qj(m,n.index),routesMeta:d})};return t.forEach((n,l)=>{var o;if(n.path===""||!((o=n.path)!=null&&o.includes("?")))i(n,l);else for(let c of V0(n.path))i(n,l,c)}),s}function V0(t){let s=t.split("/");if(s.length===0)return[];let[r,...a]=s,i=r.endsWith("?"),n=r.replace(/\?$/,"");if(a.length===0)return i?[n,""]:[n];let l=V0(a.join("/")),o=[];return o.push(...l.map(c=>c===""?n:[n,c].join("/"))),i&&o.push(...l),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function Mj(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:Wj(s.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const $j=/^:[\w-]+$/,Oj=3,Bj=2,zj=1,Uj=10,Vj=-2,uh=t=>t==="*";function qj(t,s){let r=t.split("/"),a=r.length;return r.some(uh)&&(a+=Vj),s&&(a+=Bj),r.filter(i=>!uh(i)).reduce((i,n)=>i+($j.test(n)?Oj:n===""?zj:Uj),a)}function Wj(t,s){return t.length===s.length&&t.slice(0,-1).every((a,i)=>a===s[i])?t[t.length-1]-s[s.length-1]:0}function Gj(t,s,r){let{routesMeta:a}=t,i={},n="/",l=[];for(let o=0;o<a.length;++o){let c=a[o],m=o===a.length-1,d=n==="/"?s:s.slice(n.length)||"/",x=Hj({path:c.relativePath,caseSensitive:c.caseSensitive,end:m},d),p=c.route;if(!x)return null;Object.assign(i,x.params),l.push({params:i,pathname:Xa([n,x.pathname]),pathnameBase:Xj(Xa([n,x.pathnameBase])),route:p}),x.pathnameBase!=="/"&&(n=Xa([n,x.pathnameBase]))}return l}function Hj(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=Qj(t.path,t.caseSensitive,t.end),i=s.match(r);if(!i)return null;let n=i[0],l=n.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:a.reduce((m,d,x)=>{let{paramName:p,isOptional:j}=d;if(p==="*"){let u=o[x]||"";l=n.slice(0,n.length-u.length).replace(/(.)\/+$/,"$1")}const g=o[x];return j&&!g?m[p]=void 0:m[p]=(g||"").replace(/%2F/g,"/"),m},{}),pathname:n,pathnameBase:l,pattern:t}}function Qj(t,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),z0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,s?void 0:"i"),a]}function Zj(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return z0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function Ku(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}function Yj(t,s){s===void 0&&(s="/");let{pathname:r,search:a="",hash:i=""}=typeof t=="string"?Fi(t):t;return{pathname:r?r.startsWith("/")?r:Kj(r,s):s,search:eN(a),hash:tN(i)}}function Kj(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Ed(t,s,r,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Jj(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function Ju(t,s){let r=Jj(t);return s?r.map((a,i)=>i===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function Xu(t,s,r,a){a===void 0&&(a=!1);let i;typeof t=="string"?i=Fi(t):(i=Il({},t),kt(!i.pathname||!i.pathname.includes("?"),Ed("?","pathname","search",i)),kt(!i.pathname||!i.pathname.includes("#"),Ed("#","pathname","hash",i)),kt(!i.search||!i.search.includes("#"),Ed("#","search","hash",i)));let n=t===""||i.pathname==="",l=n?"/":i.pathname,o;if(l==null)o=r;else{let x=s.length-1;if(!a&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),x-=1;i.pathname=p.join("/")}o=x>=0?s[x]:"/"}let c=Yj(i,o),m=l&&l!=="/"&&l.endsWith("/"),d=(n||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(m||d)&&(c.pathname+="/"),c}const Xa=t=>t.join("/").replace(/\/\/+/g,"/"),Xj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const q0=["post","put","patch","delete"];new Set(q0);const rN=["get",...q0];new Set(rN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ll.apply(this,arguments)}const ep=b.createContext(null),aN=b.createContext(null),cn=b.createContext(null),zc=b.createContext(null),Or=b.createContext({outlet:null,matches:[],isDataRoute:!1}),W0=b.createContext(null);function nN(t,s){let{relative:r}=s===void 0?{}:s;Ii()||kt(!1);let{basename:a,navigator:i}=b.useContext(cn),{hash:n,pathname:l,search:o}=H0(t,{relative:r}),c=l;return a!=="/"&&(c=l==="/"?a:Xa([a,l])),i.createHref({pathname:c,search:o,hash:n})}function Ii(){return b.useContext(zc)!=null}function Ms(){return Ii()||kt(!1),b.useContext(zc).location}function G0(t){b.useContext(cn).static||b.useLayoutEffect(t)}function rt(){let{isDataRoute:t}=b.useContext(Or);return t?yN():iN()}function iN(){Ii()||kt(!1);let t=b.useContext(ep),{basename:s,future:r,navigator:a}=b.useContext(cn),{matches:i}=b.useContext(Or),{pathname:n}=Ms(),l=JSON.stringify(Ju(i,r.v7_relativeSplatPath)),o=b.useRef(!1);return G0(()=>{o.current=!0}),b.useCallback(function(m,d){if(d===void 0&&(d={}),!o.current)return;if(typeof m=="number"){a.go(m);return}let x=Xu(m,JSON.parse(l),n,d.relative==="path");t==null&&s!=="/"&&(x.pathname=x.pathname==="/"?s:Xa([s,x.pathname])),(d.replace?a.replace:a.push)(x,d.state,d)},[s,a,l,n,t])}function tr(){let{matches:t}=b.useContext(Or),s=t[t.length-1];return s?s.params:{}}function H0(t,s){let{relative:r}=s===void 0?{}:s,{future:a}=b.useContext(cn),{matches:i}=b.useContext(Or),{pathname:n}=Ms(),l=JSON.stringify(Ju(i,a.v7_relativeSplatPath));return b.useMemo(()=>Xu(t,JSON.parse(l),n,r==="path"),[t,l,n,r])}function lN(t,s){return oN(t,s)}function oN(t,s,r,a){Ii()||kt(!1);let{navigator:i}=b.useContext(cn),{matches:n}=b.useContext(Or),l=n[n.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let m=Ms(),d;if(s){var x;let y=typeof s=="string"?Fi(s):s;c==="/"||(x=y.pathname)!=null&&x.startsWith(c)||kt(!1),d=y}else d=m;let p=d.pathname||"/",j=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");j="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=Ij(t,{pathname:j}),u=pN(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Xa([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Xa([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),n,r,a);return s&&u?b.createElement(zc.Provider,{value:{location:Ll({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Va.Pop}},u):u}function cN(){let t=gN(),s=sN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},s),r?b.createElement("pre",{style:i},r):null,null)}const dN=b.createElement(cN,null);class mN extends b.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?b.createElement(Or.Provider,{value:this.props.routeContext},b.createElement(W0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uN(t){let{routeContext:s,match:r,children:a}=t,i=b.useContext(ep);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Or.Provider,{value:s},a)}function pN(t,s,r,a){var i;if(s===void 0&&(s=[]),r===void 0&&(r=null),a===void 0&&(a=null),t==null){var n;if(!r)return null;if(r.errors)t=r.matches;else if((n=a)!=null&&n.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=l.findIndex(x=>x.route.id&&(o==null?void 0:o[x.route.id])!==void 0);d>=0||kt(!1),l=l.slice(0,Math.min(l.length,d+1))}let c=!1,m=-1;if(r&&a&&a.v7_partialHydration)for(let d=0;d<l.length;d++){let x=l[d];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=d),x.route.id){let{loaderData:p,errors:j}=r,g=x.route.loader&&p[x.route.id]===void 0&&(!j||j[x.route.id]===void 0);if(x.route.lazy||g){c=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((d,x,p)=>{let j,g=!1,u=null,y=null;r&&(j=o&&x.route.id?o[x.route.id]:void 0,u=x.route.errorElement||dN,c&&(m<0&&p===0?(bN("route-fallback"),g=!0,y=null):m===p&&(g=!0,y=x.route.hydrateFallbackElement||null)));let h=s.concat(l.slice(0,p+1)),f=()=>{let v;return j?v=u:g?v=y:x.route.Component?v=b.createElement(x.route.Component,null):x.route.element?v=x.route.element:v=d,b.createElement(uN,{match:x,routeContext:{outlet:d,matches:h,isDataRoute:r!=null},children:v})};return r&&(x.route.ErrorBoundary||x.route.errorElement||p===0)?b.createElement(mN,{location:r.location,revalidation:r.revalidation,component:u,error:j,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var Q0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Q0||{}),Z0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Z0||{});function xN(t){let s=b.useContext(ep);return s||kt(!1),s}function hN(t){let s=b.useContext(aN);return s||kt(!1),s}function fN(t){let s=b.useContext(Or);return s||kt(!1),s}function Y0(t){let s=fN(),r=s.matches[s.matches.length-1];return r.route.id||kt(!1),r.route.id}function gN(){var t;let s=b.useContext(W0),r=hN(),a=Y0();return s!==void 0?s:(t=r.errors)==null?void 0:t[a]}function yN(){let{router:t}=xN(Q0.UseNavigateStable),s=Y0(Z0.UseNavigateStable),r=b.useRef(!1);return G0(()=>{r.current=!0}),b.useCallback(function(i,n){n===void 0&&(n={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ll({fromRouteId:s},n)))},[t,s])}const ph={};function bN(t,s,r){ph[t]||(ph[t]=!0)}function vN(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function si(t){let{to:s,replace:r,state:a,relative:i}=t;Ii()||kt(!1);let{future:n,static:l}=b.useContext(cn),{matches:o}=b.useContext(Or),{pathname:c}=Ms(),m=rt(),d=Xu(s,Ju(o,n.v7_relativeSplatPath),c,i==="path"),x=JSON.stringify(d);return b.useEffect(()=>m(JSON.parse(x),{replace:r,state:a,relative:i}),[m,x,i,r,a]),null}function Qe(t){kt(!1)}function jN(t){let{basename:s="/",children:r=null,location:a,navigationType:i=Va.Pop,navigator:n,static:l=!1,future:o}=t;Ii()&&kt(!1);let c=s.replace(/^\/*/,"/"),m=b.useMemo(()=>({basename:c,navigator:n,static:l,future:Ll({v7_relativeSplatPath:!1},o)}),[c,o,n,l]);typeof a=="string"&&(a=Fi(a));let{pathname:d="/",search:x="",hash:p="",state:j=null,key:g="default"}=a,u=b.useMemo(()=>{let y=Ku(d,c);return y==null?null:{location:{pathname:y,search:x,hash:p,state:j,key:g},navigationType:i}},[c,d,x,p,j,g,i]);return u==null?null:b.createElement(cn.Provider,{value:m},b.createElement(zc.Provider,{children:r,value:u}))}function NN(t){let{children:s,location:r}=t;return lN(Im(s),r)}new Promise(()=>{});function Im(t,s){s===void 0&&(s=[]);let r=[];return b.Children.forEach(t,(a,i)=>{if(!b.isValidElement(a))return;let n=[...s,i];if(a.type===b.Fragment){r.push.apply(r,Im(a.props.children,n));return}a.type!==Qe&&kt(!1),!a.props.index||!a.props.children||kt(!1);let l={id:a.props.id||n.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=Im(a.props.children,n)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lm(){return Lm=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Lm.apply(this,arguments)}function wN(t,s){if(t==null)return{};var r={},a=Object.keys(t),i,n;for(n=0;n<a.length;n++)i=a[n],!(s.indexOf(i)>=0)&&(r[i]=t[i]);return r}function SN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kN(t,s){return t.button===0&&(!s||s==="_self")&&!SN(t)}function Mm(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,r)=>{let a=t[r];return s.concat(Array.isArray(a)?a.map(i=>[r,i]):[[r,a]])},[]))}function CN(t,s){let r=Mm(t);return s&&s.forEach((a,i)=>{r.has(i)||s.getAll(i).forEach(n=>{r.append(i,n)})}),r}const _N=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PN="6";try{window.__reactRouterVersion=PN}catch{}const EN="startTransition",xh=vb[EN];function DN(t){let{basename:s,children:r,future:a,window:i}=t,n=b.useRef();n.current==null&&(n.current=Aj({window:i,v5Compat:!0}));let l=n.current,[o,c]=b.useState({action:l.action,location:l.location}),{v7_startTransition:m}=a||{},d=b.useCallback(x=>{m&&xh?xh(()=>c(x)):c(x)},[c,m]);return b.useLayoutEffect(()=>l.listen(d),[l,d]),b.useEffect(()=>vN(a),[a]),b.createElement(jN,{basename:s,children:r,location:o.location,navigationType:o.action,navigator:l,future:a})}const TN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vs=b.forwardRef(function(s,r){let{onClick:a,relative:i,reloadDocument:n,replace:l,state:o,target:c,to:m,preventScrollReset:d,viewTransition:x}=s,p=wN(s,_N),{basename:j}=b.useContext(cn),g,u=!1;if(typeof m=="string"&&AN.test(m)&&(g=m,TN))try{let v=new URL(window.location.href),T=m.startsWith("//")?new URL(v.protocol+m):new URL(m),P=Ku(T.pathname,j);T.origin===v.origin&&P!=null?m=P+T.search+T.hash:u=!0}catch{}let y=nN(m,{relative:i}),h=RN(m,{replace:l,state:o,target:c,preventScrollReset:d,relative:i,viewTransition:x});function f(v){a&&a(v),v.defaultPrevented||h(v)}return b.createElement("a",Lm({},p,{href:g||y,onClick:u||n?a:f,ref:r,target:c}))});var hh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hh||(hh={}));var fh;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fh||(fh={}));function RN(t,s){let{target:r,replace:a,state:i,preventScrollReset:n,relative:l,viewTransition:o}=s===void 0?{}:s,c=rt(),m=Ms(),d=H0(t,{relative:l});return b.useCallback(x=>{if(kN(x,r)){x.preventDefault();let p=a!==void 0?a:uc(m)===uc(d);c(t,{replace:p,state:i,preventScrollReset:n,relative:l,viewTransition:o})}},[m,c,d,a,i,r,t,n,l,o])}function Li(t){let s=b.useRef(Mm(t)),r=b.useRef(!1),a=Ms(),i=b.useMemo(()=>CN(a.search,r.current?null:s.current),[a.search]),n=rt(),l=b.useCallback((o,c)=>{const m=Mm(typeof o=="function"?o(i):o);r.current=!0,n("?"+m,c)},[n,i]);return[i,l]}var Uc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vc=typeof window>"u"||"Deno"in globalThis;function Vs(){}function FN(t,s){return typeof t=="function"?t(s):t}function IN(t){return typeof t=="number"&&t>=0&&t!==1/0}function LN(t,s){return Math.max(t+(s||0)-Date.now(),0)}function $m(t,s){return typeof t=="function"?t(s):t}function MN(t,s){return typeof t=="function"?t(s):t}function gh(t,s){const{type:r="all",exact:a,fetchStatus:i,predicate:n,queryKey:l,stale:o}=t;if(l){if(a){if(s.queryHash!==tp(l,s.options))return!1}else if(!$l(s.queryKey,l))return!1}if(r!=="all"){const c=s.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&s.isStale()!==o||i&&i!==s.state.fetchStatus||n&&!n(s))}function yh(t,s){const{exact:r,status:a,predicate:i,mutationKey:n}=t;if(n){if(!s.options.mutationKey)return!1;if(r){if(Ml(s.options.mutationKey)!==Ml(n))return!1}else if(!$l(s.options.mutationKey,n))return!1}return!(a&&s.state.status!==a||i&&!i(s))}function tp(t,s){return((s==null?void 0:s.queryKeyHashFn)||Ml)(t)}function Ml(t){return JSON.stringify(t,(s,r)=>Om(r)?Object.keys(r).sort().reduce((a,i)=>(a[i]=r[i],a),{}):r)}function $l(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(r=>$l(t[r],s[r])):!1}function K0(t,s){if(t===s)return t;const r=bh(t)&&bh(s);if(r||Om(t)&&Om(s)){const a=r?t:Object.keys(t),i=a.length,n=r?s:Object.keys(s),l=n.length,o=r?[]:{},c=new Set(a);let m=0;for(let d=0;d<l;d++){const x=r?d:n[d];(!r&&c.has(x)||r)&&t[x]===void 0&&s[x]===void 0?(o[x]=void 0,m++):(o[x]=K0(t[x],s[x]),o[x]===t[x]&&t[x]!==void 0&&m++)}return i===l&&m===i?t:o}return s}function bh(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Om(t){if(!vh(t))return!1;const s=t.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!vh(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function vh(t){return Object.prototype.toString.call(t)==="[object Object]"}function $N(t){return new Promise(s=>{setTimeout(s,t)})}function ON(t,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,s):r.structuralSharing!==!1?K0(t,s):s}function BN(t,s,r=0){const a=[...t,s];return r&&a.length>r?a.slice(1):a}function zN(t,s,r=0){const a=[s,...t];return r&&a.length>r?a.slice(0,-1):a}var sp=Symbol();function J0(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===sp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Nn,La,ci,vf,UN=(vf=class extends Uc{constructor(){super();nt(this,Nn);nt(this,La);nt(this,ci);Ve(this,ci,s=>{if(!Vc&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){de(this,La)||this.setEventListener(de(this,ci))}onUnsubscribe(){var s;this.hasListeners()||((s=de(this,La))==null||s.call(this),Ve(this,La,void 0))}setEventListener(s){var r;Ve(this,ci,s),(r=de(this,La))==null||r.call(this),Ve(this,La,s(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(s){de(this,Nn)!==s&&(Ve(this,Nn,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){var s;return typeof de(this,Nn)=="boolean"?de(this,Nn):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Nn=new WeakMap,La=new WeakMap,ci=new WeakMap,vf),X0=new UN,di,Ma,mi,jf,VN=(jf=class extends Uc{constructor(){super();nt(this,di,!0);nt(this,Ma);nt(this,mi);Ve(this,mi,s=>{if(!Vc&&window.addEventListener){const r=()=>s(!0),a=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){de(this,Ma)||this.setEventListener(de(this,mi))}onUnsubscribe(){var s;this.hasListeners()||((s=de(this,Ma))==null||s.call(this),Ve(this,Ma,void 0))}setEventListener(s){var r;Ve(this,mi,s),(r=de(this,Ma))==null||r.call(this),Ve(this,Ma,s(this.setOnline.bind(this)))}setOnline(s){de(this,di)!==s&&(Ve(this,di,s),this.listeners.forEach(a=>{a(s)}))}isOnline(){return de(this,di)}},di=new WeakMap,Ma=new WeakMap,mi=new WeakMap,jf),pc=new VN;function qN(){let t,s;const r=new Promise((i,n)=>{t=i,s=n});r.status="pending",r.catch(()=>{});function a(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{a({status:"fulfilled",value:i}),t(i)},r.reject=i=>{a({status:"rejected",reason:i}),s(i)},r}function WN(t){return Math.min(1e3*2**t,3e4)}function ey(t){return(t??"online")==="online"?pc.isOnline():!0}var ty=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Dd(t){return t instanceof ty}function sy(t){let s=!1,r=0,a=!1,i;const n=qN(),l=u=>{var y;a||(p(new ty(u)),(y=t.abort)==null||y.call(t))},o=()=>{s=!0},c=()=>{s=!1},m=()=>X0.isFocused()&&(t.networkMode==="always"||pc.isOnline())&&t.canRun(),d=()=>ey(t.networkMode)&&t.canRun(),x=u=>{var y;a||(a=!0,(y=t.onSuccess)==null||y.call(t,u),i==null||i(),n.resolve(u))},p=u=>{var y;a||(a=!0,(y=t.onError)==null||y.call(t,u),i==null||i(),n.reject(u))},j=()=>new Promise(u=>{var y;i=h=>{(a||m())&&u(h)},(y=t.onPause)==null||y.call(t)}).then(()=>{var u;i=void 0,a||(u=t.onContinue)==null||u.call(t)}),g=()=>{if(a)return;let u;const y=r===0?t.initialPromise:void 0;try{u=y??t.fn()}catch(h){u=Promise.reject(h)}Promise.resolve(u).then(x).catch(h=>{var R;if(a)return;const f=t.retry??(Vc?0:3),v=t.retryDelay??WN,T=typeof v=="function"?v(r,h):v,P=f===!0||typeof f=="number"&&r<f||typeof f=="function"&&f(r,h);if(s||!P){p(h);return}r++,(R=t.onFail)==null||R.call(t,r,h),$N(T).then(()=>m()?void 0:j()).then(()=>{s?p(h):g()})})};return{promise:n,cancel:l,continue:()=>(i==null||i(),n),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?g():j().then(g),n)}}var GN=t=>setTimeout(t,0);function HN(){let t=[],s=0,r=o=>{o()},a=o=>{o()},i=GN;const n=o=>{s?t.push(o):i(()=>{r(o)})},l=()=>{const o=t;t=[],o.length&&i(()=>{a(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;s++;try{c=o()}finally{s--,s||l()}return c},batchCalls:o=>(...c)=>{n(()=>{o(...c)})},schedule:n,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{a=o},setScheduler:o=>{i=o}}}var rs=HN(),wn,Nf,ry=(Nf=class{constructor(){nt(this,wn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),IN(this.gcTime)&&Ve(this,wn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Vc?1/0:5*60*1e3))}clearGcTimeout(){de(this,wn)&&(clearTimeout(de(this,wn)),Ve(this,wn,void 0))}},wn=new WeakMap,Nf),ui,Sn,Ds,kn,Qt,Ul,Cn,qs,Nr,wf,QN=(wf=class extends ry{constructor(s){super();nt(this,qs);nt(this,ui);nt(this,Sn);nt(this,Ds);nt(this,kn);nt(this,Qt);nt(this,Ul);nt(this,Cn);Ve(this,Cn,!1),Ve(this,Ul,s.defaultOptions),this.setOptions(s.options),this.observers=[],Ve(this,kn,s.client),Ve(this,Ds,de(this,kn).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,Ve(this,ui,YN(this.options)),this.state=s.state??de(this,ui),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=de(this,Qt))==null?void 0:s.promise}setOptions(s){this.options={...de(this,Ul),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&de(this,Ds).remove(this)}setData(s,r){const a=ON(this.state.data,s,this.options);return Wt(this,qs,Nr).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(s,r){Wt(this,qs,Nr).call(this,{type:"setState",state:s,setStateOptions:r})}cancel(s){var a,i;const r=(a=de(this,Qt))==null?void 0:a.promise;return(i=de(this,Qt))==null||i.cancel(s),r?r.then(Vs).catch(Vs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(de(this,ui))}isActive(){return this.observers.some(s=>MN(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>$m(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!LN(this.state.dataUpdatedAt,s)}onFocus(){var r;const s=this.observers.find(a=>a.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(r=de(this,Qt))==null||r.continue()}onOnline(){var r;const s=this.observers.find(a=>a.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(r=de(this,Qt))==null||r.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),de(this,Ds).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(de(this,Qt)&&(de(this,Cn)?de(this,Qt).cancel({revert:!0}):de(this,Qt).cancelRetry()),this.scheduleGc()),de(this,Ds).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Wt(this,qs,Nr).call(this,{type:"invalidate"})}fetch(s,r){var m,d,x;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(de(this,Qt))return de(this,Qt).continueRetry(),de(this,Qt).promise}if(s&&this.setOptions(s),!this.options.queryFn){const p=this.observers.find(j=>j.options.queryFn);p&&this.setOptions(p.options)}const a=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Ve(this,Cn,!0),a.signal)})},n=()=>{const p=J0(this.options,r),g=(()=>{const u={client:de(this,kn),queryKey:this.queryKey,meta:this.meta};return i(u),u})();return Ve(this,Cn,!1),this.options.persister?this.options.persister(p,g,this):p(g)},o=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:de(this,kn),state:this.state,fetchFn:n};return i(p),p})();(m=this.options.behavior)==null||m.onFetch(o,this),Ve(this,Sn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Wt(this,qs,Nr).call(this,{type:"fetch",meta:(x=o.fetchOptions)==null?void 0:x.meta});const c=p=>{var j,g,u,y;Dd(p)&&p.silent||Wt(this,qs,Nr).call(this,{type:"error",error:p}),Dd(p)||((g=(j=de(this,Ds).config).onError)==null||g.call(j,p,this),(y=(u=de(this,Ds).config).onSettled)==null||y.call(u,this.state.data,p,this)),this.scheduleGc()};return Ve(this,Qt,sy({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:a.abort.bind(a),onSuccess:p=>{var j,g,u,y;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(h){c(h);return}(g=(j=de(this,Ds).config).onSuccess)==null||g.call(j,p,this),(y=(u=de(this,Ds).config).onSettled)==null||y.call(u,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,j)=>{Wt(this,qs,Nr).call(this,{type:"failed",failureCount:p,error:j})},onPause:()=>{Wt(this,qs,Nr).call(this,{type:"pause"})},onContinue:()=>{Wt(this,qs,Nr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),de(this,Qt).start()}},ui=new WeakMap,Sn=new WeakMap,Ds=new WeakMap,kn=new WeakMap,Qt=new WeakMap,Ul=new WeakMap,Cn=new WeakMap,qs=new WeakSet,Nr=function(s){const r=a=>{switch(s.type){case"failed":return{...a,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...ZN(a.data,this.options),fetchMeta:s.meta??null};case"success":return Ve(this,Sn,void 0),{...a,data:s.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=s.error;return Dd(i)&&i.revert&&de(this,Sn)?{...de(this,Sn),fetchStatus:"idle"}:{...a,error:i,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...s.state}}};this.state=r(this.state),rs.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),de(this,Ds).notify({query:this,type:"updated",action:s})})},wf);function ZN(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ey(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function YN(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,r=s!==void 0,a=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var lr,Sf,KN=(Sf=class extends Uc{constructor(s={}){super();nt(this,lr);this.config=s,Ve(this,lr,new Map)}build(s,r,a){const i=r.queryKey,n=r.queryHash??tp(i,r);let l=this.get(n);return l||(l=new QN({client:s,queryKey:i,queryHash:n,options:s.defaultQueryOptions(r),state:a,defaultOptions:s.getQueryDefaults(i)}),this.add(l)),l}add(s){de(this,lr).has(s.queryHash)||(de(this,lr).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=de(this,lr).get(s.queryHash);r&&(s.destroy(),r===s&&de(this,lr).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){rs.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return de(this,lr).get(s)}getAll(){return[...de(this,lr).values()]}find(s){const r={exact:!0,...s};return this.getAll().find(a=>gh(r,a))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(a=>gh(s,a)):r}notify(s){rs.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){rs.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){rs.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},lr=new WeakMap,Sf),or,es,_n,cr,Pa,kf,JN=(kf=class extends ry{constructor(s){super();nt(this,cr);nt(this,or);nt(this,es);nt(this,_n);this.mutationId=s.mutationId,Ve(this,es,s.mutationCache),Ve(this,or,[]),this.state=s.state||XN(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){de(this,or).includes(s)||(de(this,or).push(s),this.clearGcTimeout(),de(this,es).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){Ve(this,or,de(this,or).filter(r=>r!==s)),this.scheduleGc(),de(this,es).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){de(this,or).length||(this.state.status==="pending"?this.scheduleGc():de(this,es).remove(this))}continue(){var s;return((s=de(this,_n))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var n,l,o,c,m,d,x,p,j,g,u,y,h,f,v,T,P,R,O,U;const r=()=>{Wt(this,cr,Pa).call(this,{type:"continue"})};Ve(this,_n,sy({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(C,q)=>{Wt(this,cr,Pa).call(this,{type:"failed",failureCount:C,error:q})},onPause:()=>{Wt(this,cr,Pa).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>de(this,es).canRun(this)}));const a=this.state.status==="pending",i=!de(this,_n).canStart();try{if(a)r();else{Wt(this,cr,Pa).call(this,{type:"pending",variables:s,isPaused:i}),await((l=(n=de(this,es).config).onMutate)==null?void 0:l.call(n,s,this));const q=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,s));q!==this.state.context&&Wt(this,cr,Pa).call(this,{type:"pending",context:q,variables:s,isPaused:i})}const C=await de(this,_n).start();return await((d=(m=de(this,es).config).onSuccess)==null?void 0:d.call(m,C,s,this.state.context,this)),await((p=(x=this.options).onSuccess)==null?void 0:p.call(x,C,s,this.state.context)),await((g=(j=de(this,es).config).onSettled)==null?void 0:g.call(j,C,null,this.state.variables,this.state.context,this)),await((y=(u=this.options).onSettled)==null?void 0:y.call(u,C,null,s,this.state.context)),Wt(this,cr,Pa).call(this,{type:"success",data:C}),C}catch(C){try{throw await((f=(h=de(this,es).config).onError)==null?void 0:f.call(h,C,s,this.state.context,this)),await((T=(v=this.options).onError)==null?void 0:T.call(v,C,s,this.state.context)),await((R=(P=de(this,es).config).onSettled)==null?void 0:R.call(P,void 0,C,this.state.variables,this.state.context,this)),await((U=(O=this.options).onSettled)==null?void 0:U.call(O,void 0,C,s,this.state.context)),C}finally{Wt(this,cr,Pa).call(this,{type:"error",error:C})}}finally{de(this,es).runNext(this)}}},or=new WeakMap,es=new WeakMap,_n=new WeakMap,cr=new WeakSet,Pa=function(s){const r=a=>{switch(s.type){case"failed":return{...a,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...a,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:s.error,failureCount:a.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),rs.batch(()=>{de(this,or).forEach(a=>{a.onMutationUpdate(s)}),de(this,es).notify({mutation:this,type:"updated",action:s})})},kf);function XN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kr,Ws,Vl,Cf,e2=(Cf=class extends Uc{constructor(s={}){super();nt(this,kr);nt(this,Ws);nt(this,Vl);this.config=s,Ve(this,kr,new Set),Ve(this,Ws,new Map),Ve(this,Vl,0)}build(s,r,a){const i=new JN({mutationCache:this,mutationId:++so(this,Vl)._,options:s.defaultMutationOptions(r),state:a});return this.add(i),i}add(s){de(this,kr).add(s);const r=jo(s);if(typeof r=="string"){const a=de(this,Ws).get(r);a?a.push(s):de(this,Ws).set(r,[s])}this.notify({type:"added",mutation:s})}remove(s){if(de(this,kr).delete(s)){const r=jo(s);if(typeof r=="string"){const a=de(this,Ws).get(r);if(a)if(a.length>1){const i=a.indexOf(s);i!==-1&&a.splice(i,1)}else a[0]===s&&de(this,Ws).delete(r)}}this.notify({type:"removed",mutation:s})}canRun(s){const r=jo(s);if(typeof r=="string"){const a=de(this,Ws).get(r),i=a==null?void 0:a.find(n=>n.state.status==="pending");return!i||i===s}else return!0}runNext(s){var a;const r=jo(s);if(typeof r=="string"){const i=(a=de(this,Ws).get(r))==null?void 0:a.find(n=>n!==s&&n.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){rs.batch(()=>{de(this,kr).forEach(s=>{this.notify({type:"removed",mutation:s})}),de(this,kr).clear(),de(this,Ws).clear()})}getAll(){return Array.from(de(this,kr))}find(s){const r={exact:!0,...s};return this.getAll().find(a=>yh(r,a))}findAll(s={}){return this.getAll().filter(r=>yh(s,r))}notify(s){rs.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return rs.batch(()=>Promise.all(s.map(r=>r.continue().catch(Vs))))}},kr=new WeakMap,Ws=new WeakMap,Vl=new WeakMap,Cf);function jo(t){var s;return(s=t.options.scope)==null?void 0:s.id}function jh(t){return{onFetch:(s,r)=>{var d,x,p,j,g;const a=s.options,i=(p=(x=(d=s.fetchOptions)==null?void 0:d.meta)==null?void 0:x.fetchMore)==null?void 0:p.direction,n=((j=s.state.data)==null?void 0:j.pages)||[],l=((g=s.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const m=async()=>{let u=!1;const y=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(s.signal.aborted?u=!0:s.signal.addEventListener("abort",()=>{u=!0}),s.signal)})},h=J0(s.options,s.fetchOptions),f=async(v,T,P)=>{if(u)return Promise.reject();if(T==null&&v.pages.length)return Promise.resolve(v);const O=(()=>{const X={client:s.client,queryKey:s.queryKey,pageParam:T,direction:P?"backward":"forward",meta:s.options.meta};return y(X),X})(),U=await h(O),{maxPages:C}=s.options,q=P?zN:BN;return{pages:q(v.pages,U,C),pageParams:q(v.pageParams,T,C)}};if(i&&n.length){const v=i==="backward",T=v?t2:Nh,P={pages:n,pageParams:l},R=T(a,P);o=await f(P,R,v)}else{const v=t??n.length;do{const T=c===0?l[0]??a.initialPageParam:Nh(a,o);if(c>0&&T==null)break;o=await f(o,T),c++}while(c<v)}return o};s.options.persister?s.fetchFn=()=>{var u,y;return(y=(u=s.options).persister)==null?void 0:y.call(u,m,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r)}:s.fetchFn=m}}}function Nh(t,{pages:s,pageParams:r}){const a=s.length-1;return s.length>0?t.getNextPageParam(s[a],s,r[a],r):void 0}function t2(t,{pages:s,pageParams:r}){var a;return s.length>0?(a=t.getPreviousPageParam)==null?void 0:a.call(t,s[0],s,r[0],r):void 0}var bt,$a,Oa,pi,xi,Ba,hi,fi,_f,s2=(_f=class{constructor(t={}){nt(this,bt);nt(this,$a);nt(this,Oa);nt(this,pi);nt(this,xi);nt(this,Ba);nt(this,hi);nt(this,fi);Ve(this,bt,t.queryCache||new KN),Ve(this,$a,t.mutationCache||new e2),Ve(this,Oa,t.defaultOptions||{}),Ve(this,pi,new Map),Ve(this,xi,new Map),Ve(this,Ba,0)}mount(){so(this,Ba)._++,de(this,Ba)===1&&(Ve(this,hi,X0.subscribe(async t=>{t&&(await this.resumePausedMutations(),de(this,bt).onFocus())})),Ve(this,fi,pc.subscribe(async t=>{t&&(await this.resumePausedMutations(),de(this,bt).onOnline())})))}unmount(){var t,s;so(this,Ba)._--,de(this,Ba)===0&&((t=de(this,hi))==null||t.call(this),Ve(this,hi,void 0),(s=de(this,fi))==null||s.call(this),Ve(this,fi,void 0))}isFetching(t){return de(this,bt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return de(this,$a).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=de(this,bt).get(s.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),r=de(this,bt).build(this,s),a=r.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime($m(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(a))}getQueriesData(t){return de(this,bt).findAll(t).map(({queryKey:s,state:r})=>{const a=r.data;return[s,a]})}setQueryData(t,s,r){const a=this.defaultQueryOptions({queryKey:t}),i=de(this,bt).get(a.queryHash),n=i==null?void 0:i.state.data,l=FN(s,n);if(l!==void 0)return de(this,bt).build(this,a).setData(l,{...r,manual:!0})}setQueriesData(t,s,r){return rs.batch(()=>de(this,bt).findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,s,r)]))}getQueryState(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=de(this,bt).get(s.queryHash))==null?void 0:r.state}removeQueries(t){const s=de(this,bt);rs.batch(()=>{s.findAll(t).forEach(r=>{s.remove(r)})})}resetQueries(t,s){const r=de(this,bt);return rs.batch(()=>(r.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const r={revert:!0,...s},a=rs.batch(()=>de(this,bt).findAll(t).map(i=>i.cancel(r)));return Promise.all(a).then(Vs).catch(Vs)}invalidateQueries(t,s={}){return rs.batch(()=>(de(this,bt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},s)))}refetchQueries(t,s={}){const r={...s,cancelRefetch:s.cancelRefetch??!0},a=rs.batch(()=>de(this,bt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let n=i.fetch(void 0,r);return r.throwOnError||(n=n.catch(Vs)),i.state.fetchStatus==="paused"?Promise.resolve():n}));return Promise.all(a).then(Vs)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const r=de(this,bt).build(this,s);return r.isStaleByTime($m(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Vs).catch(Vs)}fetchInfiniteQuery(t){return t.behavior=jh(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Vs).catch(Vs)}ensureInfiniteQueryData(t){return t.behavior=jh(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return pc.isOnline()?de(this,$a).resumePausedMutations():Promise.resolve()}getQueryCache(){return de(this,bt)}getMutationCache(){return de(this,$a)}getDefaultOptions(){return de(this,Oa)}setDefaultOptions(t){Ve(this,Oa,t)}setQueryDefaults(t,s){de(this,pi).set(Ml(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...de(this,pi).values()],r={};return s.forEach(a=>{$l(t,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(t,s){de(this,xi).set(Ml(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...de(this,xi).values()],r={};return s.forEach(a=>{$l(t,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const s={...de(this,Oa).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=tp(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===sp&&(s.enabled=!1),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...de(this,Oa).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){de(this,bt).clear(),de(this,$a).clear()}},bt=new WeakMap,$a=new WeakMap,Oa=new WeakMap,pi=new WeakMap,xi=new WeakMap,Ba=new WeakMap,hi=new WeakMap,fi=new WeakMap,_f),r2=b.createContext(void 0),a2=({client:t,children:s})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(r2.Provider,{value:t,children:s}));let n2={data:""},i2=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||n2,l2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,o2=/\/\*[^]*?\*\/|  +/g,wh=/\n+/g,Fa=(t,s)=>{let r="",a="",i="";for(let n in t){let l=t[n];n[0]=="@"?n[1]=="i"?r=n+" "+l+";":a+=n[1]=="f"?Fa(l,n):n+"{"+Fa(l,n[1]=="k"?"":s)+"}":typeof l=="object"?a+=Fa(l,s?s.replace(/([^,])+/g,o=>n.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):n):l!=null&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Fa.p?Fa.p(n,l):n+":"+l+";")}return r+(s&&i?s+"{"+i+"}":i)+a},yr={},ay=t=>{if(typeof t=="object"){let s="";for(let r in t)s+=r+ay(t[r]);return s}return t},c2=(t,s,r,a,i)=>{let n=ay(t),l=yr[n]||(yr[n]=(c=>{let m=0,d=11;for(;m<c.length;)d=101*d+c.charCodeAt(m++)>>>0;return"go"+d})(n));if(!yr[l]){let c=n!==t?t:(m=>{let d,x,p=[{}];for(;d=l2.exec(m.replace(o2,""));)d[4]?p.shift():d[3]?(x=d[3].replace(wh," ").trim(),p.unshift(p[0][x]=p[0][x]||{})):p[0][d[1]]=d[2].replace(wh," ").trim();return p[0]})(t);yr[l]=Fa(i?{["@keyframes "+l]:c}:c,r?"":"."+l)}let o=r&&yr.g?yr.g:null;return r&&(yr.g=yr[l]),((c,m,d,x)=>{x?m.data=m.data.replace(x,c):m.data.indexOf(c)===-1&&(m.data=d?c+m.data:m.data+c)})(yr[l],s,a,o),l},d2=(t,s,r)=>t.reduce((a,i,n)=>{let l=s[n];if(l&&l.call){let o=l(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=c?"."+c:o&&typeof o=="object"?o.props?"":Fa(o,""):o===!1?"":o}return a+i+(l??"")},"");function qc(t){let s=this||{},r=t.call?t(s.p):t;return c2(r.unshift?r.raw?d2(r,[].slice.call(arguments,1),s.p):r.reduce((a,i)=>Object.assign(a,i&&i.call?i(s.p):i),{}):r,i2(s.target),s.g,s.o,s.k)}let ny,Bm,zm;qc.bind({g:1});let Ir=qc.bind({k:1});function m2(t,s,r,a){Fa.p=s,ny=t,Bm=r,zm=a}function dn(t,s){let r=this||{};return function(){let a=arguments;function i(n,l){let o=Object.assign({},n),c=o.className||i.className;r.p=Object.assign({theme:Bm&&Bm()},o),r.o=/ *go\d+/.test(c),o.className=qc.apply(r,a)+(c?" "+c:"");let m=t;return t[0]&&(m=o.as||t,delete o.as),zm&&m[0]&&zm(o),ny(m,o)}return i}}var u2=t=>typeof t=="function",xc=(t,s)=>u2(t)?t(s):t,p2=(()=>{let t=0;return()=>(++t).toString()})(),iy=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");t=!s||s.matches}return t}})(),x2=20,ly=(t,s)=>{switch(s.type){case 0:return{...t,toasts:[s.toast,...t.toasts].slice(0,x2)};case 1:return{...t,toasts:t.toasts.map(n=>n.id===s.toast.id?{...n,...s.toast}:n)};case 2:let{toast:r}=s;return ly(t,{type:t.toasts.find(n=>n.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=s;return{...t,toasts:t.toasts.map(n=>n.id===a||a===void 0?{...n,dismissed:!0,visible:!1}:n)};case 4:return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==s.toastId)};case 5:return{...t,pausedAt:s.time};case 6:let i=s.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(n=>({...n,pauseDuration:n.pauseDuration+i}))}}},Lo=[],yn={toasts:[],pausedAt:void 0},Bn=t=>{yn=ly(yn,t),Lo.forEach(s=>{s(yn)})},h2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},f2=(t={})=>{let[s,r]=b.useState(yn),a=b.useRef(yn);b.useEffect(()=>(a.current!==yn&&r(yn),Lo.push(r),()=>{let n=Lo.indexOf(r);n>-1&&Lo.splice(n,1)}),[]);let i=s.toasts.map(n=>{var l,o,c;return{...t,...t[n.type],...n,removeDelay:n.removeDelay||((l=t[n.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:n.duration||((o=t[n.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||h2[n.type],style:{...t.style,...(c=t[n.type])==null?void 0:c.style,...n.style}}});return{...s,toasts:i}},g2=(t,s="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||p2()}),Zl=t=>(s,r)=>{let a=g2(s,t,r);return Bn({type:2,toast:a}),a.id},us=(t,s)=>Zl("blank")(t,s);us.error=Zl("error");us.success=Zl("success");us.loading=Zl("loading");us.custom=Zl("custom");us.dismiss=t=>{Bn({type:3,toastId:t})};us.remove=t=>Bn({type:4,toastId:t});us.promise=(t,s,r)=>{let a=us.loading(s.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let n=s.success?xc(s.success,i):void 0;return n?us.success(n,{id:a,...r,...r==null?void 0:r.success}):us.dismiss(a),i}).catch(i=>{let n=s.error?xc(s.error,i):void 0;n?us.error(n,{id:a,...r,...r==null?void 0:r.error}):us.dismiss(a)}),t};var y2=(t,s)=>{Bn({type:1,toast:{id:t,height:s}})},b2=()=>{Bn({type:5,time:Date.now()})},hl=new Map,v2=1e3,j2=(t,s=v2)=>{if(hl.has(t))return;let r=setTimeout(()=>{hl.delete(t),Bn({type:4,toastId:t})},s);hl.set(t,r)},N2=t=>{let{toasts:s,pausedAt:r}=f2(t);b.useEffect(()=>{if(r)return;let n=Date.now(),l=s.map(o=>{if(o.duration===1/0)return;let c=(o.duration||0)+o.pauseDuration-(n-o.createdAt);if(c<0){o.visible&&us.dismiss(o.id);return}return setTimeout(()=>us.dismiss(o.id),c)});return()=>{l.forEach(o=>o&&clearTimeout(o))}},[s,r]);let a=b.useCallback(()=>{r&&Bn({type:6,time:Date.now()})},[r]),i=b.useCallback((n,l)=>{let{reverseOrder:o=!1,gutter:c=8,defaultPosition:m}=l||{},d=s.filter(j=>(j.position||m)===(n.position||m)&&j.height),x=d.findIndex(j=>j.id===n.id),p=d.filter((j,g)=>g<x&&j.visible).length;return d.filter(j=>j.visible).slice(...o?[p+1]:[0,p]).reduce((j,g)=>j+(g.height||0)+c,0)},[s]);return b.useEffect(()=>{s.forEach(n=>{if(n.dismissed)j2(n.id,n.removeDelay);else{let l=hl.get(n.id);l&&(clearTimeout(l),hl.delete(n.id))}})},[s]),{toasts:s,handlers:{updateHeight:y2,startPause:b2,endPause:a,calculateOffset:i}}},w2=Ir`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,S2=Ir`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,k2=Ir`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,C2=dn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${w2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${S2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${k2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_2=Ir`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,P2=dn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${_2} 1s linear infinite;
`,E2=Ir`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,D2=Ir`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,T2=dn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${E2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${D2} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,A2=dn("div")`
  position: absolute;
`,R2=dn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,F2=Ir`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,I2=dn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${F2} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,L2=({toast:t})=>{let{icon:s,type:r,iconTheme:a}=t;return s!==void 0?typeof s=="string"?b.createElement(I2,null,s):s:r==="blank"?null:b.createElement(R2,null,b.createElement(P2,{...a}),r!=="loading"&&b.createElement(A2,null,r==="error"?b.createElement(C2,{...a}):b.createElement(T2,{...a})))},M2=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,$2=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,O2="0%{opacity:0;} 100%{opacity:1;}",B2="0%{opacity:1;} 100%{opacity:0;}",z2=dn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,U2=dn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,V2=(t,s)=>{let r=t.includes("top")?1:-1,[a,i]=iy()?[O2,B2]:[M2(r),$2(r)];return{animation:s?`${Ir(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ir(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},q2=b.memo(({toast:t,position:s,style:r,children:a})=>{let i=t.height?V2(t.position||s||"top-center",t.visible):{opacity:0},n=b.createElement(L2,{toast:t}),l=b.createElement(U2,{...t.ariaProps},xc(t.message,t));return b.createElement(z2,{className:t.className,style:{...i,...r,...t.style}},typeof a=="function"?a({icon:n,message:l}):b.createElement(b.Fragment,null,n,l))});m2(b.createElement);var W2=({id:t,className:s,style:r,onHeightUpdate:a,children:i})=>{let n=b.useCallback(l=>{if(l){let o=()=>{let c=l.getBoundingClientRect().height;a(t,c)};o(),new MutationObserver(o).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return b.createElement("div",{ref:n,className:s,style:r},i)},G2=(t,s)=>{let r=t.includes("top"),a=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:iy()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(r?1:-1)}px)`,...a,...i}},H2=qc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,No=16,Q2=({reverseOrder:t,position:s="top-center",toastOptions:r,gutter:a,children:i,containerStyle:n,containerClassName:l})=>{let{toasts:o,handlers:c}=N2(r);return b.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:No,left:No,right:No,bottom:No,pointerEvents:"none",...n},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},o.map(m=>{let d=m.position||s,x=c.calculateOffset(m,{reverseOrder:t,gutter:a,defaultPosition:s}),p=G2(d,x);return b.createElement(W2,{id:m.id,key:m.id,onHeightUpdate:c.updateHeight,className:m.visible?H2:"",style:p},m.type==="custom"?xc(m.message,m):i?i(m):b.createElement(q2,{toast:m,position:d}))}))},Z2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Y2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),K2=(t,s)=>{const r=b.forwardRef(({color:a="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:l,children:o,...c},m)=>b.createElement("svg",{ref:m,...Z2,width:i,height:i,stroke:a,strokeWidth:l?Number(n)*24/Number(i):n,className:`lucide lucide-${Y2(t)}`,...c},[...s.map(([d,x])=>b.createElement(d,x)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${t}`,r};var Yl=K2;const J2=Yl("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),X2=Yl("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ew=Yl("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Sh=Yl("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),tw=Yl("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sw={},kh=t=>{let s;const r=new Set,a=(d,x)=>{const p=typeof d=="function"?d(s):d;if(!Object.is(p,s)){const j=s;s=x??(typeof p!="object"||p===null)?p:Object.assign({},s,p),r.forEach(g=>g(s,j))}},i=()=>s,c={setState:a,getState:i,getInitialState:()=>m,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(sw?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},m=s=t(a,i,c);return c},rw=t=>t?kh(t):kh;var oy={exports:{}},cy={},dy={exports:{}},my={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=b;function aw(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var nw=typeof Object.is=="function"?Object.is:aw,iw=Si.useState,lw=Si.useEffect,ow=Si.useLayoutEffect,cw=Si.useDebugValue;function dw(t,s){var r=s(),a=iw({inst:{value:r,getSnapshot:s}}),i=a[0].inst,n=a[1];return ow(function(){i.value=r,i.getSnapshot=s,Td(i)&&n({inst:i})},[t,r,s]),lw(function(){return Td(i)&&n({inst:i}),t(function(){Td(i)&&n({inst:i})})},[t]),cw(r),r}function Td(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!nw(t,r)}catch{return!0}}function mw(t,s){return s()}var uw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mw:dw;my.useSyncExternalStore=Si.useSyncExternalStore!==void 0?Si.useSyncExternalStore:uw;dy.exports=my;var pw=dy.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc=b,xw=pw;function hw(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var fw=typeof Object.is=="function"?Object.is:hw,gw=xw.useSyncExternalStore,yw=Wc.useRef,bw=Wc.useEffect,vw=Wc.useMemo,jw=Wc.useDebugValue;cy.useSyncExternalStoreWithSelector=function(t,s,r,a,i){var n=yw(null);if(n.current===null){var l={hasValue:!1,value:null};n.current=l}else l=n.current;n=vw(function(){function c(j){if(!m){if(m=!0,d=j,j=a(j),i!==void 0&&l.hasValue){var g=l.value;if(i(g,j))return x=g}return x=j}if(g=x,fw(d,j))return g;var u=a(j);return i!==void 0&&i(g,u)?(d=j,g):(d=j,x=u)}var m=!1,d,x,p=r===void 0?null:r;return[function(){return c(s())},p===null?void 0:function(){return c(p())}]},[s,r,a,i]);var o=gw(t,n[0],n[1]);return bw(function(){l.hasValue=!0,l.value=o},[o]),jw(o),o};oy.exports=cy;var Nw=oy.exports;const ww=Pf(Nw),uy={},{useDebugValue:Sw}=ht,{useSyncExternalStoreWithSelector:kw}=ww;let Ch=!1;const Cw=t=>t;function _w(t,s=Cw,r){(uy?"production":void 0)!=="production"&&r&&!Ch&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ch=!0);const a=kw(t.subscribe,t.getState,t.getServerState||t.getInitialState,s,r);return Sw(a),a}const _h=t=>{(uy?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const s=typeof t=="function"?rw(t):t,r=(a,i)=>_w(s,a,i);return Object.assign(r,s),r},Pw=t=>t?_h(t):_h;function py(t,s){return function(){return t.apply(s,arguments)}}const{toString:Ew}=Object.prototype,{getPrototypeOf:rp}=Object,{iterator:Gc,toStringTag:xy}=Symbol,Hc=(t=>s=>{const r=Ew.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),sr=t=>(t=t.toLowerCase(),s=>Hc(s)===t),Qc=t=>s=>typeof s===t,{isArray:Mi}=Array,Ol=Qc("undefined");function Kl(t){return t!==null&&!Ol(t)&&t.constructor!==null&&!Ol(t.constructor)&&gs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const hy=sr("ArrayBuffer");function Dw(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&hy(t.buffer),s}const Tw=Qc("string"),gs=Qc("function"),fy=Qc("number"),Jl=t=>t!==null&&typeof t=="object",Aw=t=>t===!0||t===!1,Mo=t=>{if(Hc(t)!=="object")return!1;const s=rp(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(xy in t)&&!(Gc in t)},Rw=t=>{if(!Jl(t)||Kl(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Fw=sr("Date"),Iw=sr("File"),Lw=sr("Blob"),Mw=sr("FileList"),$w=t=>Jl(t)&&gs(t.pipe),Ow=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||gs(t.append)&&((s=Hc(t))==="formdata"||s==="object"&&gs(t.toString)&&t.toString()==="[object FormData]"))},Bw=sr("URLSearchParams"),[zw,Uw,Vw,qw]=["ReadableStream","Request","Response","Headers"].map(sr),Ww=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xl(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,i;if(typeof t!="object"&&(t=[t]),Mi(t))for(a=0,i=t.length;a<i;a++)s.call(null,t[a],a,t);else{if(Kl(t))return;const n=r?Object.getOwnPropertyNames(t):Object.keys(t),l=n.length;let o;for(a=0;a<l;a++)o=n[a],s.call(null,t[o],o,t)}}function gy(t,s){if(Kl(t))return null;s=s.toLowerCase();const r=Object.keys(t);let a=r.length,i;for(;a-- >0;)if(i=r[a],s===i.toLowerCase())return i;return null}const bn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yy=t=>!Ol(t)&&t!==bn;function Um(){const{caseless:t}=yy(this)&&this||{},s={},r=(a,i)=>{const n=t&&gy(s,i)||i;Mo(s[n])&&Mo(a)?s[n]=Um(s[n],a):Mo(a)?s[n]=Um({},a):Mi(a)?s[n]=a.slice():s[n]=a};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Xl(arguments[a],r);return s}const Gw=(t,s,r,{allOwnKeys:a}={})=>(Xl(s,(i,n)=>{r&&gs(i)?t[n]=py(i,r):t[n]=i},{allOwnKeys:a}),t),Hw=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Qw=(t,s,r,a)=>{t.prototype=Object.create(s.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},Zw=(t,s,r,a)=>{let i,n,l;const o={};if(s=s||{},t==null)return s;do{for(i=Object.getOwnPropertyNames(t),n=i.length;n-- >0;)l=i[n],(!a||a(l,t,s))&&!o[l]&&(s[l]=t[l],o[l]=!0);t=r!==!1&&rp(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},Yw=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const a=t.indexOf(s,r);return a!==-1&&a===r},Kw=t=>{if(!t)return null;if(Mi(t))return t;let s=t.length;if(!fy(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},Jw=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&rp(Uint8Array)),Xw=(t,s)=>{const a=(t&&t[Gc]).call(t);let i;for(;(i=a.next())&&!i.done;){const n=i.value;s.call(t,n[0],n[1])}},e1=(t,s)=>{let r;const a=[];for(;(r=t.exec(s))!==null;)a.push(r);return a},t1=sr("HTMLFormElement"),s1=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,i){return a.toUpperCase()+i}),Ph=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),r1=sr("RegExp"),by=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),a={};Xl(r,(i,n)=>{let l;(l=s(i,n,t))!==!1&&(a[n]=l||i)}),Object.defineProperties(t,a)},a1=t=>{by(t,(s,r)=>{if(gs(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=t[r];if(gs(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},n1=(t,s)=>{const r={},a=i=>{i.forEach(n=>{r[n]=!0})};return Mi(t)?a(t):a(String(t).split(s)),r},i1=()=>{},l1=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function o1(t){return!!(t&&gs(t.append)&&t[xy]==="FormData"&&t[Gc])}const c1=t=>{const s=new Array(10),r=(a,i)=>{if(Jl(a)){if(s.indexOf(a)>=0)return;if(Kl(a))return a;if(!("toJSON"in a)){s[i]=a;const n=Mi(a)?[]:{};return Xl(a,(l,o)=>{const c=r(l,i+1);!Ol(c)&&(n[o]=c)}),s[i]=void 0,n}}return a};return r(t,0)},d1=sr("AsyncFunction"),m1=t=>t&&(Jl(t)||gs(t))&&gs(t.then)&&gs(t.catch),vy=((t,s)=>t?setImmediate:s?((r,a)=>(bn.addEventListener("message",({source:i,data:n})=>{i===bn&&n===r&&a.length&&a.shift()()},!1),i=>{a.push(i),bn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",gs(bn.postMessage)),u1=typeof queueMicrotask<"u"?queueMicrotask.bind(bn):typeof process<"u"&&process.nextTick||vy,p1=t=>t!=null&&gs(t[Gc]),re={isArray:Mi,isArrayBuffer:hy,isBuffer:Kl,isFormData:Ow,isArrayBufferView:Dw,isString:Tw,isNumber:fy,isBoolean:Aw,isObject:Jl,isPlainObject:Mo,isEmptyObject:Rw,isReadableStream:zw,isRequest:Uw,isResponse:Vw,isHeaders:qw,isUndefined:Ol,isDate:Fw,isFile:Iw,isBlob:Lw,isRegExp:r1,isFunction:gs,isStream:$w,isURLSearchParams:Bw,isTypedArray:Jw,isFileList:Mw,forEach:Xl,merge:Um,extend:Gw,trim:Ww,stripBOM:Hw,inherits:Qw,toFlatObject:Zw,kindOf:Hc,kindOfTest:sr,endsWith:Yw,toArray:Kw,forEachEntry:Xw,matchAll:e1,isHTMLForm:t1,hasOwnProperty:Ph,hasOwnProp:Ph,reduceDescriptors:by,freezeMethods:a1,toObjectSet:n1,toCamelCase:s1,noop:i1,toFiniteNumber:l1,findKey:gy,global:bn,isContextDefined:yy,isSpecCompliantForm:o1,toJSONObject:c1,isAsyncFn:d1,isThenable:m1,setImmediate:vy,asap:u1,isIterable:p1};function Ge(t,s,r,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),i&&(this.response=i,this.status=i.status?i.status:null)}re.inherits(Ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const jy=Ge.prototype,Ny={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ny[t]={value:t}});Object.defineProperties(Ge,Ny);Object.defineProperty(jy,"isAxiosError",{value:!0});Ge.from=(t,s,r,a,i,n)=>{const l=Object.create(jy);return re.toFlatObject(t,l,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),Ge.call(l,t.message,s,r,a,i),l.cause=t,l.name=t.name,n&&Object.assign(l,n),l};const x1=null;function Vm(t){return re.isPlainObject(t)||re.isArray(t)}function wy(t){return re.endsWith(t,"[]")?t.slice(0,-2):t}function Eh(t,s,r){return t?t.concat(s).map(function(i,n){return i=wy(i),!r&&n?"["+i+"]":i}).join(r?".":""):s}function h1(t){return re.isArray(t)&&!t.some(Vm)}const f1=re.toFlatObject(re,{},null,function(s){return/^is[A-Z]/.test(s)});function Zc(t,s,r){if(!re.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=re.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(u,y){return!re.isUndefined(y[u])});const a=r.metaTokens,i=r.visitor||d,n=r.dots,l=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(s);if(!re.isFunction(i))throw new TypeError("visitor must be a function");function m(g){if(g===null)return"";if(re.isDate(g))return g.toISOString();if(re.isBoolean(g))return g.toString();if(!c&&re.isBlob(g))throw new Ge("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(g)||re.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,u,y){let h=g;if(g&&!y&&typeof g=="object"){if(re.endsWith(u,"{}"))u=a?u:u.slice(0,-2),g=JSON.stringify(g);else if(re.isArray(g)&&h1(g)||(re.isFileList(g)||re.endsWith(u,"[]"))&&(h=re.toArray(g)))return u=wy(u),h.forEach(function(v,T){!(re.isUndefined(v)||v===null)&&s.append(l===!0?Eh([u],T,n):l===null?u:u+"[]",m(v))}),!1}return Vm(g)?!0:(s.append(Eh(y,u,n),m(g)),!1)}const x=[],p=Object.assign(f1,{defaultVisitor:d,convertValue:m,isVisitable:Vm});function j(g,u){if(!re.isUndefined(g)){if(x.indexOf(g)!==-1)throw Error("Circular reference detected in "+u.join("."));x.push(g),re.forEach(g,function(h,f){(!(re.isUndefined(h)||h===null)&&i.call(s,h,re.isString(f)?f.trim():f,u,p))===!0&&j(h,u?u.concat(f):[f])}),x.pop()}}if(!re.isObject(t))throw new TypeError("data must be an object");return j(t),s}function Dh(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function ap(t,s){this._pairs=[],t&&Zc(t,this,s)}const Sy=ap.prototype;Sy.append=function(s,r){this._pairs.push([s,r])};Sy.toString=function(s){const r=s?function(a){return s.call(this,a,Dh)}:Dh;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function g1(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ky(t,s,r){if(!s)return t;const a=r&&r.encode||g1;re.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let n;if(i?n=i(s,r):n=re.isURLSearchParams(s)?s.toString():new ap(s,r).toString(a),n){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+n}return t}class Th{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){re.forEach(this.handlers,function(a){a!==null&&s(a)})}}const Cy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},y1=typeof URLSearchParams<"u"?URLSearchParams:ap,b1=typeof FormData<"u"?FormData:null,v1=typeof Blob<"u"?Blob:null,j1={isBrowser:!0,classes:{URLSearchParams:y1,FormData:b1,Blob:v1},protocols:["http","https","file","blob","url","data"]},np=typeof window<"u"&&typeof document<"u",qm=typeof navigator=="object"&&navigator||void 0,N1=np&&(!qm||["ReactNative","NativeScript","NS"].indexOf(qm.product)<0),w1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",S1=np&&window.location.href||"http://localhost",k1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:np,hasStandardBrowserEnv:N1,hasStandardBrowserWebWorkerEnv:w1,navigator:qm,origin:S1},Symbol.toStringTag,{value:"Module"})),Yt={...k1,...j1};function C1(t,s){return Zc(t,new Yt.classes.URLSearchParams,{visitor:function(r,a,i,n){return Yt.isNode&&re.isBuffer(r)?(this.append(a,r.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)},...s})}function _1(t){return re.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function P1(t){const s={},r=Object.keys(t);let a;const i=r.length;let n;for(a=0;a<i;a++)n=r[a],s[n]=t[n];return s}function _y(t){function s(r,a,i,n){let l=r[n++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=n>=r.length;return l=!l&&re.isArray(i)?i.length:l,c?(re.hasOwnProp(i,l)?i[l]=[i[l],a]:i[l]=a,!o):((!i[l]||!re.isObject(i[l]))&&(i[l]=[]),s(r,a,i[l],n)&&re.isArray(i[l])&&(i[l]=P1(i[l])),!o)}if(re.isFormData(t)&&re.isFunction(t.entries)){const r={};return re.forEachEntry(t,(a,i)=>{s(_1(a),i,r,0)}),r}return null}function E1(t,s,r){if(re.isString(t))try{return(s||JSON.parse)(t),re.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}const eo={transitional:Cy,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",i=a.indexOf("application/json")>-1,n=re.isObject(s);if(n&&re.isHTMLForm(s)&&(s=new FormData(s)),re.isFormData(s))return i?JSON.stringify(_y(s)):s;if(re.isArrayBuffer(s)||re.isBuffer(s)||re.isStream(s)||re.isFile(s)||re.isBlob(s)||re.isReadableStream(s))return s;if(re.isArrayBufferView(s))return s.buffer;if(re.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(n){if(a.indexOf("application/x-www-form-urlencoded")>-1)return C1(s,this.formSerializer).toString();if((o=re.isFileList(s))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Zc(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return n||i?(r.setContentType("application/json",!1),E1(s)):s}],transformResponse:[function(s){const r=this.transitional||eo.transitional,a=r&&r.forcedJSONParsing,i=this.responseType==="json";if(re.isResponse(s)||re.isReadableStream(s))return s;if(s&&re.isString(s)&&(a&&!this.responseType||i)){const l=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(s)}catch(o){if(l)throw o.name==="SyntaxError"?Ge.from(o,Ge.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yt.classes.FormData,Blob:Yt.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],t=>{eo.headers[t]={}});const D1=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),T1=t=>{const s={};let r,a,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),r=l.substring(0,i).trim().toLowerCase(),a=l.substring(i+1).trim(),!(!r||s[r]&&D1[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},Ah=Symbol("internals");function Yi(t){return t&&String(t).trim().toLowerCase()}function $o(t){return t===!1||t==null?t:re.isArray(t)?t.map($o):String(t)}function A1(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(t);)s[a[1]]=a[2];return s}const R1=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ad(t,s,r,a,i){if(re.isFunction(a))return a.call(this,s,r);if(i&&(s=r),!!re.isString(s)){if(re.isString(a))return s.indexOf(a)!==-1;if(re.isRegExp(a))return a.test(s)}}function F1(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function I1(t,s){const r=re.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(i,n,l){return this[a].call(this,s,i,n,l)},configurable:!0})})}let ys=class{constructor(s){s&&this.set(s)}set(s,r,a){const i=this;function n(o,c,m){const d=Yi(c);if(!d)throw new Error("header name must be a non-empty string");const x=re.findKey(i,d);(!x||i[x]===void 0||m===!0||m===void 0&&i[x]!==!1)&&(i[x||c]=$o(o))}const l=(o,c)=>re.forEach(o,(m,d)=>n(m,d,c));if(re.isPlainObject(s)||s instanceof this.constructor)l(s,r);else if(re.isString(s)&&(s=s.trim())&&!R1(s))l(T1(s),r);else if(re.isObject(s)&&re.isIterable(s)){let o={},c,m;for(const d of s){if(!re.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[m=d[0]]=(c=o[m])?re.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}l(o,r)}else s!=null&&n(r,s,a);return this}get(s,r){if(s=Yi(s),s){const a=re.findKey(this,s);if(a){const i=this[a];if(!r)return i;if(r===!0)return A1(i);if(re.isFunction(r))return r.call(this,i,a);if(re.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=Yi(s),s){const a=re.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||Ad(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let i=!1;function n(l){if(l=Yi(l),l){const o=re.findKey(a,l);o&&(!r||Ad(a,a[o],o,r))&&(delete a[o],i=!0)}}return re.isArray(s)?s.forEach(n):n(s),i}clear(s){const r=Object.keys(this);let a=r.length,i=!1;for(;a--;){const n=r[a];(!s||Ad(this,this[n],n,s,!0))&&(delete this[n],i=!0)}return i}normalize(s){const r=this,a={};return re.forEach(this,(i,n)=>{const l=re.findKey(a,n);if(l){r[l]=$o(i),delete r[n];return}const o=s?F1(n):String(n).trim();o!==n&&delete r[n],r[o]=$o(i),a[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return re.forEach(this,(a,i)=>{a!=null&&a!==!1&&(r[i]=s&&re.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(i=>a.set(i)),a}static accessor(s){const a=(this[Ah]=this[Ah]={accessors:{}}).accessors,i=this.prototype;function n(l){const o=Yi(l);a[o]||(I1(i,l),a[o]=!0)}return re.isArray(s)?s.forEach(n):n(s),this}};ys.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(ys.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(a){this[r]=a}}});re.freezeMethods(ys);function Rd(t,s){const r=this||eo,a=s||r,i=ys.from(a.headers);let n=a.data;return re.forEach(t,function(o){n=o.call(r,n,i.normalize(),s?s.status:void 0)}),i.normalize(),n}function Py(t){return!!(t&&t.__CANCEL__)}function $i(t,s,r){Ge.call(this,t??"canceled",Ge.ERR_CANCELED,s,r),this.name="CanceledError"}re.inherits($i,Ge,{__CANCEL__:!0});function Ey(t,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):s(new Ge("Request failed with status code "+r.status,[Ge.ERR_BAD_REQUEST,Ge.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function L1(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function M1(t,s){t=t||10;const r=new Array(t),a=new Array(t);let i=0,n=0,l;return s=s!==void 0?s:1e3,function(c){const m=Date.now(),d=a[n];l||(l=m),r[i]=c,a[i]=m;let x=n,p=0;for(;x!==i;)p+=r[x++],x=x%t;if(i=(i+1)%t,i===n&&(n=(n+1)%t),m-l<s)return;const j=d&&m-d;return j?Math.round(p*1e3/j):void 0}}function $1(t,s){let r=0,a=1e3/s,i,n;const l=(m,d=Date.now())=>{r=d,i=null,n&&(clearTimeout(n),n=null),t(...m)};return[(...m)=>{const d=Date.now(),x=d-r;x>=a?l(m,d):(i=m,n||(n=setTimeout(()=>{n=null,l(i)},a-x)))},()=>i&&l(i)]}const hc=(t,s,r=3)=>{let a=0;const i=M1(50,250);return $1(n=>{const l=n.loaded,o=n.lengthComputable?n.total:void 0,c=l-a,m=i(c),d=l<=o;a=l;const x={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:m||void 0,estimated:m&&o&&d?(o-l)/m:void 0,event:n,lengthComputable:o!=null,[s?"download":"upload"]:!0};t(x)},r)},Rh=(t,s)=>{const r=t!=null;return[a=>s[0]({lengthComputable:r,total:t,loaded:a}),s[1]]},Fh=t=>(...s)=>re.asap(()=>t(...s)),O1=Yt.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,Yt.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(Yt.origin),Yt.navigator&&/(msie|trident)/i.test(Yt.navigator.userAgent)):()=>!0,B1=Yt.hasStandardBrowserEnv?{write(t,s,r,a,i,n){const l=[t+"="+encodeURIComponent(s)];re.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),re.isString(a)&&l.push("path="+a),re.isString(i)&&l.push("domain="+i),n===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function z1(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function U1(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function Dy(t,s,r){let a=!z1(s);return t&&(a||r==!1)?U1(t,s):s}const Ih=t=>t instanceof ys?{...t}:t;function Ln(t,s){s=s||{};const r={};function a(m,d,x,p){return re.isPlainObject(m)&&re.isPlainObject(d)?re.merge.call({caseless:p},m,d):re.isPlainObject(d)?re.merge({},d):re.isArray(d)?d.slice():d}function i(m,d,x,p){if(re.isUndefined(d)){if(!re.isUndefined(m))return a(void 0,m,x,p)}else return a(m,d,x,p)}function n(m,d){if(!re.isUndefined(d))return a(void 0,d)}function l(m,d){if(re.isUndefined(d)){if(!re.isUndefined(m))return a(void 0,m)}else return a(void 0,d)}function o(m,d,x){if(x in s)return a(m,d);if(x in t)return a(void 0,m)}const c={url:n,method:n,data:n,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(m,d,x)=>i(Ih(m),Ih(d),x,!0)};return re.forEach(Object.keys({...t,...s}),function(d){const x=c[d]||i,p=x(t[d],s[d],d);re.isUndefined(p)&&x!==o||(r[d]=p)}),r}const Ty=t=>{const s=Ln({},t);let{data:r,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:n,headers:l,auth:o}=s;s.headers=l=ys.from(l),s.url=ky(Dy(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(re.isFormData(r)){if(Yt.hasStandardBrowserEnv||Yt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((c=l.getContentType())!==!1){const[m,...d]=c?c.split(";").map(x=>x.trim()).filter(Boolean):[];l.setContentType([m||"multipart/form-data",...d].join("; "))}}if(Yt.hasStandardBrowserEnv&&(a&&re.isFunction(a)&&(a=a(s)),a||a!==!1&&O1(s.url))){const m=i&&n&&B1.read(n);m&&l.set(i,m)}return s},V1=typeof XMLHttpRequest<"u",q1=V1&&function(t){return new Promise(function(r,a){const i=Ty(t);let n=i.data;const l=ys.from(i.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:m}=i,d,x,p,j,g;function u(){j&&j(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function h(){if(!y)return;const v=ys.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),P={data:!o||o==="text"||o==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:v,config:t,request:y};Ey(function(O){r(O),u()},function(O){a(O),u()},P),y=null}"onloadend"in y?y.onloadend=h:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(h)},y.onabort=function(){y&&(a(new Ge("Request aborted",Ge.ECONNABORTED,t,y)),y=null)},y.onerror=function(){a(new Ge("Network Error",Ge.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let T=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const P=i.transitional||Cy;i.timeoutErrorMessage&&(T=i.timeoutErrorMessage),a(new Ge(T,P.clarifyTimeoutError?Ge.ETIMEDOUT:Ge.ECONNABORTED,t,y)),y=null},n===void 0&&l.setContentType(null),"setRequestHeader"in y&&re.forEach(l.toJSON(),function(T,P){y.setRequestHeader(P,T)}),re.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),o&&o!=="json"&&(y.responseType=i.responseType),m&&([p,g]=hc(m,!0),y.addEventListener("progress",p)),c&&y.upload&&([x,j]=hc(c),y.upload.addEventListener("progress",x),y.upload.addEventListener("loadend",j)),(i.cancelToken||i.signal)&&(d=v=>{y&&(a(!v||v.type?new $i(null,t,y):v),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const f=L1(i.url);if(f&&Yt.protocols.indexOf(f)===-1){a(new Ge("Unsupported protocol "+f+":",Ge.ERR_BAD_REQUEST,t));return}y.send(n||null)})},W1=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let a=new AbortController,i;const n=function(m){if(!i){i=!0,o();const d=m instanceof Error?m:this.reason;a.abort(d instanceof Ge?d:new $i(d instanceof Error?d.message:d))}};let l=s&&setTimeout(()=>{l=null,n(new Ge(`timeout ${s} of ms exceeded`,Ge.ETIMEDOUT))},s);const o=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(n):m.removeEventListener("abort",n)}),t=null)};t.forEach(m=>m.addEventListener("abort",n));const{signal:c}=a;return c.unsubscribe=()=>re.asap(o),c}},G1=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let a=0,i;for(;a<r;)i=a+s,yield t.slice(a,i),a=i},H1=async function*(t,s){for await(const r of Q1(t))yield*G1(r,s)},Q1=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},Lh=(t,s,r,a)=>{const i=H1(t,s);let n=0,l,o=c=>{l||(l=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:m,value:d}=await i.next();if(m){o(),c.close();return}let x=d.byteLength;if(r){let p=n+=x;r(p)}c.enqueue(new Uint8Array(d))}catch(m){throw o(m),m}},cancel(c){return o(c),i.return()}},{highWaterMark:2})},Yc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ay=Yc&&typeof ReadableStream=="function",Z1=Yc&&(typeof TextEncoder=="function"?(t=>s=>t.encode(s))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Ry=(t,...s)=>{try{return!!t(...s)}catch{return!1}},Y1=Ay&&Ry(()=>{let t=!1;const s=new Request(Yt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!s}),Mh=64*1024,Wm=Ay&&Ry(()=>re.isReadableStream(new Response("").body)),fc={stream:Wm&&(t=>t.body)};Yc&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!fc[s]&&(fc[s]=re.isFunction(t[s])?r=>r[s]():(r,a)=>{throw new Ge(`Response type '${s}' is not supported`,Ge.ERR_NOT_SUPPORT,a)})})})(new Response);const K1=async t=>{if(t==null)return 0;if(re.isBlob(t))return t.size;if(re.isSpecCompliantForm(t))return(await new Request(Yt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(re.isArrayBufferView(t)||re.isArrayBuffer(t))return t.byteLength;if(re.isURLSearchParams(t)&&(t=t+""),re.isString(t))return(await Z1(t)).byteLength},J1=async(t,s)=>{const r=re.toFiniteNumber(t.getContentLength());return r??K1(s)},X1=Yc&&(async t=>{let{url:s,method:r,data:a,signal:i,cancelToken:n,timeout:l,onDownloadProgress:o,onUploadProgress:c,responseType:m,headers:d,withCredentials:x="same-origin",fetchOptions:p}=Ty(t);m=m?(m+"").toLowerCase():"text";let j=W1([i,n&&n.toAbortSignal()],l),g;const u=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let y;try{if(c&&Y1&&r!=="get"&&r!=="head"&&(y=await J1(d,a))!==0){let P=new Request(s,{method:"POST",body:a,duplex:"half"}),R;if(re.isFormData(a)&&(R=P.headers.get("content-type"))&&d.setContentType(R),P.body){const[O,U]=Rh(y,hc(Fh(c)));a=Lh(P.body,Mh,O,U)}}re.isString(x)||(x=x?"include":"omit");const h="credentials"in Request.prototype;g=new Request(s,{...p,signal:j,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:a,duplex:"half",credentials:h?x:void 0});let f=await fetch(g,p);const v=Wm&&(m==="stream"||m==="response");if(Wm&&(o||v&&u)){const P={};["status","statusText","headers"].forEach(C=>{P[C]=f[C]});const R=re.toFiniteNumber(f.headers.get("content-length")),[O,U]=o&&Rh(R,hc(Fh(o),!0))||[];f=new Response(Lh(f.body,Mh,O,()=>{U&&U(),u&&u()}),P)}m=m||"text";let T=await fc[re.findKey(fc,m)||"text"](f,t);return!v&&u&&u(),await new Promise((P,R)=>{Ey(P,R,{data:T,headers:ys.from(f.headers),status:f.status,statusText:f.statusText,config:t,request:g})})}catch(h){throw u&&u(),h&&h.name==="TypeError"&&/Load failed|fetch/i.test(h.message)?Object.assign(new Ge("Network Error",Ge.ERR_NETWORK,t,g),{cause:h.cause||h}):Ge.from(h,h&&h.code,t,g)}}),Gm={http:x1,xhr:q1,fetch:X1};re.forEach(Gm,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const $h=t=>`- ${t}`,eS=t=>re.isFunction(t)||t===null||t===!1,Fy={getAdapter:t=>{t=re.isArray(t)?t:[t];const{length:s}=t;let r,a;const i={};for(let n=0;n<s;n++){r=t[n];let l;if(a=r,!eS(r)&&(a=Gm[(l=String(r)).toLowerCase()],a===void 0))throw new Ge(`Unknown adapter '${l}'`);if(a)break;i[l||"#"+n]=a}if(!a){const n=Object.entries(i).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=s?n.length>1?`since :
`+n.map($h).join(`
`):" "+$h(n[0]):"as no adapter specified";throw new Ge("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:Gm};function Fd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new $i(null,t)}function Oh(t){return Fd(t),t.headers=ys.from(t.headers),t.data=Rd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Fy.getAdapter(t.adapter||eo.adapter)(t).then(function(a){return Fd(t),a.data=Rd.call(t,t.transformResponse,a),a.headers=ys.from(a.headers),a},function(a){return Py(a)||(Fd(t),a&&a.response&&(a.response.data=Rd.call(t,t.transformResponse,a.response),a.response.headers=ys.from(a.response.headers))),Promise.reject(a)})}const Iy="1.11.0",Kc={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Kc[t]=function(a){return typeof a===t||"a"+(s<1?"n ":" ")+t}});const Bh={};Kc.transitional=function(s,r,a){function i(n,l){return"[Axios v"+Iy+"] Transitional option '"+n+"'"+l+(a?". "+a:"")}return(n,l,o)=>{if(s===!1)throw new Ge(i(l," has been removed"+(r?" in "+r:"")),Ge.ERR_DEPRECATED);return r&&!Bh[l]&&(Bh[l]=!0,console.warn(i(l," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(n,l,o):!0}};Kc.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function tS(t,s,r){if(typeof t!="object")throw new Ge("options must be an object",Ge.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let i=a.length;for(;i-- >0;){const n=a[i],l=s[n];if(l){const o=t[n],c=o===void 0||l(o,n,t);if(c!==!0)throw new Ge("option "+n+" must be "+c,Ge.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ge("Unknown option "+n,Ge.ERR_BAD_OPTION)}}const Oo={assertOptions:tS,validators:Kc},ar=Oo.validators;let Dn=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Th,response:new Th}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const n=i.stack?i.stack.replace(/^.+\n/,""):"";try{a.stack?n&&!String(a.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+n):a.stack=n}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=Ln(this.defaults,r);const{transitional:a,paramsSerializer:i,headers:n}=r;a!==void 0&&Oo.assertOptions(a,{silentJSONParsing:ar.transitional(ar.boolean),forcedJSONParsing:ar.transitional(ar.boolean),clarifyTimeoutError:ar.transitional(ar.boolean)},!1),i!=null&&(re.isFunction(i)?r.paramsSerializer={serialize:i}:Oo.assertOptions(i,{encode:ar.function,serialize:ar.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Oo.assertOptions(r,{baseUrl:ar.spelling("baseURL"),withXsrfToken:ar.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=n&&re.merge(n.common,n[r.method]);n&&re.forEach(["delete","get","head","post","put","patch","common"],g=>{delete n[g]}),r.headers=ys.concat(l,n);const o=[];let c=!0;this.interceptors.request.forEach(function(u){typeof u.runWhen=="function"&&u.runWhen(r)===!1||(c=c&&u.synchronous,o.unshift(u.fulfilled,u.rejected))});const m=[];this.interceptors.response.forEach(function(u){m.push(u.fulfilled,u.rejected)});let d,x=0,p;if(!c){const g=[Oh.bind(this),void 0];for(g.unshift(...o),g.push(...m),p=g.length,d=Promise.resolve(r);x<p;)d=d.then(g[x++],g[x++]);return d}p=o.length;let j=r;for(x=0;x<p;){const g=o[x++],u=o[x++];try{j=g(j)}catch(y){u.call(this,y);break}}try{d=Oh.call(this,j)}catch(g){return Promise.reject(g)}for(x=0,p=m.length;x<p;)d=d.then(m[x++],m[x++]);return d}getUri(s){s=Ln(this.defaults,s);const r=Dy(s.baseURL,s.url,s.allowAbsoluteUrls);return ky(r,s.params,s.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(s){Dn.prototype[s]=function(r,a){return this.request(Ln(a||{},{method:s,url:r,data:(a||{}).data}))}});re.forEach(["post","put","patch"],function(s){function r(a){return function(n,l,o){return this.request(Ln(o||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:n,data:l}))}}Dn.prototype[s]=r(),Dn.prototype[s+"Form"]=r(!0)});let sS=class Ly{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(n){r=n});const a=this;this.promise.then(i=>{if(!a._listeners)return;let n=a._listeners.length;for(;n-- >0;)a._listeners[n](i);a._listeners=null}),this.promise.then=i=>{let n;const l=new Promise(o=>{a.subscribe(o),n=o}).then(i);return l.cancel=function(){a.unsubscribe(n)},l},s(function(n,l,o){a.reason||(a.reason=new $i(n,l,o),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new Ly(function(i){s=i}),cancel:s}}};function rS(t){return function(r){return t.apply(null,r)}}function aS(t){return re.isObject(t)&&t.isAxiosError===!0}const Hm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hm).forEach(([t,s])=>{Hm[s]=t});function My(t){const s=new Dn(t),r=py(Dn.prototype.request,s);return re.extend(r,Dn.prototype,s,{allOwnKeys:!0}),re.extend(r,s,null,{allOwnKeys:!0}),r.create=function(i){return My(Ln(t,i))},r}const jt=My(eo);jt.Axios=Dn;jt.CanceledError=$i;jt.CancelToken=sS;jt.isCancel=Py;jt.VERSION=Iy;jt.toFormData=Zc;jt.AxiosError=Ge;jt.Cancel=jt.CanceledError;jt.all=function(s){return Promise.all(s)};jt.spread=rS;jt.isAxiosError=aS;jt.mergeConfig=Ln;jt.AxiosHeaders=ys;jt.formToJSON=t=>_y(re.isHTMLForm(t)?new FormData(t):t);jt.getAdapter=Fy.getAdapter;jt.HttpStatusCode=Hm;jt.default=jt;const{Axios:Gk,AxiosError:Hk,CanceledError:Qk,isCancel:Zk,CancelToken:Yk,VERSION:Kk,all:Jk,Cancel:Xk,isAxiosError:e3,spread:t3,toFormData:s3,AxiosHeaders:r3,HttpStatusCode:a3,formToJSON:n3,getAdapter:i3,mergeConfig:l3}=jt,Ke={BASE_URL:"http://localhost:3000/api",TIMEOUT:1e4,RETRY_ATTEMPTS:3,RETRY_DELAY:1e3},Ft={HOME_FEATURED:"/home/featured",HOME_STATS:"/home/stats",HOME_DESTINATIONS:"/home/destinations",LOCATIONS_SEARCH:"/locations/search",AIRPORTS_SEARCH:"/airports/search",FLIGHTS:"/flights",FLIGHTS_SEARCH:"/flights/search",FLIGHTS_POPULAR_ROUTES:"/flights/popular-routes",FLIGHTS_DEALS:"/flights/deals",FLIGHT_DETAILS:t=>`/flights/${t}`,MASTER_COUNTRIES:"/master/admin/countries",MASTER_CITIES:"/master/admin/cities",MASTER_CATEGORIES:"/master/categories",TRIPS:"/admin/trips",TRIPS_FEATURED:"/trips/featured",DESTINATIONS_FEATURED:"/destinations/featured",DESTINATIONS_SPOTLIGHT:"/destinations/spotlight",AUTH_LOGIN:"/auth/login",AUTH_REGISTER:"/auth/register",BOOKINGS:"/bookings",BOOKING_CONFIRMATION:"/bookings/confirmation",UPLOAD_MULTIPLE:"/upload/multiple",UPLOAD_DELETE:t=>`/upload/${t}`},Bo=Object.freeze(Object.defineProperty({__proto__:null,API_CONFIG:Ke,API_ENDPOINTS:Ft,default:Ke},Symbol.toStringTag,{value:"Module"}));let nS=class{constructor(){zi(this,"api");zi(this,"baseURL",Ke.BASE_URL);this.api=jt.create({baseURL:this.baseURL,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}setupInterceptors(){this.api.interceptors.request.use(s=>{const r=localStorage.getItem("token");return r&&(s.headers.Authorization=`Bearer ${r}`),s},s=>Promise.reject(s)),this.api.interceptors.response.use(s=>s,s=>{var r;return((r=s.response)==null?void 0:r.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/auth"),Promise.reject(s)})}async get(s,r){return(await this.api.get(s,{params:r})).data}async post(s,r){return(await this.api.post(s,r)).data}async put(s,r){return(await this.api.put(s,r)).data}async delete(s){return(await this.api.delete(s)).data}async getPaginated(s,r){return(await this.api.get(s,{params:r})).data}};const ge=new nS,Dr=Object.freeze(Object.defineProperty({__proto__:null,apiService:ge},Symbol.toStringTag,{value:"Module"}));class iS{async login(s){var r,a,i;try{const l=await(await fetch(`${Ke.BASE_URL}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).json();if(l.success&&l.data){const o={...l.data.user,firstName:((r=l.data.user.profile)==null?void 0:r.firstName)||l.data.user.firstName,lastName:((a=l.data.user.profile)==null?void 0:a.lastName)||l.data.user.lastName};return console.log("Storing real token:",l.data.token),localStorage.setItem("token",l.data.token),localStorage.setItem("refreshToken",l.data.refreshToken),localStorage.setItem("user",JSON.stringify(o)),{...l,data:{...l.data,user:o}}}else throw new Error(l.message||((i=l.error)==null?void 0:i.message)||"Login failed")}catch(n){throw console.error("Login error:",n),n}}async register(s){var r;try{const i=await(await fetch(`${Ke.BASE_URL}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).json();if(i.success&&i.data)return localStorage.setItem("token",i.data.token),localStorage.setItem("refreshToken",i.data.refreshToken),localStorage.setItem("user",JSON.stringify(i.data.user)),i;throw new Error(((r=i.error)==null?void 0:r.message)||"Registration failed")}catch(a){console.warn("Using mock auth - backend not available:",a.message);const n={success:!0,data:{user:{id:"2",email:s.email,firstName:s.firstName,lastName:s.lastName,phone:s.phone,profile:{dateOfBirth:"1990-01-01",nationality:"US"},preferences:{currency:"USD",language:"en",notifications:{email:!0,sms:!0,push:!0},travelPreferences:{}},loyaltyPoints:0,role:"customer"},token:"mock-jwt-token",refreshToken:"mock-refresh-token"}};return localStorage.setItem("token",n.data.token),localStorage.setItem("refreshToken",n.data.refreshToken),localStorage.setItem("user",JSON.stringify(n.data.user)),n}}async logout(){try{await ge.post("/auth/logout")}catch(s){console.error("Logout error:",s)}finally{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")}}async refreshToken(){const s=localStorage.getItem("refreshToken");if(!s)throw new Error("No refresh token available");const r=await ge.post("/auth/refresh-token",{refreshToken:s});return r.success&&r.data&&localStorage.setItem("token",r.data.token),r}async forgotPassword(s){return ge.post("/auth/forgot-password",{email:s})}async resetPassword(s,r){return ge.post("/auth/reset-password",{token:s,password:r})}async verifyEmail(s){return ge.get(`/auth/verify-email?token=${s}`)}async resendVerification(s){return ge.post("/auth/resend-verification",{email:s})}getCurrentUser(){const s=localStorage.getItem("user");return s?JSON.parse(s):null}getToken(){return localStorage.getItem("token")}isAuthenticated(){return!!this.getToken()}}const Ki=new iS,Ps=Pw((t,s)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,login:async r=>{t({isLoading:!0,error:null});try{const a=await Ki.login(r);if(a.success&&a.data)t({user:a.data.user,token:a.data.token,isAuthenticated:!0,isLoading:!1,error:null});else throw new Error(a.message||"Login failed")}catch(a){throw t({error:a.message||"Login failed",isLoading:!1,isAuthenticated:!1}),a}},register:async r=>{t({isLoading:!0,error:null});try{const a=await Ki.register(r);if(a.success&&a.data)t({user:a.data.user,token:a.data.token,isAuthenticated:!0,isLoading:!1,error:null});else throw new Error(a.message||"Registration failed")}catch(a){throw t({error:a.message||"Registration failed",isLoading:!1,isAuthenticated:!1}),a}},logout:()=>{Ki.logout(),t({user:null,token:null,isAuthenticated:!1,error:null})},clearError:()=>{t({error:null})},initializeAuth:()=>{const r=Ki.getToken(),a=Ki.getCurrentUser();t(r&&a?{user:a,token:r,isAuthenticated:!0,isLoading:!1}:{user:null,token:null,isAuthenticated:!1,isLoading:!1})},updateUser:r=>{const a=s().user;if(a){const i={...a,...r};localStorage.setItem("user",JSON.stringify(i)),t({user:i})}}}));function $y(t){var s,r,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(s=0;s<i;s++)t[s]&&(r=$y(t[s]))&&(a&&(a+=" "),a+=r)}else for(r in t)t[r]&&(a&&(a+=" "),a+=r);return a}function Oy(){for(var t,s,r=0,a="",i=arguments.length;r<i;r++)(t=arguments[r])&&(s=$y(t))&&(a&&(a+=" "),a+=s);return a}const M=({children:t,variant:s="primary",size:r="md",loading:a=!1,icon:i,fullWidth:n=!1,className:l,disabled:o,...c})=>{const m="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",d={primary:"bg-gradient-to-r from-blue-governor to-blue-ocean text-white hover:shadow-lg hover:-translate-y-0.5 focus:ring-blue-primary",secondary:"bg-primary-100 text-primary-700 hover:bg-primary-200 focus:ring-primary-500",outline:"border-2 border-primary-300 text-primary-700 hover:bg-primary-50 focus:ring-primary-500",ghost:"text-primary-700 hover:bg-primary-100 focus:ring-primary-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},x={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return e.jsxs("button",{className:Oy(m,d[s],x[r],n&&"w-full",l),disabled:o||a,...c,children:[a&&e.jsx(X2,{className:"w-4 h-4 mr-2 animate-spin"}),!a&&i&&e.jsx("span",{className:"mr-2",children:i}),t]})};var to=t=>t.type==="checkbox",vn=t=>t instanceof Date,ss=t=>t==null;const By=t=>typeof t=="object";var Ct=t=>!ss(t)&&!Array.isArray(t)&&By(t)&&!vn(t),lS=t=>Ct(t)&&t.target?to(t.target)?t.target.checked:t.target.value:t,oS=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,cS=(t,s)=>t.has(oS(s)),dS=t=>{const s=t.constructor&&t.constructor.prototype;return Ct(s)&&s.hasOwnProperty("isPrototypeOf")},ip=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $t(t){let s;const r=Array.isArray(t),a=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)s=new Date(t);else if(!(ip&&(t instanceof Blob||a))&&(r||Ct(t)))if(s=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!dS(t))s=t;else for(const i in t)t.hasOwnProperty(i)&&(s[i]=$t(t[i]));else return t;return s}var Jc=t=>/^\w*$/.test(t),Et=t=>t===void 0,lp=t=>Array.isArray(t)?t.filter(Boolean):[],op=t=>lp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),_e=(t,s,r)=>{if(!s||!Ct(t))return r;const a=(Jc(s)?[s]:op(s)).reduce((i,n)=>ss(i)?i:i[n],t);return Et(a)||a===t?Et(t[s])?r:t[s]:a},ir=t=>typeof t=="boolean",ot=(t,s,r)=>{let a=-1;const i=Jc(s)?[s]:op(s),n=i.length,l=n-1;for(;++a<n;){const o=i[a];let c=r;if(a!==l){const m=t[o];c=Ct(m)||Array.isArray(m)?m:isNaN(+i[a+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const zh={BLUR:"blur",FOCUS_OUT:"focusout"},Qs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},br={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},mS=ht.createContext(null);mS.displayName="HookFormContext";var uS=(t,s,r,a=!0)=>{const i={defaultValues:s._defaultValues};for(const n in t)Object.defineProperty(i,n,{get:()=>{const l=n;return s._proxyFormState[l]!==Qs.all&&(s._proxyFormState[l]=!a||Qs.all),t[l]}});return i};const pS=typeof window<"u"?ht.useLayoutEffect:ht.useEffect;var ur=t=>typeof t=="string",xS=(t,s,r,a,i)=>ur(t)?(a&&s.watch.add(t),_e(r,t,i)):Array.isArray(t)?t.map(n=>(a&&s.watch.add(n),_e(r,n))):(a&&(s.watchAll=!0),r),Qm=t=>ss(t)||!By(t);function Ia(t,s,r=new WeakSet){if(Qm(t)||Qm(s))return t===s;if(vn(t)&&vn(s))return t.getTime()===s.getTime();const a=Object.keys(t),i=Object.keys(s);if(a.length!==i.length)return!1;if(r.has(t)||r.has(s))return!0;r.add(t),r.add(s);for(const n of a){const l=t[n];if(!i.includes(n))return!1;if(n!=="ref"){const o=s[n];if(vn(l)&&vn(o)||Ct(l)&&Ct(o)||Array.isArray(l)&&Array.isArray(o)?!Ia(l,o,r):l!==o)return!1}}return!0}var zy=(t,s,r,a,i)=>s?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[a]:i||!0}}:{},fl=t=>Array.isArray(t)?t:[t],Uh=()=>{let t=[];return{get observers(){return t},next:i=>{for(const n of t)n.next&&n.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(n=>n!==i)}}),unsubscribe:()=>{t=[]}}},ds=t=>Ct(t)&&!Object.keys(t).length,cp=t=>t.type==="file",Zs=t=>typeof t=="function",gc=t=>{if(!ip)return!1;const s=t?t.ownerDocument:0;return t instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},Uy=t=>t.type==="select-multiple",dp=t=>t.type==="radio",hS=t=>dp(t)||to(t),Id=t=>gc(t)&&t.isConnected;function fS(t,s){const r=s.slice(0,-1).length;let a=0;for(;a<r;)t=Et(t)?a++:t[s[a++]];return t}function gS(t){for(const s in t)if(t.hasOwnProperty(s)&&!Et(t[s]))return!1;return!0}function _t(t,s){const r=Array.isArray(s)?s:Jc(s)?[s]:op(s),a=r.length===1?t:fS(t,r),i=r.length-1,n=r[i];return a&&delete a[n],i!==0&&(Ct(a)&&ds(a)||Array.isArray(a)&&gS(a))&&_t(t,r.slice(0,-1)),t}var Vy=t=>{for(const s in t)if(Zs(t[s]))return!0;return!1};function yc(t,s={}){const r=Array.isArray(t);if(Ct(t)||r)for(const a in t)Array.isArray(t[a])||Ct(t[a])&&!Vy(t[a])?(s[a]=Array.isArray(t[a])?[]:{},yc(t[a],s[a])):ss(t[a])||(s[a]=!0);return s}function qy(t,s,r){const a=Array.isArray(t);if(Ct(t)||a)for(const i in t)Array.isArray(t[i])||Ct(t[i])&&!Vy(t[i])?Et(s)||Qm(r[i])?r[i]=Array.isArray(t[i])?yc(t[i],[]):{...yc(t[i])}:qy(t[i],ss(s)?{}:s[i],r[i]):r[i]=!Ia(t[i],s[i]);return r}var Ji=(t,s)=>qy(t,s,yc(s));const Vh={value:!1,isValid:!1},qh={value:!0,isValid:!0};var Wy=t=>{if(Array.isArray(t)){if(t.length>1){const s=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Et(t[0].attributes.value)?Et(t[0].value)||t[0].value===""?qh:{value:t[0].value,isValid:!0}:qh:Vh}return Vh},Gy=(t,{valueAsNumber:s,valueAsDate:r,setValueAs:a})=>Et(t)?t:s?t===""?NaN:t&&+t:r&&ur(t)?new Date(t):a?a(t):t;const Wh={isValid:!1,value:null};var Hy=t=>Array.isArray(t)?t.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,Wh):Wh;function Gh(t){const s=t.ref;return cp(s)?s.files:dp(s)?Hy(t.refs).value:Uy(s)?[...s.selectedOptions].map(({value:r})=>r):to(s)?Wy(t.refs).value:Gy(Et(s.value)?t.ref.value:s.value,t)}var yS=(t,s,r,a)=>{const i={};for(const n of t){const l=_e(s,n);l&&ot(i,n,l._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:a}},bc=t=>t instanceof RegExp,Xi=t=>Et(t)?t:bc(t)?t.source:Ct(t)?bc(t.value)?t.value.source:t.value:t,Hh=t=>({isOnSubmit:!t||t===Qs.onSubmit,isOnBlur:t===Qs.onBlur,isOnChange:t===Qs.onChange,isOnAll:t===Qs.all,isOnTouch:t===Qs.onTouched});const Qh="AsyncFunction";var bS=t=>!!t&&!!t.validate&&!!(Zs(t.validate)&&t.validate.constructor.name===Qh||Ct(t.validate)&&Object.values(t.validate).find(s=>s.constructor.name===Qh)),vS=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Zh=(t,s,r)=>!r&&(s.watchAll||s.watch.has(t)||[...s.watch].some(a=>t.startsWith(a)&&/^\.\w+/.test(t.slice(a.length))));const gl=(t,s,r,a)=>{for(const i of r||Object.keys(t)){const n=_e(t,i);if(n){const{_f:l,...o}=n;if(l){if(l.refs&&l.refs[0]&&s(l.refs[0],i)&&!a)return!0;if(l.ref&&s(l.ref,l.name)&&!a)return!0;if(gl(o,s))break}else if(Ct(o)&&gl(o,s))break}}};function Yh(t,s,r){const a=_e(t,r);if(a||Jc(r))return{error:a,name:r};const i=r.split(".");for(;i.length;){const n=i.join("."),l=_e(s,n),o=_e(t,n);if(l&&!Array.isArray(l)&&r!==n)return{name:r};if(o&&o.type)return{name:n,error:o};if(o&&o.root&&o.root.type)return{name:`${n}.root`,error:o.root};i.pop()}return{name:r}}var jS=(t,s,r,a)=>{r(t);const{name:i,...n}=t;return ds(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(l=>s[l]===(!a||Qs.all))},NS=(t,s,r)=>!t||!s||t===s||fl(t).some(a=>a&&(r?a===s:a.startsWith(s)||s.startsWith(a))),wS=(t,s,r,a,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(s||t):(r?a.isOnBlur:i.isOnBlur)?!t:(r?a.isOnChange:i.isOnChange)?t:!0,SS=(t,s)=>!lp(_e(t,s)).length&&_t(t,s),kS=(t,s,r)=>{const a=fl(_e(t,r));return ot(a,"root",s[r]),ot(t,r,a),t},zo=t=>ur(t);function Kh(t,s,r="validate"){if(zo(t)||Array.isArray(t)&&t.every(zo)||ir(t)&&!t)return{type:r,message:zo(t)?t:"",ref:s}}var Un=t=>Ct(t)&&!bc(t)?t:{value:t,message:""},Jh=async(t,s,r,a,i,n)=>{const{ref:l,refs:o,required:c,maxLength:m,minLength:d,min:x,max:p,pattern:j,validate:g,name:u,valueAsNumber:y,mount:h}=t._f,f=_e(r,u);if(!h||s.has(u))return{};const v=o?o[0]:l,T=N=>{i&&v.reportValidity&&(v.setCustomValidity(ir(N)?"":N||""),v.reportValidity())},P={},R=dp(l),O=to(l),U=R||O,C=(y||cp(l))&&Et(l.value)&&Et(f)||gc(l)&&l.value===""||f===""||Array.isArray(f)&&!f.length,q=zy.bind(null,u,a,P),X=(N,D,G,$=br.maxLength,J=br.minLength)=>{const E=N?D:G;P[u]={type:N?$:J,message:E,ref:l,...q(N?$:J,E)}};if(n?!Array.isArray(f)||!f.length:c&&(!U&&(C||ss(f))||ir(f)&&!f||O&&!Wy(o).isValid||R&&!Hy(o).isValid)){const{value:N,message:D}=zo(c)?{value:!!c,message:c}:Un(c);if(N&&(P[u]={type:br.required,message:D,ref:v,...q(br.required,D)},!a))return T(D),P}if(!C&&(!ss(x)||!ss(p))){let N,D;const G=Un(p),$=Un(x);if(!ss(f)&&!isNaN(f)){const J=l.valueAsNumber||f&&+f;ss(G.value)||(N=J>G.value),ss($.value)||(D=J<$.value)}else{const J=l.valueAsDate||new Date(f),E=V=>new Date(new Date().toDateString()+" "+V),_=l.type=="time",H=l.type=="week";ur(G.value)&&f&&(N=_?E(f)>E(G.value):H?f>G.value:J>new Date(G.value)),ur($.value)&&f&&(D=_?E(f)<E($.value):H?f<$.value:J<new Date($.value))}if((N||D)&&(X(!!N,G.message,$.message,br.max,br.min),!a))return T(P[u].message),P}if((m||d)&&!C&&(ur(f)||n&&Array.isArray(f))){const N=Un(m),D=Un(d),G=!ss(N.value)&&f.length>+N.value,$=!ss(D.value)&&f.length<+D.value;if((G||$)&&(X(G,N.message,D.message),!a))return T(P[u].message),P}if(j&&!C&&ur(f)){const{value:N,message:D}=Un(j);if(bc(N)&&!f.match(N)&&(P[u]={type:br.pattern,message:D,ref:l,...q(br.pattern,D)},!a))return T(D),P}if(g){if(Zs(g)){const N=await g(f,r),D=Kh(N,v);if(D&&(P[u]={...D,...q(br.validate,D.message)},!a))return T(D.message),P}else if(Ct(g)){let N={};for(const D in g){if(!ds(N)&&!a)break;const G=Kh(await g[D](f,r),v,D);G&&(N={...G,...q(D,G.message)},T(G.message),a&&(P[u]=N))}if(!ds(N)&&(P[u]={ref:v,...N},!a))return P}}return T(!0),P};const CS={mode:Qs.onSubmit,reValidateMode:Qs.onChange,shouldFocusError:!0};function _S(t={}){let s={...CS,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Zs(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},a={},i=Ct(s.defaultValues)||Ct(s.values)?$t(s.defaultValues||s.values)||{}:{},n=s.shouldUnregister?{}:$t(i),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,m=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...d};const p={array:Uh(),state:Uh()},j=s.criteriaMode===Qs.all,g=A=>z=>{clearTimeout(m),m=setTimeout(A,z)},u=async A=>{if(!s.disabled&&(d.isValid||x.isValid||A)){const z=s.resolver?ds((await O()).errors):await C(a,!0);z!==r.isValid&&p.state.next({isValid:z})}},y=(A,z)=>{!s.disabled&&(d.isValidating||d.validatingFields||x.isValidating||x.validatingFields)&&((A||Array.from(o.mount)).forEach(w=>{w&&(z?ot(r.validatingFields,w,z):_t(r.validatingFields,w))}),p.state.next({validatingFields:r.validatingFields,isValidating:!ds(r.validatingFields)}))},h=(A,z=[],w,W,B=!0,k=!0)=>{if(W&&w&&!s.disabled){if(l.action=!0,k&&Array.isArray(_e(a,A))){const L=w(_e(a,A),W.argA,W.argB);B&&ot(a,A,L)}if(k&&Array.isArray(_e(r.errors,A))){const L=w(_e(r.errors,A),W.argA,W.argB);B&&ot(r.errors,A,L),SS(r.errors,A)}if((d.touchedFields||x.touchedFields)&&k&&Array.isArray(_e(r.touchedFields,A))){const L=w(_e(r.touchedFields,A),W.argA,W.argB);B&&ot(r.touchedFields,A,L)}(d.dirtyFields||x.dirtyFields)&&(r.dirtyFields=Ji(i,n)),p.state.next({name:A,isDirty:X(A,z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ot(n,A,z)},f=(A,z)=>{ot(r.errors,A,z),p.state.next({errors:r.errors})},v=A=>{r.errors=A,p.state.next({errors:r.errors,isValid:!1})},T=(A,z,w,W)=>{const B=_e(a,A);if(B){const k=_e(n,A,Et(w)?_e(i,A):w);Et(k)||W&&W.defaultChecked||z?ot(n,A,z?k:Gh(B._f)):G(A,k),l.mount&&u()}},P=(A,z,w,W,B)=>{let k=!1,L=!1;const ce={name:A};if(!s.disabled){if(!w||W){(d.isDirty||x.isDirty)&&(L=r.isDirty,r.isDirty=ce.isDirty=X(),k=L!==ce.isDirty);const xe=Ia(_e(i,A),z);L=!!_e(r.dirtyFields,A),xe?_t(r.dirtyFields,A):ot(r.dirtyFields,A,!0),ce.dirtyFields=r.dirtyFields,k=k||(d.dirtyFields||x.dirtyFields)&&L!==!xe}if(w){const xe=_e(r.touchedFields,A);xe||(ot(r.touchedFields,A,w),ce.touchedFields=r.touchedFields,k=k||(d.touchedFields||x.touchedFields)&&xe!==w)}k&&B&&p.state.next(ce)}return k?ce:{}},R=(A,z,w,W)=>{const B=_e(r.errors,A),k=(d.isValid||x.isValid)&&ir(z)&&r.isValid!==z;if(s.delayError&&w?(c=g(()=>f(A,w)),c(s.delayError)):(clearTimeout(m),c=null,w?ot(r.errors,A,w):_t(r.errors,A)),(w?!Ia(B,w):B)||!ds(W)||k){const L={...W,...k&&ir(z)?{isValid:z}:{},errors:r.errors,name:A};r={...r,...L},p.state.next(L)}},O=async A=>{y(A,!0);const z=await s.resolver(n,s.context,yS(A||o.mount,a,s.criteriaMode,s.shouldUseNativeValidation));return y(A),z},U=async A=>{const{errors:z}=await O(A);if(A)for(const w of A){const W=_e(z,w);W?ot(r.errors,w,W):_t(r.errors,w)}else r.errors=z;return z},C=async(A,z,w={valid:!0})=>{for(const W in A){const B=A[W];if(B){const{_f:k,...L}=B;if(k){const ce=o.array.has(k.name),xe=B._f&&bS(B._f);xe&&d.validatingFields&&y([W],!0);const ie=await Jh(B,o.disabled,n,j,s.shouldUseNativeValidation&&!z,ce);if(xe&&d.validatingFields&&y([W]),ie[k.name]&&(w.valid=!1,z))break;!z&&(_e(ie,k.name)?ce?kS(r.errors,ie,k.name):ot(r.errors,k.name,ie[k.name]):_t(r.errors,k.name))}!ds(L)&&await C(L,z,w)}}return w.valid},q=()=>{for(const A of o.unMount){const z=_e(a,A);z&&(z._f.refs?z._f.refs.every(w=>!Id(w)):!Id(z._f.ref))&&ne(A)}o.unMount=new Set},X=(A,z)=>!s.disabled&&(A&&z&&ot(n,A,z),!Ia(V(),i)),N=(A,z,w)=>xS(A,o,{...l.mount?n:Et(z)?i:ur(A)?{[A]:z}:z},w,z),D=A=>lp(_e(l.mount?n:i,A,s.shouldUnregister?_e(i,A,[]):[])),G=(A,z,w={})=>{const W=_e(a,A);let B=z;if(W){const k=W._f;k&&(!k.disabled&&ot(n,A,Gy(z,k)),B=gc(k.ref)&&ss(z)?"":z,Uy(k.ref)?[...k.ref.options].forEach(L=>L.selected=B.includes(L.value)):k.refs?to(k.ref)?k.refs.forEach(L=>{(!L.defaultChecked||!L.disabled)&&(Array.isArray(B)?L.checked=!!B.find(ce=>ce===L.value):L.checked=B===L.value||!!B)}):k.refs.forEach(L=>L.checked=L.value===B):cp(k.ref)?k.ref.value="":(k.ref.value=B,k.ref.type||p.state.next({name:A,values:$t(n)})))}(w.shouldDirty||w.shouldTouch)&&P(A,B,w.shouldTouch,w.shouldDirty,!0),w.shouldValidate&&H(A)},$=(A,z,w)=>{for(const W in z){if(!z.hasOwnProperty(W))return;const B=z[W],k=A+"."+W,L=_e(a,k);(o.array.has(A)||Ct(B)||L&&!L._f)&&!vn(B)?$(k,B,w):G(k,B,w)}},J=(A,z,w={})=>{const W=_e(a,A),B=o.array.has(A),k=$t(z);ot(n,A,k),B?(p.array.next({name:A,values:$t(n)}),(d.isDirty||d.dirtyFields||x.isDirty||x.dirtyFields)&&w.shouldDirty&&p.state.next({name:A,dirtyFields:Ji(i,n),isDirty:X(A,k)})):W&&!W._f&&!ss(k)?$(A,k,w):G(A,k,w),Zh(A,o)&&p.state.next({...r,name:A}),p.state.next({name:l.mount?A:void 0,values:$t(n)})},E=async A=>{l.mount=!0;const z=A.target;let w=z.name,W=!0;const B=_e(a,w),k=xe=>{W=Number.isNaN(xe)||vn(xe)&&isNaN(xe.getTime())||Ia(xe,_e(n,w,xe))},L=Hh(s.mode),ce=Hh(s.reValidateMode);if(B){let xe,ie;const le=z.type?Gh(B._f):lS(A),te=A.type===zh.BLUR||A.type===zh.FOCUS_OUT,ve=!vS(B._f)&&!s.resolver&&!_e(r.errors,w)&&!B._f.deps||wS(te,_e(r.touchedFields,w),r.isSubmitted,ce,L),Oe=Zh(w,o,te);ot(n,w,le),te?(!z||!z.readOnly)&&(B._f.onBlur&&B._f.onBlur(A),c&&c(0)):B._f.onChange&&B._f.onChange(A);const Ie=P(w,le,te),Je=!ds(Ie)||Oe;if(!te&&p.state.next({name:w,type:A.type,values:$t(n)}),ve)return(d.isValid||x.isValid)&&(s.mode==="onBlur"?te&&u():te||u()),Je&&p.state.next({name:w,...Oe?{}:Ie});if(!te&&Oe&&p.state.next({...r}),s.resolver){const{errors:ct}=await O([w]);if(k(le),W){const Lt=Yh(r.errors,a,w),Tt=Yh(ct,a,Lt.name||w);xe=Tt.error,w=Tt.name,ie=ds(ct)}}else y([w],!0),xe=(await Jh(B,o.disabled,n,j,s.shouldUseNativeValidation))[w],y([w]),k(le),W&&(xe?ie=!1:(d.isValid||x.isValid)&&(ie=await C(a,!0)));W&&(B._f.deps&&H(B._f.deps),R(w,ie,xe,Ie))}},_=(A,z)=>{if(_e(r.errors,z)&&A.focus)return A.focus(),1},H=async(A,z={})=>{let w,W;const B=fl(A);if(s.resolver){const k=await U(Et(A)?A:B);w=ds(k),W=A?!B.some(L=>_e(k,L)):w}else A?(W=(await Promise.all(B.map(async k=>{const L=_e(a,k);return await C(L&&L._f?{[k]:L}:L)}))).every(Boolean),!(!W&&!r.isValid)&&u()):W=w=await C(a);return p.state.next({...!ur(A)||(d.isValid||x.isValid)&&w!==r.isValid?{}:{name:A},...s.resolver||!A?{isValid:w}:{},errors:r.errors}),z.shouldFocus&&!W&&gl(a,_,A?B:o.mount),W},V=A=>{const z={...l.mount?n:i};return Et(A)?z:ur(A)?_e(z,A):A.map(w=>_e(z,w))},ae=(A,z)=>({invalid:!!_e((z||r).errors,A),isDirty:!!_e((z||r).dirtyFields,A),error:_e((z||r).errors,A),isValidating:!!_e(r.validatingFields,A),isTouched:!!_e((z||r).touchedFields,A)}),me=A=>{A&&fl(A).forEach(z=>_t(r.errors,z)),p.state.next({errors:A?r.errors:{}})},F=(A,z,w)=>{const W=(_e(a,A,{_f:{}})._f||{}).ref,B=_e(r.errors,A)||{},{ref:k,message:L,type:ce,...xe}=B;ot(r.errors,A,{...xe,...z,ref:W}),p.state.next({name:A,errors:r.errors,isValid:!1}),w&&w.shouldFocus&&W&&W.focus&&W.focus()},ee=(A,z)=>Zs(A)?p.state.subscribe({next:w=>"values"in w&&A(N(void 0,z),w)}):N(A,z,!0),ue=A=>p.state.subscribe({next:z=>{NS(A.name,z.name,A.exact)&&jS(z,A.formState||d,Me,A.reRenderRoot)&&A.callback({values:{...n},...r,...z,defaultValues:i})}}).unsubscribe,S=A=>(l.mount=!0,x={...x,...A.formState},ue({...A,formState:x})),ne=(A,z={})=>{for(const w of A?fl(A):o.mount)o.mount.delete(w),o.array.delete(w),z.keepValue||(_t(a,w),_t(n,w)),!z.keepError&&_t(r.errors,w),!z.keepDirty&&_t(r.dirtyFields,w),!z.keepTouched&&_t(r.touchedFields,w),!z.keepIsValidating&&_t(r.validatingFields,w),!s.shouldUnregister&&!z.keepDefaultValue&&_t(i,w);p.state.next({values:$t(n)}),p.state.next({...r,...z.keepDirty?{isDirty:X()}:{}}),!z.keepIsValid&&u()},Z=({disabled:A,name:z})=>{(ir(A)&&l.mount||A||o.disabled.has(z))&&(A?o.disabled.add(z):o.disabled.delete(z))},K=(A,z={})=>{let w=_e(a,A);const W=ir(z.disabled)||ir(s.disabled);return ot(a,A,{...w||{},_f:{...w&&w._f?w._f:{ref:{name:A}},name:A,mount:!0,...z}}),o.mount.add(A),w?Z({disabled:ir(z.disabled)?z.disabled:s.disabled,name:A}):T(A,!0,z.value),{...W?{disabled:z.disabled||s.disabled}:{},...s.progressive?{required:!!z.required,min:Xi(z.min),max:Xi(z.max),minLength:Xi(z.minLength),maxLength:Xi(z.maxLength),pattern:Xi(z.pattern)}:{},name:A,onChange:E,onBlur:E,ref:B=>{if(B){K(A,z),w=_e(a,A);const k=Et(B.value)&&B.querySelectorAll&&B.querySelectorAll("input,select,textarea")[0]||B,L=hS(k),ce=w._f.refs||[];if(L?ce.find(xe=>xe===k):k===w._f.ref)return;ot(a,A,{_f:{...w._f,...L?{refs:[...ce.filter(Id),k,...Array.isArray(_e(i,A))?[{}]:[]],ref:{type:k.type,name:A}}:{ref:k}}}),T(A,!1,void 0,k)}else w=_e(a,A,{}),w._f&&(w._f.mount=!1),(s.shouldUnregister||z.shouldUnregister)&&!(cS(o.array,A)&&l.action)&&o.unMount.add(A)}}},se=()=>s.shouldFocusError&&gl(a,_,o.mount),be=A=>{ir(A)&&(p.state.next({disabled:A}),gl(a,(z,w)=>{const W=_e(a,w);W&&(z.disabled=W._f.disabled||A,Array.isArray(W._f.refs)&&W._f.refs.forEach(B=>{B.disabled=W._f.disabled||A}))},0,!1))},Se=(A,z)=>async w=>{let W;w&&(w.preventDefault&&w.preventDefault(),w.persist&&w.persist());let B=$t(n);if(p.state.next({isSubmitting:!0}),s.resolver){const{errors:k,values:L}=await O();r.errors=k,B=$t(L)}else await C(a);if(o.disabled.size)for(const k of o.disabled)_t(B,k);if(_t(r.errors,"root"),ds(r.errors)){p.state.next({errors:{}});try{await A(B,w)}catch(k){W=k}}else z&&await z({...r.errors},w),se(),setTimeout(se);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ds(r.errors)&&!W,submitCount:r.submitCount+1,errors:r.errors}),W)throw W},Ae=(A,z={})=>{_e(a,A)&&(Et(z.defaultValue)?J(A,$t(_e(i,A))):(J(A,z.defaultValue),ot(i,A,$t(z.defaultValue))),z.keepTouched||_t(r.touchedFields,A),z.keepDirty||(_t(r.dirtyFields,A),r.isDirty=z.defaultValue?X(A,$t(_e(i,A))):X()),z.keepError||(_t(r.errors,A),d.isValid&&u()),p.state.next({...r}))},Le=(A,z={})=>{const w=A?$t(A):i,W=$t(w),B=ds(A),k=B?i:W;if(z.keepDefaultValues||(i=w),!z.keepValues){if(z.keepDirtyValues){const L=new Set([...o.mount,...Object.keys(Ji(i,n))]);for(const ce of Array.from(L))_e(r.dirtyFields,ce)?ot(k,ce,_e(n,ce)):J(ce,_e(k,ce))}else{if(ip&&Et(A))for(const L of o.mount){const ce=_e(a,L);if(ce&&ce._f){const xe=Array.isArray(ce._f.refs)?ce._f.refs[0]:ce._f.ref;if(gc(xe)){const ie=xe.closest("form");if(ie){ie.reset();break}}}}if(z.keepFieldsRef)for(const L of o.mount)J(L,_e(k,L));else a={}}n=s.shouldUnregister?z.keepDefaultValues?$t(i):{}:$t(k),p.array.next({values:{...k}}),p.state.next({values:{...k}})}o={mount:z.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!d.isValid||!!z.keepIsValid||!!z.keepDirtyValues,l.watch=!!s.shouldUnregister,p.state.next({submitCount:z.keepSubmitCount?r.submitCount:0,isDirty:B?!1:z.keepDirty?r.isDirty:!!(z.keepDefaultValues&&!Ia(A,i)),isSubmitted:z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:B?{}:z.keepDirtyValues?z.keepDefaultValues&&n?Ji(i,n):r.dirtyFields:z.keepDefaultValues&&A?Ji(i,A):z.keepDirty?r.dirtyFields:{},touchedFields:z.keepTouched?r.touchedFields:{},errors:z.keepErrors?r.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Te=(A,z)=>Le(Zs(A)?A(n):A,z),Fe=(A,z={})=>{const w=_e(a,A),W=w&&w._f;if(W){const B=W.refs?W.refs[0]:W.ref;B.focus&&(B.focus(),z.shouldSelect&&Zs(B.select)&&B.select())}},Me=A=>{r={...r,...A}},$e={control:{register:K,unregister:ne,getFieldState:ae,handleSubmit:Se,setError:F,_subscribe:ue,_runSchema:O,_focusError:se,_getWatch:N,_getDirty:X,_setValid:u,_setFieldArray:h,_setDisabledField:Z,_setErrors:v,_getFieldArray:D,_reset:Le,_resetDefaultValues:()=>Zs(s.defaultValues)&&s.defaultValues().then(A=>{Te(A,s.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:q,_disableForm:be,_subjects:p,_proxyFormState:d,get _fields(){return a},get _formValues(){return n},get _state(){return l},set _state(A){l=A},get _defaultValues(){return i},get _names(){return o},set _names(A){o=A},get _formState(){return r},get _options(){return s},set _options(A){s={...s,...A}}},subscribe:S,trigger:H,register:K,handleSubmit:Se,watch:ee,setValue:J,getValues:V,reset:Te,resetField:Ae,clearErrors:me,unregister:ne,setError:F,setFocus:Fe,getFieldState:ae};return{...$e,formControl:$e}}function Lr(t={}){const s=ht.useRef(void 0),r=ht.useRef(void 0),[a,i]=ht.useState({isDirty:!1,isValidating:!1,isLoading:Zs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Zs(t.defaultValues)?void 0:t.defaultValues});if(!s.current)if(t.formControl)s.current={...t.formControl,formState:a},t.defaultValues&&!Zs(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:l,...o}=_S(t);s.current={...o,formState:a}}const n=s.current.control;return n._options=t,pS(()=>{const l=n._subscribe({formState:n._proxyFormState,callback:()=>i({...n._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),n._formState.isReady=!0,l},[n]),ht.useEffect(()=>n._disableForm(t.disabled),[n,t.disabled]),ht.useEffect(()=>{t.mode&&(n._options.mode=t.mode),t.reValidateMode&&(n._options.reValidateMode=t.reValidateMode)},[n,t.mode,t.reValidateMode]),ht.useEffect(()=>{t.errors&&(n._setErrors(t.errors),n._focusError())},[n,t.errors]),ht.useEffect(()=>{t.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,t.shouldUnregister]),ht.useEffect(()=>{if(n._proxyFormState.isDirty){const l=n._getDirty();l!==a.isDirty&&n._subjects.state.next({isDirty:l})}},[n,a.isDirty]),ht.useEffect(()=>{t.values&&!Ia(t.values,r.current)?(n._reset(t.values,{keepFieldsRef:!0,...n._options.resetOptions}),r.current=t.values,i(l=>({...l}))):n._resetDefaultValues()},[n,t.values]),ht.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),s.current.formState=uS(a,n),s.current}const Xh=(t,s,r)=>{if(t&&"reportValidity"in t){const a=_e(r,s);t.setCustomValidity(a&&a.message||""),t.reportValidity()}},Qy=(t,s)=>{for(const r in s.fields){const a=s.fields[r];a&&a.ref&&"reportValidity"in a.ref?Xh(a.ref,r,t):a.refs&&a.refs.forEach(i=>Xh(i,r,t))}},PS=(t,s)=>{s.shouldUseNativeValidation&&Qy(t,s);const r={};for(const a in t){const i=_e(s.fields,a),n=Object.assign(t[a]||{},{ref:i&&i.ref});if(ES(s.names||Object.keys(t),a)){const l=Object.assign({},_e(r,a));ot(l,"root",n),ot(r,a,l)}else ot(r,a,n)}return r},ES=(t,s)=>t.some(r=>r.startsWith(s+"."));var DS=function(t,s){for(var r={};t.length;){var a=t[0],i=a.code,n=a.message,l=a.path.join(".");if(!r[l])if("unionErrors"in a){var o=a.unionErrors[0].errors[0];r[l]={message:o.message,type:o.code}}else r[l]={message:n,type:i};if("unionErrors"in a&&a.unionErrors.forEach(function(d){return d.errors.forEach(function(x){return t.push(x)})}),s){var c=r[l].types,m=c&&c[a.code];r[l]=zy(l,s,r,i,m?[].concat(m,a.message):a.message)}t.shift()}return r},ki=function(t,s,r){return r===void 0&&(r={}),function(a,i,n){try{return Promise.resolve(function(l,o){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](a,s)).then(function(m){return n.shouldUseNativeValidation&&Qy({},n),{errors:{},values:r.raw?a:m}})}catch(m){return o(m)}return c&&c.then?c.then(void 0,o):c}(0,function(l){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(l))return{values:{},errors:PS(DS(l.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw l}))}catch(l){return Promise.reject(l)}}},it;(function(t){t.assertEqual=i=>{};function s(i){}t.assertIs=s;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const n={};for(const l of i)n[l]=l;return n},t.getValidEnumValues=i=>{const n=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),l={};for(const o of n)l[o]=i[o];return t.objectValues(l)},t.objectValues=i=>t.objectKeys(i).map(function(n){return i[n]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const n=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.push(l);return n},t.find=(i,n)=>{for(const l of i)if(n(l))return l},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function a(i,n=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(n)}t.joinValues=a,t.jsonStringifyReplacer=(i,n)=>typeof n=="bigint"?n.toString():n})(it||(it={}));var ef;(function(t){t.mergeShapes=(s,r)=>({...s,...r})})(ef||(ef={}));const Pe=it.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ta=t=>{switch(typeof t){case"undefined":return Pe.undefined;case"string":return Pe.string;case"number":return Number.isNaN(t)?Pe.nan:Pe.number;case"boolean":return Pe.boolean;case"function":return Pe.function;case"bigint":return Pe.bigint;case"symbol":return Pe.symbol;case"object":return Array.isArray(t)?Pe.array:t===null?Pe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Pe.promise:typeof Map<"u"&&t instanceof Map?Pe.map:typeof Set<"u"&&t instanceof Set?Pe.set:typeof Date<"u"&&t instanceof Date?Pe.date:Pe.object;default:return Pe.unknown}},fe=it.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Mr extends Error{get errors(){return this.issues}constructor(s){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=s}format(s){const r=s||function(n){return n.message},a={_errors:[]},i=n=>{for(const l of n.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)a._errors.push(r(l));else{let o=a,c=0;for(;c<l.path.length;){const m=l.path[c];c===l.path.length-1?(o[m]=o[m]||{_errors:[]},o[m]._errors.push(r(l))):o[m]=o[m]||{_errors:[]},o=o[m],c++}}};return i(this),a}static assert(s){if(!(s instanceof Mr))throw new Error(`Not a ZodError: ${s}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,it.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(s=r=>r.message){const r={},a=[];for(const i of this.issues)if(i.path.length>0){const n=i.path[0];r[n]=r[n]||[],r[n].push(s(i))}else a.push(s(i));return{formErrors:a,fieldErrors:r}}get formErrors(){return this.flatten()}}Mr.create=t=>new Mr(t);const Zm=(t,s)=>{let r;switch(t.code){case fe.invalid_type:t.received===Pe.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case fe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,it.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:r=`Unrecognized key(s) in object: ${it.joinValues(t.keys,", ")}`;break;case fe.invalid_union:r="Invalid input";break;case fe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${it.joinValues(t.options)}`;break;case fe.invalid_enum_value:r=`Invalid enum value. Expected ${it.joinValues(t.options)}, received '${t.received}'`;break;case fe.invalid_arguments:r="Invalid function arguments";break;case fe.invalid_return_type:r="Invalid function return type";break;case fe.invalid_date:r="Invalid date";break;case fe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:it.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case fe.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case fe.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case fe.custom:r="Invalid input";break;case fe.invalid_intersection_types:r="Intersection results could not be merged";break;case fe.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case fe.not_finite:r="Number must be finite";break;default:r=s.defaultError,it.assertNever(t)}return{message:r}};let TS=Zm;function AS(){return TS}const RS=t=>{const{data:s,path:r,errorMaps:a,issueData:i}=t,n=[...r,...i.path||[]],l={...i,path:n};if(i.message!==void 0)return{...i,path:n,message:i.message};let o="";const c=a.filter(m=>!!m).slice().reverse();for(const m of c)o=m(l,{data:s,defaultError:o}).message;return{...i,path:n,message:o}};function je(t,s){const r=AS(),a=RS({issueData:s,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Zm?void 0:Zm].filter(i=>!!i)});t.common.issues.push(a)}class ks{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(s,r){const a=[];for(const i of r){if(i.status==="aborted")return ze;i.status==="dirty"&&s.dirty(),a.push(i.value)}return{status:s.value,value:a}}static async mergeObjectAsync(s,r){const a=[];for(const i of r){const n=await i.key,l=await i.value;a.push({key:n,value:l})}return ks.mergeObjectSync(s,a)}static mergeObjectSync(s,r){const a={};for(const i of r){const{key:n,value:l}=i;if(n.status==="aborted"||l.status==="aborted")return ze;n.status==="dirty"&&s.dirty(),l.status==="dirty"&&s.dirty(),n.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(a[n.value]=l.value)}return{status:s.value,value:a}}}const ze=Object.freeze({status:"aborted"}),nl=t=>({status:"dirty",value:t}),$s=t=>({status:"valid",value:t}),tf=t=>t.status==="aborted",sf=t=>t.status==="dirty",Ci=t=>t.status==="valid",vc=t=>typeof Promise<"u"&&t instanceof Promise;var Ee;(function(t){t.errToObj=s=>typeof s=="string"?{message:s}:s||{},t.toString=s=>typeof s=="string"?s:s==null?void 0:s.message})(Ee||(Ee={}));class rn{constructor(s,r,a,i){this._cachedPath=[],this.parent=s,this.data=r,this._path=a,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const rf=(t,s)=>{if(Ci(s))return{success:!0,data:s.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Mr(t.common.issues);return this._error=r,this._error}}};function Ze(t){if(!t)return{};const{errorMap:s,invalid_type_error:r,required_error:a,description:i}=t;if(s&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return s?{errorMap:s,description:i}:{errorMap:(l,o)=>{const{message:c}=t;return l.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??a??o.defaultError}:l.code!=="invalid_type"?{message:o.defaultError}:{message:c??r??o.defaultError}},description:i}}class at{get description(){return this._def.description}_getType(s){return Ta(s.data)}_getOrReturnCtx(s,r){return r||{common:s.parent.common,data:s.data,parsedType:Ta(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}_processInputParams(s){return{status:new ks,ctx:{common:s.parent.common,data:s.data,parsedType:Ta(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}}_parseSync(s){const r=this._parse(s);if(vc(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(s){const r=this._parse(s);return Promise.resolve(r)}parse(s,r){const a=this.safeParse(s,r);if(a.success)return a.data;throw a.error}safeParse(s,r){const a={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Ta(s)},i=this._parseSync({data:s,path:a.path,parent:a});return rf(a,i)}"~validate"(s){var a,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Ta(s)};if(!this["~standard"].async)try{const n=this._parseSync({data:s,path:[],parent:r});return Ci(n)?{value:n.value}:{issues:r.common.issues}}catch(n){(i=(a=n==null?void 0:n.message)==null?void 0:a.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:s,path:[],parent:r}).then(n=>Ci(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(s,r){const a=await this.safeParseAsync(s,r);if(a.success)return a.data;throw a.error}async safeParseAsync(s,r){const a={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Ta(s)},i=this._parse({data:s,path:a.path,parent:a}),n=await(vc(i)?i:Promise.resolve(i));return rf(a,n)}refine(s,r){const a=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,n)=>{const l=s(i),o=()=>n.addIssue({code:fe.custom,...a(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(c=>c?!0:(o(),!1)):l?!0:(o(),!1)})}refinement(s,r){return this._refinement((a,i)=>s(a)?!0:(i.addIssue(typeof r=="function"?r(a,i):r),!1))}_refinement(s){return new Ei({schema:this,typeName:Ue.ZodEffects,effect:{type:"refinement",refinement:s}})}superRefine(s){return this._refinement(s)}constructor(s){this.spa=this.safeParseAsync,this._def=s,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return en.create(this,this._def)}nullable(){return Di.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return hr.create(this)}promise(){return Sc.create(this,this._def)}or(s){return Nc.create([this,s],this._def)}and(s){return wc.create(this,s,this._def)}transform(s){return new Ei({...Ze(this._def),schema:this,typeName:Ue.ZodEffects,effect:{type:"transform",transform:s}})}default(s){const r=typeof s=="function"?s:()=>s;return new Xm({...Ze(this._def),innerType:this,defaultValue:r,typeName:Ue.ZodDefault})}brand(){return new s4({typeName:Ue.ZodBranded,type:this,...Ze(this._def)})}catch(s){const r=typeof s=="function"?s:()=>s;return new eu({...Ze(this._def),innerType:this,catchValue:r,typeName:Ue.ZodCatch})}describe(s){const r=this.constructor;return new r({...this._def,description:s})}pipe(s){return mp.create(this,s)}readonly(){return tu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const FS=/^c[^\s-]{8,}$/i,IS=/^[0-9a-z]+$/,LS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,MS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,$S=/^[a-z0-9_-]{21}$/i,OS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,BS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,US="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ld;const VS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,qS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,WS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,GS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,HS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,QS=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Zy="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ZS=new RegExp(`^${Zy}$`);function Yy(t){let s="[0-5]\\d";t.precision?s=`${s}\\.\\d{${t.precision}}`:t.precision==null&&(s=`${s}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${s})${r}`}function YS(t){return new RegExp(`^${Yy(t)}$`)}function KS(t){let s=`${Zy}T${Yy(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),s=`${s}(${r.join("|")})`,new RegExp(`^${s}$`)}function JS(t,s){return!!((s==="v4"||!s)&&VS.test(t)||(s==="v6"||!s)&&WS.test(t))}function XS(t,s){if(!OS.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(a));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||s&&i.alg!==s)}catch{return!1}}function e4(t,s){return!!((s==="v4"||!s)&&qS.test(t)||(s==="v6"||!s)&&GS.test(t))}class qa extends at{_parse(s){if(this._def.coerce&&(s.data=String(s.data)),this._getType(s)!==Pe.string){const n=this._getOrReturnCtx(s);return je(n,{code:fe.invalid_type,expected:Pe.string,received:n.parsedType}),ze}const a=new ks;let i;for(const n of this._def.checks)if(n.kind==="min")s.data.length<n.value&&(i=this._getOrReturnCtx(s,i),je(i,{code:fe.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),a.dirty());else if(n.kind==="max")s.data.length>n.value&&(i=this._getOrReturnCtx(s,i),je(i,{code:fe.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),a.dirty());else if(n.kind==="length"){const l=s.data.length>n.value,o=s.data.length<n.value;(l||o)&&(i=this._getOrReturnCtx(s,i),l?je(i,{code:fe.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):o&&je(i,{code:fe.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),a.dirty())}else if(n.kind==="email")zS.test(s.data)||(i=this._getOrReturnCtx(s,i),je(i,{validation:"email",code:fe.invalid_string,message:n.message}),a.dirty());else if(n.kind==="emoji")Ld||(Ld=new RegExp(US,"u")),Ld.test(s.data)||(i=this._getOrReturnCtx(s,i),je(i,{validation:"emoji",code:fe.invalid_string,message:n.message}),a.dirty());else if(n.kind==="uuid")MS.test(s.data)||(i=this._getOrReturnCtx(s,i),je(i,{validation:"uuid",code:fe.invalid_string,message:n.message}),a.dirty());else if(n.kind==="nanoid")$S.test(s.data)||(i=this._getOrReturnCtx(s,i),je(i,{validation:"nanoid",code:fe.invalid_string,message:n.message}),a.dirty());else if(n.kind==="cuid")FS.test(s.data)||(i=this._getOrReturnCtx(s,i),je(i,{validation:"cuid",code:fe.invalid_string,message:n.message}),a.dirty());else if(n.kind==="cuid2")IS.test(s.data)||(i=this._getOrReturnCtx(s,i),je(i,{validation:"cuid2",code:fe.invalid_string,message:n.message}),a.dirty());else if(n.kind==="ulid")LS.test(s.data)||(i=this._getOrReturnCtx(s,i),je(i,{validation:"ulid",code:fe.invalid_string,message:n.message}),a.dirty());else if(n.kind==="url")try{new URL(s.data)}catch{i=this._getOrReturnCtx(s,i),je(i,{validation:"url",code:fe.invalid_string,message:n.message}),a.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(s.data)||(i=this._getOrReturnCtx(s,i),je(i,{validation:"regex",code:fe.invalid_string,message:n.message}),a.dirty())):n.kind==="trim"?s.data=s.data.trim():n.kind==="includes"?s.data.includes(n.value,n.position)||(i=this._getOrReturnCtx(s,i),je(i,{code:fe.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),a.dirty()):n.kind==="toLowerCase"?s.data=s.data.toLowerCase():n.kind==="toUpperCase"?s.data=s.data.toUpperCase():n.kind==="startsWith"?s.data.startsWith(n.value)||(i=this._getOrReturnCtx(s,i),je(i,{code:fe.invalid_string,validation:{startsWith:n.value},message:n.message}),a.dirty()):n.kind==="endsWith"?s.data.endsWith(n.value)||(i=this._getOrReturnCtx(s,i),je(i,{code:fe.invalid_string,validation:{endsWith:n.value},message:n.message}),a.dirty()):n.kind==="datetime"?KS(n).test(s.data)||(i=this._getOrReturnCtx(s,i),je(i,{code:fe.invalid_string,validation:"datetime",message:n.message}),a.dirty()):n.kind==="date"?ZS.test(s.data)||(i=this._getOrReturnCtx(s,i),je(i,{code:fe.invalid_string,validation:"date",message:n.message}),a.dirty()):n.kind==="time"?YS(n).test(s.data)||(i=this._getOrReturnCtx(s,i),je(i,{code:fe.invalid_string,validation:"time",message:n.message}),a.dirty()):n.kind==="duration"?BS.test(s.data)||(i=this._getOrReturnCtx(s,i),je(i,{validation:"duration",code:fe.invalid_string,message:n.message}),a.dirty()):n.kind==="ip"?JS(s.data,n.version)||(i=this._getOrReturnCtx(s,i),je(i,{validation:"ip",code:fe.invalid_string,message:n.message}),a.dirty()):n.kind==="jwt"?XS(s.data,n.alg)||(i=this._getOrReturnCtx(s,i),je(i,{validation:"jwt",code:fe.invalid_string,message:n.message}),a.dirty()):n.kind==="cidr"?e4(s.data,n.version)||(i=this._getOrReturnCtx(s,i),je(i,{validation:"cidr",code:fe.invalid_string,message:n.message}),a.dirty()):n.kind==="base64"?HS.test(s.data)||(i=this._getOrReturnCtx(s,i),je(i,{validation:"base64",code:fe.invalid_string,message:n.message}),a.dirty()):n.kind==="base64url"?QS.test(s.data)||(i=this._getOrReturnCtx(s,i),je(i,{validation:"base64url",code:fe.invalid_string,message:n.message}),a.dirty()):it.assertNever(n);return{status:a.value,value:s.data}}_regex(s,r,a){return this.refinement(i=>s.test(i),{validation:r,code:fe.invalid_string,...Ee.errToObj(a)})}_addCheck(s){return new qa({...this._def,checks:[...this._def.checks,s]})}email(s){return this._addCheck({kind:"email",...Ee.errToObj(s)})}url(s){return this._addCheck({kind:"url",...Ee.errToObj(s)})}emoji(s){return this._addCheck({kind:"emoji",...Ee.errToObj(s)})}uuid(s){return this._addCheck({kind:"uuid",...Ee.errToObj(s)})}nanoid(s){return this._addCheck({kind:"nanoid",...Ee.errToObj(s)})}cuid(s){return this._addCheck({kind:"cuid",...Ee.errToObj(s)})}cuid2(s){return this._addCheck({kind:"cuid2",...Ee.errToObj(s)})}ulid(s){return this._addCheck({kind:"ulid",...Ee.errToObj(s)})}base64(s){return this._addCheck({kind:"base64",...Ee.errToObj(s)})}base64url(s){return this._addCheck({kind:"base64url",...Ee.errToObj(s)})}jwt(s){return this._addCheck({kind:"jwt",...Ee.errToObj(s)})}ip(s){return this._addCheck({kind:"ip",...Ee.errToObj(s)})}cidr(s){return this._addCheck({kind:"cidr",...Ee.errToObj(s)})}datetime(s){return typeof s=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:s}):this._addCheck({kind:"datetime",precision:typeof(s==null?void 0:s.precision)>"u"?null:s==null?void 0:s.precision,offset:(s==null?void 0:s.offset)??!1,local:(s==null?void 0:s.local)??!1,...Ee.errToObj(s==null?void 0:s.message)})}date(s){return this._addCheck({kind:"date",message:s})}time(s){return typeof s=="string"?this._addCheck({kind:"time",precision:null,message:s}):this._addCheck({kind:"time",precision:typeof(s==null?void 0:s.precision)>"u"?null:s==null?void 0:s.precision,...Ee.errToObj(s==null?void 0:s.message)})}duration(s){return this._addCheck({kind:"duration",...Ee.errToObj(s)})}regex(s,r){return this._addCheck({kind:"regex",regex:s,...Ee.errToObj(r)})}includes(s,r){return this._addCheck({kind:"includes",value:s,position:r==null?void 0:r.position,...Ee.errToObj(r==null?void 0:r.message)})}startsWith(s,r){return this._addCheck({kind:"startsWith",value:s,...Ee.errToObj(r)})}endsWith(s,r){return this._addCheck({kind:"endsWith",value:s,...Ee.errToObj(r)})}min(s,r){return this._addCheck({kind:"min",value:s,...Ee.errToObj(r)})}max(s,r){return this._addCheck({kind:"max",value:s,...Ee.errToObj(r)})}length(s,r){return this._addCheck({kind:"length",value:s,...Ee.errToObj(r)})}nonempty(s){return this.min(1,Ee.errToObj(s))}trim(){return new qa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new qa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new qa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(s=>s.kind==="datetime")}get isDate(){return!!this._def.checks.find(s=>s.kind==="date")}get isTime(){return!!this._def.checks.find(s=>s.kind==="time")}get isDuration(){return!!this._def.checks.find(s=>s.kind==="duration")}get isEmail(){return!!this._def.checks.find(s=>s.kind==="email")}get isURL(){return!!this._def.checks.find(s=>s.kind==="url")}get isEmoji(){return!!this._def.checks.find(s=>s.kind==="emoji")}get isUUID(){return!!this._def.checks.find(s=>s.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(s=>s.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(s=>s.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(s=>s.kind==="cuid2")}get isULID(){return!!this._def.checks.find(s=>s.kind==="ulid")}get isIP(){return!!this._def.checks.find(s=>s.kind==="ip")}get isCIDR(){return!!this._def.checks.find(s=>s.kind==="cidr")}get isBase64(){return!!this._def.checks.find(s=>s.kind==="base64")}get isBase64url(){return!!this._def.checks.find(s=>s.kind==="base64url")}get minLength(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxLength(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}qa.create=t=>new qa({checks:[],typeName:Ue.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Ze(t)});function t4(t,s){const r=(t.toString().split(".")[1]||"").length,a=(s.toString().split(".")[1]||"").length,i=r>a?r:a,n=Number.parseInt(t.toFixed(i).replace(".","")),l=Number.parseInt(s.toFixed(i).replace(".",""));return n%l/10**i}class _i extends at{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(s){if(this._def.coerce&&(s.data=Number(s.data)),this._getType(s)!==Pe.number){const n=this._getOrReturnCtx(s);return je(n,{code:fe.invalid_type,expected:Pe.number,received:n.parsedType}),ze}let a;const i=new ks;for(const n of this._def.checks)n.kind==="int"?it.isInteger(s.data)||(a=this._getOrReturnCtx(s,a),je(a,{code:fe.invalid_type,expected:"integer",received:"float",message:n.message}),i.dirty()):n.kind==="min"?(n.inclusive?s.data<n.value:s.data<=n.value)&&(a=this._getOrReturnCtx(s,a),je(a,{code:fe.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),i.dirty()):n.kind==="max"?(n.inclusive?s.data>n.value:s.data>=n.value)&&(a=this._getOrReturnCtx(s,a),je(a,{code:fe.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),i.dirty()):n.kind==="multipleOf"?t4(s.data,n.value)!==0&&(a=this._getOrReturnCtx(s,a),je(a,{code:fe.not_multiple_of,multipleOf:n.value,message:n.message}),i.dirty()):n.kind==="finite"?Number.isFinite(s.data)||(a=this._getOrReturnCtx(s,a),je(a,{code:fe.not_finite,message:n.message}),i.dirty()):it.assertNever(n);return{status:i.value,value:s.data}}gte(s,r){return this.setLimit("min",s,!0,Ee.toString(r))}gt(s,r){return this.setLimit("min",s,!1,Ee.toString(r))}lte(s,r){return this.setLimit("max",s,!0,Ee.toString(r))}lt(s,r){return this.setLimit("max",s,!1,Ee.toString(r))}setLimit(s,r,a,i){return new _i({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:a,message:Ee.toString(i)}]})}_addCheck(s){return new _i({...this._def,checks:[...this._def.checks,s]})}int(s){return this._addCheck({kind:"int",message:Ee.toString(s)})}positive(s){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ee.toString(s)})}negative(s){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ee.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ee.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ee.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:Ee.toString(r)})}finite(s){return this._addCheck({kind:"finite",message:Ee.toString(s)})}safe(s){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ee.toString(s)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ee.toString(s)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}get isInt(){return!!this._def.checks.find(s=>s.kind==="int"||s.kind==="multipleOf"&&it.isInteger(s.value))}get isFinite(){let s=null,r=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(r===null||a.value>r)&&(r=a.value):a.kind==="max"&&(s===null||a.value<s)&&(s=a.value)}return Number.isFinite(r)&&Number.isFinite(s)}}_i.create=t=>new _i({checks:[],typeName:Ue.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ze(t)});class Bl extends at{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(s){if(this._def.coerce)try{s.data=BigInt(s.data)}catch{return this._getInvalidInput(s)}if(this._getType(s)!==Pe.bigint)return this._getInvalidInput(s);let a;const i=new ks;for(const n of this._def.checks)n.kind==="min"?(n.inclusive?s.data<n.value:s.data<=n.value)&&(a=this._getOrReturnCtx(s,a),je(a,{code:fe.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),i.dirty()):n.kind==="max"?(n.inclusive?s.data>n.value:s.data>=n.value)&&(a=this._getOrReturnCtx(s,a),je(a,{code:fe.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),i.dirty()):n.kind==="multipleOf"?s.data%n.value!==BigInt(0)&&(a=this._getOrReturnCtx(s,a),je(a,{code:fe.not_multiple_of,multipleOf:n.value,message:n.message}),i.dirty()):it.assertNever(n);return{status:i.value,value:s.data}}_getInvalidInput(s){const r=this._getOrReturnCtx(s);return je(r,{code:fe.invalid_type,expected:Pe.bigint,received:r.parsedType}),ze}gte(s,r){return this.setLimit("min",s,!0,Ee.toString(r))}gt(s,r){return this.setLimit("min",s,!1,Ee.toString(r))}lte(s,r){return this.setLimit("max",s,!0,Ee.toString(r))}lt(s,r){return this.setLimit("max",s,!1,Ee.toString(r))}setLimit(s,r,a,i){return new Bl({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:a,message:Ee.toString(i)}]})}_addCheck(s){return new Bl({...this._def,checks:[...this._def.checks,s]})}positive(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ee.toString(s)})}negative(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ee.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ee.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ee.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:Ee.toString(r)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}Bl.create=t=>new Bl({checks:[],typeName:Ue.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Ze(t)});class Ym extends at{_parse(s){if(this._def.coerce&&(s.data=!!s.data),this._getType(s)!==Pe.boolean){const a=this._getOrReturnCtx(s);return je(a,{code:fe.invalid_type,expected:Pe.boolean,received:a.parsedType}),ze}return $s(s.data)}}Ym.create=t=>new Ym({typeName:Ue.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ze(t)});class jc extends at{_parse(s){if(this._def.coerce&&(s.data=new Date(s.data)),this._getType(s)!==Pe.date){const n=this._getOrReturnCtx(s);return je(n,{code:fe.invalid_type,expected:Pe.date,received:n.parsedType}),ze}if(Number.isNaN(s.data.getTime())){const n=this._getOrReturnCtx(s);return je(n,{code:fe.invalid_date}),ze}const a=new ks;let i;for(const n of this._def.checks)n.kind==="min"?s.data.getTime()<n.value&&(i=this._getOrReturnCtx(s,i),je(i,{code:fe.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),a.dirty()):n.kind==="max"?s.data.getTime()>n.value&&(i=this._getOrReturnCtx(s,i),je(i,{code:fe.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),a.dirty()):it.assertNever(n);return{status:a.value,value:new Date(s.data.getTime())}}_addCheck(s){return new jc({...this._def,checks:[...this._def.checks,s]})}min(s,r){return this._addCheck({kind:"min",value:s.getTime(),message:Ee.toString(r)})}max(s,r){return this._addCheck({kind:"max",value:s.getTime(),message:Ee.toString(r)})}get minDate(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s!=null?new Date(s):null}get maxDate(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s!=null?new Date(s):null}}jc.create=t=>new jc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ue.ZodDate,...Ze(t)});class af extends at{_parse(s){if(this._getType(s)!==Pe.symbol){const a=this._getOrReturnCtx(s);return je(a,{code:fe.invalid_type,expected:Pe.symbol,received:a.parsedType}),ze}return $s(s.data)}}af.create=t=>new af({typeName:Ue.ZodSymbol,...Ze(t)});class nf extends at{_parse(s){if(this._getType(s)!==Pe.undefined){const a=this._getOrReturnCtx(s);return je(a,{code:fe.invalid_type,expected:Pe.undefined,received:a.parsedType}),ze}return $s(s.data)}}nf.create=t=>new nf({typeName:Ue.ZodUndefined,...Ze(t)});class lf extends at{_parse(s){if(this._getType(s)!==Pe.null){const a=this._getOrReturnCtx(s);return je(a,{code:fe.invalid_type,expected:Pe.null,received:a.parsedType}),ze}return $s(s.data)}}lf.create=t=>new lf({typeName:Ue.ZodNull,...Ze(t)});class of extends at{constructor(){super(...arguments),this._any=!0}_parse(s){return $s(s.data)}}of.create=t=>new of({typeName:Ue.ZodAny,...Ze(t)});class cf extends at{constructor(){super(...arguments),this._unknown=!0}_parse(s){return $s(s.data)}}cf.create=t=>new cf({typeName:Ue.ZodUnknown,...Ze(t)});class an extends at{_parse(s){const r=this._getOrReturnCtx(s);return je(r,{code:fe.invalid_type,expected:Pe.never,received:r.parsedType}),ze}}an.create=t=>new an({typeName:Ue.ZodNever,...Ze(t)});class df extends at{_parse(s){if(this._getType(s)!==Pe.undefined){const a=this._getOrReturnCtx(s);return je(a,{code:fe.invalid_type,expected:Pe.void,received:a.parsedType}),ze}return $s(s.data)}}df.create=t=>new df({typeName:Ue.ZodVoid,...Ze(t)});class hr extends at{_parse(s){const{ctx:r,status:a}=this._processInputParams(s),i=this._def;if(r.parsedType!==Pe.array)return je(r,{code:fe.invalid_type,expected:Pe.array,received:r.parsedType}),ze;if(i.exactLength!==null){const l=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(l||o)&&(je(r,{code:l?fe.too_big:fe.too_small,minimum:o?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),a.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(je(r,{code:fe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),a.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(je(r,{code:fe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),a.dirty()),r.common.async)return Promise.all([...r.data].map((l,o)=>i.type._parseAsync(new rn(r,l,r.path,o)))).then(l=>ks.mergeArray(a,l));const n=[...r.data].map((l,o)=>i.type._parseSync(new rn(r,l,r.path,o)));return ks.mergeArray(a,n)}get element(){return this._def.type}min(s,r){return new hr({...this._def,minLength:{value:s,message:Ee.toString(r)}})}max(s,r){return new hr({...this._def,maxLength:{value:s,message:Ee.toString(r)}})}length(s,r){return new hr({...this._def,exactLength:{value:s,message:Ee.toString(r)}})}nonempty(s){return this.min(1,s)}}hr.create=(t,s)=>new hr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ue.ZodArray,...Ze(s)});function Vn(t){if(t instanceof Pt){const s={};for(const r in t.shape){const a=t.shape[r];s[r]=en.create(Vn(a))}return new Pt({...t._def,shape:()=>s})}else return t instanceof hr?new hr({...t._def,type:Vn(t.element)}):t instanceof en?en.create(Vn(t.unwrap())):t instanceof Di?Di.create(Vn(t.unwrap())):t instanceof Mn?Mn.create(t.items.map(s=>Vn(s))):t}class Pt extends at{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const s=this._def.shape(),r=it.objectKeys(s);return this._cached={shape:s,keys:r},this._cached}_parse(s){if(this._getType(s)!==Pe.object){const m=this._getOrReturnCtx(s);return je(m,{code:fe.invalid_type,expected:Pe.object,received:m.parsedType}),ze}const{status:a,ctx:i}=this._processInputParams(s),{shape:n,keys:l}=this._getCached(),o=[];if(!(this._def.catchall instanceof an&&this._def.unknownKeys==="strip"))for(const m in i.data)l.includes(m)||o.push(m);const c=[];for(const m of l){const d=n[m],x=i.data[m];c.push({key:{status:"valid",value:m},value:d._parse(new rn(i,x,i.path,m)),alwaysSet:m in i.data})}if(this._def.catchall instanceof an){const m=this._def.unknownKeys;if(m==="passthrough")for(const d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(m==="strict")o.length>0&&(je(i,{code:fe.unrecognized_keys,keys:o}),a.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const d of o){const x=i.data[d];c.push({key:{status:"valid",value:d},value:m._parse(new rn(i,x,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const m=[];for(const d of c){const x=await d.key,p=await d.value;m.push({key:x,value:p,alwaysSet:d.alwaysSet})}return m}).then(m=>ks.mergeObjectSync(a,m)):ks.mergeObjectSync(a,c)}get shape(){return this._def.shape()}strict(s){return Ee.errToObj,new Pt({...this._def,unknownKeys:"strict",...s!==void 0?{errorMap:(r,a)=>{var n,l;const i=((l=(n=this._def).errorMap)==null?void 0:l.call(n,r,a).message)??a.defaultError;return r.code==="unrecognized_keys"?{message:Ee.errToObj(s).message??i}:{message:i}}}:{}})}strip(){return new Pt({...this._def,unknownKeys:"strip"})}passthrough(){return new Pt({...this._def,unknownKeys:"passthrough"})}extend(s){return new Pt({...this._def,shape:()=>({...this._def.shape(),...s})})}merge(s){return new Pt({unknownKeys:s._def.unknownKeys,catchall:s._def.catchall,shape:()=>({...this._def.shape(),...s._def.shape()}),typeName:Ue.ZodObject})}setKey(s,r){return this.augment({[s]:r})}catchall(s){return new Pt({...this._def,catchall:s})}pick(s){const r={};for(const a of it.objectKeys(s))s[a]&&this.shape[a]&&(r[a]=this.shape[a]);return new Pt({...this._def,shape:()=>r})}omit(s){const r={};for(const a of it.objectKeys(this.shape))s[a]||(r[a]=this.shape[a]);return new Pt({...this._def,shape:()=>r})}deepPartial(){return Vn(this)}partial(s){const r={};for(const a of it.objectKeys(this.shape)){const i=this.shape[a];s&&!s[a]?r[a]=i:r[a]=i.optional()}return new Pt({...this._def,shape:()=>r})}required(s){const r={};for(const a of it.objectKeys(this.shape))if(s&&!s[a])r[a]=this.shape[a];else{let n=this.shape[a];for(;n instanceof en;)n=n._def.innerType;r[a]=n}return new Pt({...this._def,shape:()=>r})}keyof(){return Ky(it.objectKeys(this.shape))}}Pt.create=(t,s)=>new Pt({shape:()=>t,unknownKeys:"strip",catchall:an.create(),typeName:Ue.ZodObject,...Ze(s)});Pt.strictCreate=(t,s)=>new Pt({shape:()=>t,unknownKeys:"strict",catchall:an.create(),typeName:Ue.ZodObject,...Ze(s)});Pt.lazycreate=(t,s)=>new Pt({shape:t,unknownKeys:"strip",catchall:an.create(),typeName:Ue.ZodObject,...Ze(s)});class Nc extends at{_parse(s){const{ctx:r}=this._processInputParams(s),a=this._def.options;function i(n){for(const o of n)if(o.result.status==="valid")return o.result;for(const o of n)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const l=n.map(o=>new Mr(o.ctx.common.issues));return je(r,{code:fe.invalid_union,unionErrors:l}),ze}if(r.common.async)return Promise.all(a.map(async n=>{const l={...r,common:{...r.common,issues:[]},parent:null};return{result:await n._parseAsync({data:r.data,path:r.path,parent:l}),ctx:l}})).then(i);{let n;const l=[];for(const c of a){const m={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:m});if(d.status==="valid")return d;d.status==="dirty"&&!n&&(n={result:d,ctx:m}),m.common.issues.length&&l.push(m.common.issues)}if(n)return r.common.issues.push(...n.ctx.common.issues),n.result;const o=l.map(c=>new Mr(c));return je(r,{code:fe.invalid_union,unionErrors:o}),ze}}get options(){return this._def.options}}Nc.create=(t,s)=>new Nc({options:t,typeName:Ue.ZodUnion,...Ze(s)});function Km(t,s){const r=Ta(t),a=Ta(s);if(t===s)return{valid:!0,data:t};if(r===Pe.object&&a===Pe.object){const i=it.objectKeys(s),n=it.objectKeys(t).filter(o=>i.indexOf(o)!==-1),l={...t,...s};for(const o of n){const c=Km(t[o],s[o]);if(!c.valid)return{valid:!1};l[o]=c.data}return{valid:!0,data:l}}else if(r===Pe.array&&a===Pe.array){if(t.length!==s.length)return{valid:!1};const i=[];for(let n=0;n<t.length;n++){const l=t[n],o=s[n],c=Km(l,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===Pe.date&&a===Pe.date&&+t==+s?{valid:!0,data:t}:{valid:!1}}class wc extends at{_parse(s){const{status:r,ctx:a}=this._processInputParams(s),i=(n,l)=>{if(tf(n)||tf(l))return ze;const o=Km(n.value,l.value);return o.valid?((sf(n)||sf(l))&&r.dirty(),{status:r.value,value:o.data}):(je(a,{code:fe.invalid_intersection_types}),ze)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([n,l])=>i(n,l)):i(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}wc.create=(t,s,r)=>new wc({left:t,right:s,typeName:Ue.ZodIntersection,...Ze(r)});class Mn extends at{_parse(s){const{status:r,ctx:a}=this._processInputParams(s);if(a.parsedType!==Pe.array)return je(a,{code:fe.invalid_type,expected:Pe.array,received:a.parsedType}),ze;if(a.data.length<this._def.items.length)return je(a,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ze;!this._def.rest&&a.data.length>this._def.items.length&&(je(a,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const n=[...a.data].map((l,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new rn(a,l,a.path,o)):null}).filter(l=>!!l);return a.common.async?Promise.all(n).then(l=>ks.mergeArray(r,l)):ks.mergeArray(r,n)}get items(){return this._def.items}rest(s){return new Mn({...this._def,rest:s})}}Mn.create=(t,s)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mn({items:t,typeName:Ue.ZodTuple,rest:null,...Ze(s)})};class mf extends at{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:r,ctx:a}=this._processInputParams(s);if(a.parsedType!==Pe.map)return je(a,{code:fe.invalid_type,expected:Pe.map,received:a.parsedType}),ze;const i=this._def.keyType,n=this._def.valueType,l=[...a.data.entries()].map(([o,c],m)=>({key:i._parse(new rn(a,o,a.path,[m,"key"])),value:n._parse(new rn(a,c,a.path,[m,"value"]))}));if(a.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of l){const m=await c.key,d=await c.value;if(m.status==="aborted"||d.status==="aborted")return ze;(m.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(m.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of l){const m=c.key,d=c.value;if(m.status==="aborted"||d.status==="aborted")return ze;(m.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(m.value,d.value)}return{status:r.value,value:o}}}}mf.create=(t,s,r)=>new mf({valueType:s,keyType:t,typeName:Ue.ZodMap,...Ze(r)});class zl extends at{_parse(s){const{status:r,ctx:a}=this._processInputParams(s);if(a.parsedType!==Pe.set)return je(a,{code:fe.invalid_type,expected:Pe.set,received:a.parsedType}),ze;const i=this._def;i.minSize!==null&&a.data.size<i.minSize.value&&(je(a,{code:fe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&a.data.size>i.maxSize.value&&(je(a,{code:fe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const n=this._def.valueType;function l(c){const m=new Set;for(const d of c){if(d.status==="aborted")return ze;d.status==="dirty"&&r.dirty(),m.add(d.value)}return{status:r.value,value:m}}const o=[...a.data.values()].map((c,m)=>n._parse(new rn(a,c,a.path,m)));return a.common.async?Promise.all(o).then(c=>l(c)):l(o)}min(s,r){return new zl({...this._def,minSize:{value:s,message:Ee.toString(r)}})}max(s,r){return new zl({...this._def,maxSize:{value:s,message:Ee.toString(r)}})}size(s,r){return this.min(s,r).max(s,r)}nonempty(s){return this.min(1,s)}}zl.create=(t,s)=>new zl({valueType:t,minSize:null,maxSize:null,typeName:Ue.ZodSet,...Ze(s)});class uf extends at{get schema(){return this._def.getter()}_parse(s){const{ctx:r}=this._processInputParams(s);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}uf.create=(t,s)=>new uf({getter:t,typeName:Ue.ZodLazy,...Ze(s)});class Jm extends at{_parse(s){if(s.data!==this._def.value){const r=this._getOrReturnCtx(s);return je(r,{received:r.data,code:fe.invalid_literal,expected:this._def.value}),ze}return{status:"valid",value:s.data}}get value(){return this._def.value}}Jm.create=(t,s)=>new Jm({value:t,typeName:Ue.ZodLiteral,...Ze(s)});function Ky(t,s){return new Pi({values:t,typeName:Ue.ZodEnum,...Ze(s)})}class Pi extends at{_parse(s){if(typeof s.data!="string"){const r=this._getOrReturnCtx(s),a=this._def.values;return je(r,{expected:it.joinValues(a),received:r.parsedType,code:fe.invalid_type}),ze}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(s.data)){const r=this._getOrReturnCtx(s),a=this._def.values;return je(r,{received:r.data,code:fe.invalid_enum_value,options:a}),ze}return $s(s.data)}get options(){return this._def.values}get enum(){const s={};for(const r of this._def.values)s[r]=r;return s}get Values(){const s={};for(const r of this._def.values)s[r]=r;return s}get Enum(){const s={};for(const r of this._def.values)s[r]=r;return s}extract(s,r=this._def){return Pi.create(s,{...this._def,...r})}exclude(s,r=this._def){return Pi.create(this.options.filter(a=>!s.includes(a)),{...this._def,...r})}}Pi.create=Ky;class pf extends at{_parse(s){const r=it.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(s);if(a.parsedType!==Pe.string&&a.parsedType!==Pe.number){const i=it.objectValues(r);return je(a,{expected:it.joinValues(i),received:a.parsedType,code:fe.invalid_type}),ze}if(this._cache||(this._cache=new Set(it.getValidEnumValues(this._def.values))),!this._cache.has(s.data)){const i=it.objectValues(r);return je(a,{received:a.data,code:fe.invalid_enum_value,options:i}),ze}return $s(s.data)}get enum(){return this._def.values}}pf.create=(t,s)=>new pf({values:t,typeName:Ue.ZodNativeEnum,...Ze(s)});class Sc extends at{unwrap(){return this._def.type}_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==Pe.promise&&r.common.async===!1)return je(r,{code:fe.invalid_type,expected:Pe.promise,received:r.parsedType}),ze;const a=r.parsedType===Pe.promise?r.data:Promise.resolve(r.data);return $s(a.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Sc.create=(t,s)=>new Sc({type:t,typeName:Ue.ZodPromise,...Ze(s)});class Ei extends at{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(s){const{status:r,ctx:a}=this._processInputParams(s),i=this._def.effect||null,n={addIssue:l=>{je(a,l),l.fatal?r.abort():r.dirty()},get path(){return a.path}};if(n.addIssue=n.addIssue.bind(n),i.type==="preprocess"){const l=i.transform(a.data,n);if(a.common.async)return Promise.resolve(l).then(async o=>{if(r.value==="aborted")return ze;const c=await this._def.schema._parseAsync({data:o,path:a.path,parent:a});return c.status==="aborted"?ze:c.status==="dirty"||r.value==="dirty"?nl(c.value):c});{if(r.value==="aborted")return ze;const o=this._def.schema._parseSync({data:l,path:a.path,parent:a});return o.status==="aborted"?ze:o.status==="dirty"||r.value==="dirty"?nl(o.value):o}}if(i.type==="refinement"){const l=o=>{const c=i.refinement(o,n);if(a.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return o.status==="aborted"?ze:(o.status==="dirty"&&r.dirty(),l(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>o.status==="aborted"?ze:(o.status==="dirty"&&r.dirty(),l(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(a.common.async===!1){const l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Ci(l))return ze;const o=i.transform(l.value,n);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>Ci(l)?Promise.resolve(i.transform(l.value,n)).then(o=>({status:r.value,value:o})):ze);it.assertNever(i)}}Ei.create=(t,s,r)=>new Ei({schema:t,typeName:Ue.ZodEffects,effect:s,...Ze(r)});Ei.createWithPreprocess=(t,s,r)=>new Ei({schema:s,effect:{type:"preprocess",transform:t},typeName:Ue.ZodEffects,...Ze(r)});class en extends at{_parse(s){return this._getType(s)===Pe.undefined?$s(void 0):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}en.create=(t,s)=>new en({innerType:t,typeName:Ue.ZodOptional,...Ze(s)});class Di extends at{_parse(s){return this._getType(s)===Pe.null?$s(null):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}Di.create=(t,s)=>new Di({innerType:t,typeName:Ue.ZodNullable,...Ze(s)});class Xm extends at{_parse(s){const{ctx:r}=this._processInputParams(s);let a=r.data;return r.parsedType===Pe.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Xm.create=(t,s)=>new Xm({innerType:t,typeName:Ue.ZodDefault,defaultValue:typeof s.default=="function"?s.default:()=>s.default,...Ze(s)});class eu extends at{_parse(s){const{ctx:r}=this._processInputParams(s),a={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return vc(i)?i.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Mr(a.common.issues)},input:a.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Mr(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}eu.create=(t,s)=>new eu({innerType:t,typeName:Ue.ZodCatch,catchValue:typeof s.catch=="function"?s.catch:()=>s.catch,...Ze(s)});class xf extends at{_parse(s){if(this._getType(s)!==Pe.nan){const a=this._getOrReturnCtx(s);return je(a,{code:fe.invalid_type,expected:Pe.nan,received:a.parsedType}),ze}return{status:"valid",value:s.data}}}xf.create=t=>new xf({typeName:Ue.ZodNaN,...Ze(t)});class s4 extends at{_parse(s){const{ctx:r}=this._processInputParams(s),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}}class mp extends at{_parse(s){const{status:r,ctx:a}=this._processInputParams(s);if(a.common.async)return(async()=>{const n=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return n.status==="aborted"?ze:n.status==="dirty"?(r.dirty(),nl(n.value)):this._def.out._parseAsync({data:n.value,path:a.path,parent:a})})();{const i=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?ze:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:a.path,parent:a})}}static create(s,r){return new mp({in:s,out:r,typeName:Ue.ZodPipeline})}}class tu extends at{_parse(s){const r=this._def.innerType._parse(s),a=i=>(Ci(i)&&(i.value=Object.freeze(i.value)),i);return vc(r)?r.then(i=>a(i)):a(r)}unwrap(){return this._def.innerType}}tu.create=(t,s)=>new tu({innerType:t,typeName:Ue.ZodReadonly,...Ze(s)});var Ue;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ue||(Ue={}));const De=qa.create,up=_i.create,Xc=Ym.create;an.create;const r4=hr.create,Xs=Pt.create;Nc.create;wc.create;Mn.create;const a4=Jm.create;Pi.create;Sc.create;en.create;Di.create;const We={APP_NAME:"TurnTapTravel",APP_DESCRIPTION:"Turn your travel dreams into reality with just a tap",LOGO_PATH:"/asserts/logo.png",LOGO_TEXT_PATH:"/asserts/text.png",DEFAULT_CURRENCY:"USD",DEFAULT_LANGUAGE:"en",DEFAULT_COUNTRY:"US",CURRENCY_SYMBOLS:{USD:"$",EUR:"€",GBP:"£",INR:"₹",JPY:"¥",CAD:"C$",AUD:"A$"},DEFAULT_PAGE_SIZE:20,MAX_PAGE_SIZE:100,MIN_SEARCH_LENGTH:2,SEARCH_DEBOUNCE_MS:300,CACHE_DURATION_MS:5*60*1e3,ANIMATION_DURATION_MS:300,TOAST_DURATION_MS:4e3,MAX_IMAGES:10,MAX_IMAGE_SIZE_MB:5,FALLBACK_IMAGES:{AIRLINE:"https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=80&h=60&fit=crop&auto=format",FLIGHT_HERO:"https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=1920&h=1080&fit=crop&auto=format",AIRCRAFT:"https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=400&h=300&fit=crop&auto=format"},ADDON_PRICES:{SEAT_UPGRADE:49,TRAVEL_INSURANCE:29,HOTEL_PACKAGE:300}},wo={TYPES:["featured","ai-generated","custom","user-created"],CATEGORIES:["adventure","cultural","relaxation","city","nature","food","luxury"],BUDGET_RANGES:["budget","mid-range","luxury"],DIFFICULTY_LEVELS:["easy","moderate","challenging"]},n4={MIN_DURATION_DAYS:1},vr=t=>We.CURRENCY_SYMBOLS[t]||t,i4=Xs({email:De().email("Invalid email address"),password:De().min(6,"Password must be at least 6 characters")}),l4=Xs({firstName:De().min(2,"First name must be at least 2 characters"),lastName:De().min(2,"Last name must be at least 2 characters"),email:De().email("Invalid email address"),phone:De().min(10,"Phone number must be at least 10 digits"),password:De().min(6,"Password must be at least 6 characters"),confirmPassword:De()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),Jy=({isOpen:t,onClose:s,initialMode:r="login"})=>{const[a,i]=b.useState(r);b.useEffect(()=>{t&&(i(r),d(""),l(!1),c(!1),p(!1),y.reset(),h.reset())},[t,r]);const[n,l]=b.useState(!1),[o,c]=b.useState(!1),[m,d]=b.useState(""),[x,p]=b.useState(!1),{login:j,register:g,isLoading:u}=Ps(),y=Lr({resolver:ki(i4),defaultValues:{email:"",password:""}}),h=Lr({resolver:ki(l4),defaultValues:{firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:""}});b.useEffect(()=>{const P=R=>{R.key==="Escape"&&t&&s()};return t&&(document.addEventListener("keydown",P),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",P),document.body.style.overflow="unset"}},[t,s]);const f=P=>{P.target===P.currentTarget&&s()},v=async P=>{try{d(""),await j({email:P.email,password:P.password}),s()}catch(R){console.error("Login failed:",R),d(R.message||"Login failed. Please try again.")}},T=async P=>{try{d("");const O=await(await fetch(`${API_CONFIG.BASE_URL}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:P.email,password:P.password,firstName:P.firstName,lastName:P.lastName,phone:P.phone})})).json();if(O.success)p(!0),d("");else throw new Error(O.message||"Registration failed")}catch(R){console.error("Signup failed:",R),d(R.message||"Signup failed. Please try again.")}};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center min-h-screen",onClick:f,children:e.jsx("div",{className:"flex items-center justify-center min-h-full w-full p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 md:p-8 relative max-h-[90vh] overflow-y-auto shadow-2xl my-auto",onClick:P=>P.stopPropagation(),children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-2xl text-gray-400 hover:text-gray-600 transition-colors w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100","aria-label":"Close modal",children:"×"}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:a==="login"?"Welcome back!":`Join ${We.APP_NAME}`}),e.jsx("p",{className:"text-gray-600",children:a==="login"?"Sign in to continue your journey":"Start planning amazing trips today"})]}),m&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("p",{className:"text-sm text-red-700",children:m})]})}),a==="login"?e.jsxs("form",{onSubmit:y.handleSubmit(v),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),e.jsx("input",{...y.register("email"),type:"email",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Enter your email",autoComplete:"email",style:{textAlign:"left"}})]}),y.formState.errors.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.formState.errors.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsx("input",{...y.register("password"),type:n?"text":"password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Enter your password",autoComplete:"current-password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!n),children:n?e.jsx("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),y.formState.errors.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.formState.errors.password.message})]}),e.jsx(M,{type:"submit",fullWidth:!0,size:"lg",disabled:u,children:u?"Signing in...":"Sign In"})]}):x?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📧"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Check Your Email"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We've sent a verification link to your email address. Please click the link to activate your account."}),e.jsx(M,{variant:"outline",onClick:()=>{p(!1),h.reset()},children:"Back to Signup"})]}):e.jsxs("form",{onSubmit:h.handleSubmit(T),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"First Name"}),e.jsx("input",{...h.register("firstName"),type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"First name",autoComplete:"given-name"}),h.formState.errors.firstName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.formState.errors.firstName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Last Name"}),e.jsx("input",{...h.register("lastName"),type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Last name",autoComplete:"family-name"}),h.formState.errors.lastName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.formState.errors.lastName.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),e.jsx("input",{...h.register("email"),type:"email",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Enter your email",autoComplete:"email",style:{textAlign:"left"}})]}),h.formState.errors.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.formState.errors.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsx("input",{...h.register("password"),type:n?"text":"password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Create a password",autoComplete:"new-password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!n),children:n?e.jsx("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),h.formState.errors.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.formState.errors.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsx("input",{...h.register("confirmPassword"),type:o?"text":"password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Confirm your password",autoComplete:"new-password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>c(!o),children:o?e.jsx("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),h.formState.errors.confirmPassword&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.formState.errors.confirmPassword.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),e.jsx("input",{...h.register("phone"),type:"tel",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"+1 (555) 123-4567",autoComplete:"tel"})]}),h.formState.errors.phone&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.formState.errors.phone.message})]}),e.jsx(M,{type:"submit",fullWidth:!0,size:"lg",disabled:u,children:u?"Creating account...":"Create Account"})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-gray-600 text-sm",children:[a==="login"?"Don't have an account?":"Already have an account?",e.jsx("button",{onClick:()=>{i(a==="login"?"signup":"login"),d(""),l(!1),c(!1),p(!1),y.reset(),h.reset()},className:"ml-2 text-blue-600 font-semibold hover:underline transition-colors",children:a==="login"?"Sign up":"Sign in"})]})}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("div",{className:"text-center text-sm text-gray-500 mb-3",children:"Or continue with"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[e.jsx("span",{children:"🔍"}),e.jsx("span",{children:"Google"})]}),e.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[e.jsx("span",{children:"📘"}),e.jsx("span",{children:"Facebook"})]})]})]})]})})}):null},o4=Ke.BASE_URL,qe=jt.create({baseURL:o4,timeout:1e4,headers:{"Content-Type":"application/json"}});qe.interceptors.request.use(t=>{const s=localStorage.getItem("token");return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t));qe.interceptors.response.use(t=>t,t=>{var s;return((s=t.response)==null?void 0:s.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.location.href="/"),Promise.reject(t)});const su={getUserNotifications:()=>qe.get("/notifications"),markAsRead:t=>qe.patch(`/notifications/${t}/read`),markAllAsRead:()=>qe.patch("/notifications/read-all"),sendBookingConfirmation:(t,s)=>qe.post("/notifications/booking-confirmation",{bookingId:t,email:s}),subscribeToDeals:(t,s)=>qe.post("/notifications/subscribe-deals",{email:t,preferences:s})},c4=()=>{var v,T,P;const t=Ms(),s=rt(),{user:r,isAuthenticated:a,logout:i}=Ps(),[n,l]=b.useState(!1),[o,c]=b.useState(""),[m,d]=b.useState(!1),[x,p]=b.useState("login"),[j]=b.useState([]),[g,u]=b.useState(!1),y=[{href:"/",label:"Home"},{href:"/flights",label:"Flights"},{href:"/hotels",label:"Hotels"},{href:"/trips",label:"Trips"},{href:"/blog",label:"Blog"}],h=R=>{R.preventDefault(),o.trim()&&(s(`/search?q=${encodeURIComponent(o)}`),c(""))},f=()=>{i(),s("/")};return e.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-lg border-b border-primary-200",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs(vs,{to:"/",className:"flex items-center gap-2",children:[e.jsx("img",{src:We.LOGO_PATH,alt:We.APP_NAME,className:"h-10 w-auto"}),e.jsx("img",{src:We.LOGO_TEXT_PATH,alt:We.APP_NAME,className:"h-8 w-auto",onError:R=>{R.currentTarget.style.display="none";const O=R.currentTarget.nextElementSibling;O&&(O.style.display="inline")}}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-governor to-blue-mirage bg-clip-text text-transparent hidden",children:We.APP_NAME})]}),e.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:y.map(R=>e.jsx(vs,{to:R.href,className:`text-sm font-medium transition-colors duration-200 ${t.pathname===R.href?"text-blue-governor":"text-primary-700 hover:text-blue-governor"}`,children:R.label},R.href))}),e.jsx("form",{onSubmit:h,className:"hidden lg:flex items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx(Sh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-primary-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search destinations, hotels...",value:o,onChange:R=>c(R.target.value),className:"pl-10 pr-4 py-2 w-64 border border-primary-200 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-primary focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>u(!g),className:"relative p-2 text-primary-600 hover:text-blue-governor transition-colors",children:[e.jsx(J2,{className:"w-5 h-5"}),j.filter(R=>!R.read).length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),g&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-primary-200 z-50",children:[e.jsx("div",{className:"p-4 border-b border-primary-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-semibold text-primary-900",children:"Notifications"}),e.jsx("button",{onClick:()=>su.markAllAsRead(),className:"text-sm text-blue-ocean hover:underline",children:"Mark all read"})]})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:j.length===0?e.jsx("div",{className:"p-4 text-center text-primary-500",children:"No notifications"}):j.slice(0,5).map(R=>e.jsxs("div",{className:`p-4 border-b border-primary-100 hover:bg-primary-50 cursor-pointer ${R.read?"":"bg-blue-50"}`,onClick:()=>{R.actionUrl&&s(R.actionUrl),su.markAsRead(R.id)},children:[e.jsx("div",{className:"font-semibold text-primary-900 text-sm",children:R.title}),e.jsx("div",{className:"text-primary-600 text-xs mt-1",children:R.message}),e.jsx("div",{className:"text-primary-400 text-xs mt-1",children:new Date(R.createdAt).toLocaleDateString()})]},R.id))})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-primary-100 transition-colors",children:[e.jsxs("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-governor to-blue-mirage rounded-full flex items-center justify-center text-white text-sm font-semibold",children:[(v=r==null?void 0:r.firstName)==null?void 0:v[0],(T=r==null?void 0:r.lastName)==null?void 0:T[0]]}),e.jsx("span",{className:"hidden md:block text-sm font-medium text-primary-700",children:r==null?void 0:r.firstName})]}),e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-primary-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:e.jsxs("div",{className:"py-2",children:[e.jsx(vs,{to:"/dashboard",className:"block px-4 py-2 text-sm text-primary-700 hover:bg-primary-50",children:"Dashboard"}),e.jsx(vs,{to:"/profile",className:"block px-4 py-2 text-sm text-primary-700 hover:bg-primary-50",children:"Profile"}),e.jsx(vs,{to:"/bookings",className:"block px-4 py-2 text-sm text-primary-700 hover:bg-primary-50",children:"My Bookings"}),((P=r==null?void 0:r.corporate)==null?void 0:P.company)&&e.jsx(vs,{to:"/corporate/dashboard",className:"block px-4 py-2 text-sm text-primary-700 hover:bg-primary-50 font-semibold",children:"Corporate Dashboard"}),(r==null?void 0:r.role)==="admin"&&e.jsx(vs,{to:"/admin",className:"block px-4 py-2 text-sm text-primary-700 hover:bg-primary-50 font-semibold",children:"Admin Dashboard"}),e.jsx("hr",{className:"my-2 border-primary-200"}),e.jsx("button",{onClick:f,className:"block w-full text-left px-4 py-2 text-sm text-primary-700 hover:bg-primary-50",children:"Sign Out"})]})})]})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{variant:"outline",onClick:()=>{p("login"),d(!0)},size:"sm",children:"Sign In"}),e.jsx(M,{onClick:()=>{p("signup"),d(!0)},size:"sm",children:"Sign Up"})]}),e.jsx("button",{onClick:()=>l(!n),className:"md:hidden p-2 text-primary-600 hover:text-blue-governor transition-colors",children:n?e.jsx(tw,{className:"w-6 h-6"}):e.jsx(ew,{className:"w-6 h-6"})})]})]}),n&&e.jsx("div",{className:"md:hidden border-t border-primary-200 py-4",children:e.jsxs("nav",{className:"flex flex-col space-y-4",children:[y.map(R=>e.jsx(vs,{to:R.href,onClick:()=>l(!1),className:`text-base font-medium transition-colors duration-200 ${t.pathname===R.href?"text-blue-governor":"text-primary-700 hover:text-blue-governor"}`,children:R.label},R.href)),e.jsx("form",{onSubmit:h,className:"pt-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Sh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-primary-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search destinations, hotels...",value:o,onChange:R=>c(R.target.value),className:"pl-10 pr-4 py-2 w-full border border-primary-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-primary focus:border-transparent"})]})})]})})]}),e.jsx(Jy,{isOpen:m,onClose:()=>d(!1),initialMode:x})]})},d4=()=>{const t=[{title:"Services",links:[{label:"Flights",href:"/flights"},{label:"Hotels",href:"/hotels"},{label:"Itineraries",href:"/itinerary-hub"},{label:"Packages",href:"/packages"}]},{title:"Support",links:[{label:"Help & Contact",href:"/contact"},{label:"Travel Blog",href:"/blog"},{label:"Legal",href:"/legal"},{label:"Privacy Policy",href:"/privacy"}]},{title:"Company",links:[{label:"About Us",href:"/about"},{label:"Careers",href:"/careers"},{label:"Press",href:"/press"},{label:"Partners",href:"/partners"}]}];return e.jsx("footer",{className:"bg-primary-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs(vs,{to:"/",className:"flex items-center gap-2 mb-4",children:[e.jsx("img",{src:We.LOGO_PATH,alt:We.APP_NAME,className:"h-10 w-auto"}),e.jsx("img",{src:We.LOGO_TEXT_PATH,alt:We.APP_NAME,className:"h-8 w-auto",onError:s=>{s.currentTarget.style.display="none";const r=s.currentTarget.nextElementSibling;r&&(r.style.display="inline")}}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-emerald-400 bg-clip-text text-transparent hidden",children:We.APP_NAME})]}),e.jsx("p",{className:"text-primary-300 mb-6",children:We.APP_DESCRIPTION}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"#",className:"w-10 h-10 bg-primary-800 rounded-lg flex items-center justify-center hover:bg-primary-700 transition-colors",children:e.jsx("span",{className:"text-sm",children:"📘"})}),e.jsx("a",{href:"#",className:"w-10 h-10 bg-primary-800 rounded-lg flex items-center justify-center hover:bg-primary-700 transition-colors",children:e.jsx("span",{className:"text-sm",children:"🐦"})}),e.jsx("a",{href:"#",className:"w-10 h-10 bg-primary-800 rounded-lg flex items-center justify-center hover:bg-primary-700 transition-colors",children:e.jsx("span",{className:"text-sm",children:"📷"})}),e.jsx("a",{href:"#",className:"w-10 h-10 bg-primary-800 rounded-lg flex items-center justify-center hover:bg-primary-700 transition-colors",children:e.jsx("span",{className:"text-sm",children:"💼"})})]})]}),t.map(s=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:s.title}),e.jsx("ul",{className:"space-y-3",children:s.links.map(r=>e.jsx("li",{children:e.jsx(vs,{to:r.href,className:"text-primary-300 hover:text-white transition-colors duration-200",children:r.label})},r.href))})]},s.title))]}),e.jsx("div",{className:"border-t border-primary-800 mt-12 pt-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between",children:[e.jsxs("div",{className:"mb-4 lg:mb-0",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Stay Updated"}),e.jsx("p",{className:"text-primary-300",children:"Get the latest travel deals and destination insights"})]}),e.jsxs("form",{className:"flex w-full lg:w-auto",children:[e.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 lg:w-64 px-4 py-2 bg-primary-800 border border-primary-700 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-primary focus:border-transparent text-white placeholder-primary-400"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-blue-governor to-blue-ocean text-white rounded-r-lg hover:shadow-lg transition-all duration-200",children:"Subscribe"})]})]})}),e.jsxs("div",{className:"border-t border-primary-800 mt-8 pt-8 flex flex-col lg:flex-row items-center justify-between",children:[e.jsxs("p",{className:"text-primary-400 text-sm mb-4 lg:mb-0",children:["© 2025 ",We.APP_NAME,". All rights reserved."]}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-primary-400",children:[e.jsx(vs,{to:"/terms",className:"hover:text-white transition-colors",children:"Terms of Service"}),e.jsx(vs,{to:"/privacy",className:"hover:text-white transition-colors",children:"Privacy Policy"}),e.jsx(vs,{to:"/cookies",className:"hover:text-white transition-colors",children:"Cookie Policy"})]})]})]})})};class m4{constructor(){zi(this,"baseURL");zi(this,"timeout");this.baseURL=Ke.BASE_URL,this.timeout=Ke.TIMEOUT}async request(s,r={}){const a=`${this.baseURL}${s}`,i=localStorage.getItem("token"),n={...r,headers:{"Content-Type":"application/json",...i&&{Authorization:`Bearer ${i}`},...r.headers}};try{const l=new AbortController,o=setTimeout(()=>l.abort(),this.timeout),c=await fetch(a,{...n,signal:l.signal});if(clearTimeout(o),!c.ok)throw c.status===401&&(console.error("Unauthorized - token may be invalid or expired"),localStorage.removeItem("token"),localStorage.removeItem("user")),new Error(`HTTP ${c.status}: ${c.statusText}`);return await c.json()}catch(l){return console.error(`API Error [${s}]:`,l),{success:!1,error:{message:l instanceof Error?l.message:"Unknown error occurred"}}}}async get(s,r){const a=r?`${s}?${new URLSearchParams(r)}`:s;return this.request(a,{method:"GET"})}async post(s,r){return this.request(s,{method:"POST",body:r?JSON.stringify(r):void 0})}async put(s,r){return this.request(s,{method:"PUT",body:r?JSON.stringify(r):void 0})}async delete(s){return this.request(s,{method:"DELETE"})}async getHomeFeatured(){return this.get(Ft.HOME_FEATURED)}async getHomeStats(){return this.get(Ft.HOME_STATS)}async searchLocations(s){return this.get(Ft.LOCATIONS_SEARCH,{q:s})}async searchAirports(s){return this.get(Ft.AIRPORTS_SEARCH,{q:s})}async getFeaturedTrips(){return this.get(Ft.TRIPS_FEATURED)}async getTrips(s){return this.get(Ft.TRIPS,s)}async getFeaturedDestinations(){return this.get(Ft.DESTINATIONS_FEATURED)}async getDestinationSpotlight(){return this.get(Ft.DESTINATIONS_SPOTLIGHT)}async getLiveStats(){return this.get("/home/live-stats")}}const et=new m4,u4=[{key:"flights",label:"Flights"},{key:"hotels",label:"Hotels"},{key:"trips",label:"Trips"}],p4=()=>{var Me,Be,$e,A,z,w,W,B;const t=rt(),[s,r]=b.useState("flights"),[a,i]=b.useState(null),[n,l]=b.useState(null),[o,c]=b.useState(!0),[m,d]=b.useState(0),[x,p]=b.useState(0),j=b.useMemo(()=>({weekFromNow:new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0],twoWeeksFromNow:new Date(Date.now()+14*24*60*60*1e3).toISOString().split("T")[0],tenDaysFromNow:new Date(Date.now()+10*24*60*60*1e3).toISOString().split("T")[0]}),[]),[g,u]=b.useState({from:"",to:"",departDate:j.weekFromNow,returnDate:j.twoWeeksFromNow,passengers:1,class:"economy",tripType:"round-trip"}),[y,h]=b.useState(!1),[f,v]=b.useState({location:"",checkIn:j.weekFromNow,checkOut:j.tenDaysFromNow,guests:2,rooms:1}),[T,P]=b.useState({dreamInput:"",destination:"",category:"any",travelers:"couple",budget:"mid-range"}),[R,O]=b.useState([]),[U,C]=b.useState([]),[q,X]=b.useState([]),[N,D]=b.useState([]),[G,$]=b.useState(!1),[J,E]=b.useState(!1),[_,H]=b.useState(!1),[V,ae]=b.useState(!1);b.useEffect(()=>{F(),me()},[]),b.useEffect(()=>{const k=setInterval(()=>{d(L=>L+Math.floor(Math.random()*3)+1)},12e3);return()=>clearInterval(k)},[]),b.useEffect(()=>{var k;if(((k=a==null?void 0:a.heroImages)==null?void 0:k.length)>1){const L=setInterval(()=>{p(ce=>(ce+1)%a.heroImages.length)},5e3);return()=>clearInterval(L)}},[a==null?void 0:a.heroImages]);const me=async()=>{var k;try{const L=await et.getLiveStats();L.success&&((k=L.data)!=null&&k.tripsPlannedToday)&&d(L.data.tripsPlannedToday)}catch(L){console.error("Live stats loading error:",L),d(2847)}},F=async()=>{try{const[k,L]=await Promise.all([et.getHomeFeatured(),et.getHomeStats()]);k.success?i(k.data):i({heroTitle:"Discover Your Dream Journey",heroSubtitle:We.APP_DESCRIPTION,heroImage:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=1920&h=1080&fit=crop",adventureCategories:[{icon:"🏔️",title:"Adventure Trips",places:"50+ Places",type:"adventure-trips"},{icon:"🏛️",title:"Cultural Trips",places:"40+ Places",type:"cultural-trips"},{icon:"🏖️",title:"Beach Trips",places:"30+ Places",type:"beach-trips"}],featuredTrips:[]}),L.success?l(L.data):l({happyCustomers:15e3,averageRating:4.9,destinations:150,support:"24/7"})}catch(k){console.error("Home data loading error:",k)}finally{c(!1)}},ee=b.useCallback((k,L)=>{let ce;return(...xe)=>{clearTimeout(ce),ce=window.setTimeout(()=>k.apply(null,xe),L)}},[]),ue=b.useCallback(async(k,L)=>{var ce;if(k.length<2){L==="from"?O([]):C([]);return}try{const xe=k.replace(/[<>"'&]/g,""),ie=await et.searchAirports(xe);ie.success&&((ce=ie.data)!=null&&ce.airports)&&(L==="from"?O(ie.data.airports):C(ie.data.airports))}catch(xe){console.error("Airport search error:",xe),L==="from"?O([]):C([])}},[]),S=b.useCallback(async k=>{var L;if(k.length<2){X([]);return}try{const ce=k.replace(/[<>"'&]/g,""),xe=await et.searchLocations(ce);xe.success&&((L=xe.data)!=null&&L.locations)&&X(xe.data.locations)}catch(ce){console.error("Location search error:",ce),X([])}},[]),ne=b.useCallback(async k=>{var L;if(k.length<2){D([]);return}try{const ce=k.replace(/[<>"'&]/g,""),xe=await et.searchLocations(ce);xe.success&&((L=xe.data)!=null&&L.locations)&&D(xe.data.locations)}catch(ce){console.error("Trip destination search error:",ce),D([])}},[]),Z=b.useMemo(()=>ee(ue,300),[ee,ue]),K=b.useMemo(()=>ee(S,300),[ee,S]),se=b.useMemo(()=>ee(ne,300),[ee,ne]),be=async()=>{try{switch(s){case"flights":if(g.from&&g.to){const L=new URLSearchParams({from:g.from,to:g.to,departDate:g.departDate,returnDate:g.returnDate,passengers:g.passengers.toString(),class:g.class,tripType:g.tripType});t(`/flights?${L}`)}break;case"hotels":if(f.location){const L=new URLSearchParams({location:f.location,checkIn:f.checkIn,checkOut:f.checkOut,guests:f.guests.toString(),rooms:f.rooms.toString()});t(`/hotels?${L}`)}break;case"trips":const k=new URLSearchParams;T.dreamInput&&k.append("description",T.dreamInput),T.destination&&k.append("destination",T.destination),T.category!=="any"&&k.append("category",T.category),k.append("travelers",T.travelers),k.append("budget",T.budget),t(`/trips?${k}`);break}}catch(k){console.error("Navigation failed:",k)}},Se=k=>{t(`/trips?category=${k}`)},Ae=k=>{t(`/trips?destination=${k.location}`)},Le=k=>{t(`/trips/${k}`)},Te=(a==null?void 0:a.adventureCategories)||[{icon:"🏔️",title:"Adventure Trips",places:"50+ Places",type:"adventure-trips"},{icon:"🏛️",title:"Cultural Trips",places:"40+ Places",type:"cultural-trips"},{icon:"🏖️",title:"Beach Trips",places:"30+ Places",type:"beach-trips"}],Fe=(a==null?void 0:a.featuredTrips)||[];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#FCFCFD] to-white",children:[e.jsxs("section",{className:"relative",children:[e.jsx("div",{className:"mx-auto px-4 sm:px-8 md:px-12 lg:px-16 xl:px-20",children:e.jsxs("div",{className:"relative h-[75vh] bg-gradient-to-r from-blue-600 via-blue-700 to-emerald-600 overflow-hidden rounded-2xl lg:rounded-3xl",children:[((Me=a==null?void 0:a.heroImages)==null?void 0:Me.length)>1?e.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:a.heroImages.map((k,L)=>e.jsx("img",{className:`absolute top-0 left-0 w-full h-full object-cover transition-opacity duration-1000 ${L===x?"opacity-100":"opacity-0"}`,src:k,alt:`Hero ${L+1}`,loading:L===0?"eager":"lazy",onError:ce=>{ce.currentTarget.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=1920&h=1080&fit=crop"}},L))}):e.jsx("img",{src:(a==null?void 0:a.heroImage)||"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1280&h=776&fit=crop",alt:"Travel destination",className:"absolute inset-0 w-full h-full object-cover rounded-3xl",onError:k=>{k.currentTarget.src="https://via.placeholder.com/1280x500/3B71FE/FFFFFF?text=Travel+Destination"}}),e.jsx("div",{className:"relative z-10 h-full flex flex-col justify-center px-4 sm:px-6 lg:px-20 py-8 sm:py-12 lg:py-16",children:e.jsxs("div",{className:"max-w-md lg:max-w-lg",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm border border-white/30 px-3 py-1.5 rounded-full text-xs mb-4 text-white",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-400 rounded-full animate-pulse"}),e.jsxs("span",{className:"text-xs sm:text-sm",children:[m.toLocaleString()," dreams planned today"]})]}),e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-5xl font-black text-white mb-3 leading-tight",children:(a==null?void 0:a.heroTitle)||"Discover Your Dream Journey"}),e.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-white/90 leading-relaxed",children:(a==null?void 0:a.heroSubtitle)||We.APP_DESCRIPTION})]})})]})}),e.jsx("div",{className:"mx-auto px-2 sm:px-4 relative",children:e.jsx("div",{className:"max-w-6xl mx-auto -mt-32 sm:-mt-36 lg:-mt-40 relative z-20",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-lg rounded-2xl lg:rounded-3xl p-4 sm:p-6 lg:p-8 shadow-xl border border-white/20",children:[e.jsx("div",{className:"flex items-center gap-6 lg:gap-12 mb-6 border-b border-gray-200 overflow-x-auto scrollbar-hide",children:u4.map(k=>e.jsx("button",{onClick:()=>r(k.key),className:`pb-4 lg:pb-8 font-bold text-sm whitespace-nowrap transition-colors min-w-0 flex-shrink-0 ${s===k.key?"text-gray-900 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:k.label},k.key))}),s==="flights"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 mb-6",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>u(k=>({...k,tripType:"round-trip"})),className:`px-3 sm:px-4 py-2 sm:py-3 rounded-xl sm:rounded-2xl text-xs sm:text-sm font-bold transition-colors ${g.tripType==="round-trip"?"bg-gray-900 text-white":"border-2 border-gray-200 text-gray-900 hover:bg-gray-50"}`,children:"Round-trip"}),e.jsx("button",{onClick:()=>u(k=>({...k,tripType:"one-way"})),className:`px-3 sm:px-4 py-2 sm:py-3 rounded-xl sm:rounded-2xl text-xs sm:text-sm font-bold transition-colors ${g.tripType==="one-way"?"bg-gray-900 text-white":"border-2 border-gray-200 text-gray-900 hover:bg-gray-50"}`,children:"One-way"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>h(!y),className:"flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-3 border-2 border-gray-200 rounded-xl sm:rounded-2xl hover:bg-gray-50 transition-colors",children:[e.jsxs("span",{className:"text-xs sm:text-sm font-bold text-gray-900",children:[g.passengers," guest",g.passengers>1?"s":""]}),e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),y&&e.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg p-4 min-w-[200px] z-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Passengers"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>u(k=>({...k,passengers:Math.max(1,k.passengers-1)})),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50",children:"-"}),e.jsx("span",{className:"w-8 text-center font-medium",children:g.passengers}),e.jsx("button",{onClick:()=>u(k=>({...k,passengers:Math.min(9,k.passengers+1)})),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50",children:"+"})]})]}),e.jsx("button",{onClick:()=>h(!1),className:"w-full mt-3 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Done"})]})]})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-0 sm:grid sm:grid-cols-2 lg:grid-cols-5 sm:gap-3 lg:gap-4 sm:items-end",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"h-14 sm:h-16 pl-8 sm:pl-10 pr-3 pt-2 pb-4 sm:pb-6 border-0 rounded-xl bg-gray-50 flex flex-col justify-center",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Flying from"}),e.jsx("input",{type:"text",value:g.from,onChange:k=>{u(L=>({...L,from:k.target.value})),Z(k.target.value.replace(/[<>"'&]/g,""),"from"),$(!0)},onFocus:()=>$(!0),onBlur:()=>setTimeout(()=>$(!1),150),placeholder:"Departure city",className:"text-sm sm:text-lg font-semibold text-gray-900 bg-transparent border-none outline-none w-full"})]}),e.jsx("div",{className:"absolute left-2 sm:left-3 top-2 sm:top-3 w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400 text-sm sm:text-base",children:"📍"})}),G&&R.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg max-h-40 overflow-y-auto mt-1 z-50",children:R.map(k=>e.jsxs("div",{onMouseDown:L=>{L.preventDefault(),u(ce=>({...ce,from:`${k.city} (${k.code})`})),$(!1)},className:"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:k.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[k.code," - ",k.city]})]},k._id))})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"h-16 pl-10 pr-3 pt-2 pb-6 border-0 rounded-xl bg-gray-50 flex flex-col justify-center",children:[e.jsx("div",{className:"text-xs text-[#777E90] font-['Poppins'] mb-1",children:"Flying to"}),e.jsx("input",{type:"text",value:g.to,onChange:k=>{u(L=>({...L,to:k.target.value})),Z(k.target.value.replace(/[<>"'&]/g,""),"to"),E(!0)},onFocus:()=>E(!0),onBlur:()=>setTimeout(()=>E(!1),150),placeholder:"Destination city",className:"text-lg font-semibold text-[#23262F] font-['Poppins'] bg-transparent border-none outline-none w-full"})]}),e.jsx("div",{className:"absolute left-3 top-3 w-5 h-5 flex items-center justify-center",children:e.jsx("span",{className:"text-[#B1B5C3] text-base",children:"📍"})}),e.jsx("button",{onClick:()=>{const k=g.from;u(L=>({...L,from:L.to,to:k}))},className:"absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 bg-white border border-gray-200 rounded-full flex items-center justify-center hover:bg-gray-50 transition-colors shadow-sm",children:e.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})})}),J&&U.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg max-h-40 overflow-y-auto mt-1 z-50",children:U.map(k=>e.jsxs("div",{onMouseDown:L=>{L.preventDefault(),u(ce=>({...ce,to:`${k.city} (${k.code})`})),E(!1)},className:"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:k.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[k.code," - ",k.city]})]},k._id))})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"h-16 pl-10 pr-3 pt-2 pb-6 border-0 rounded-xl bg-gray-50 flex flex-col justify-center",children:[e.jsx("div",{className:"text-xs text-[#777E90] font-['Poppins'] mb-1",children:"Departure"}),e.jsx("input",{type:"date",value:g.departDate,onChange:k=>u(L=>({...L,departDate:k.target.value})),className:"text-lg font-semibold text-[#23262F] font-['Poppins'] bg-transparent border-none outline-none w-full"})]}),e.jsx("div",{className:"absolute left-3 top-3 w-5 h-5 flex items-center justify-center",children:e.jsx("span",{className:"text-[#B1B5C3] text-base",children:"📅"})})]}),g.tripType==="round-trip"&&e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"h-16 pl-10 pr-3 pt-2 pb-6 border-0 rounded-xl bg-gray-50 flex flex-col justify-center",children:[e.jsx("div",{className:"text-xs text-[#777E90] font-['Poppins'] mb-1",children:"Return"}),e.jsx("input",{type:"date",value:g.returnDate,onChange:k=>u(L=>({...L,returnDate:k.target.value})),className:"text-lg font-semibold text-[#23262F] font-['Poppins'] bg-transparent border-none outline-none w-full"})]}),e.jsx("div",{className:"absolute left-3 top-3 w-5 h-5 flex items-center justify-center",children:e.jsx("span",{className:"text-[#B1B5C3] text-base",children:"📅"})})]}),e.jsx("div",{className:"flex justify-end sm:justify-start",children:e.jsx("button",{onClick:be,className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 hover:bg-emerald-500 text-white rounded-xl sm:rounded-full font-bold transition-all duration-300 hover:shadow-lg flex items-center justify-center touch-manipulation",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})})]})]}),s==="hotels"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-4 sm:space-y-0 sm:grid sm:grid-cols-2 lg:grid-cols-5 sm:gap-3 lg:gap-4 sm:items-end",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"h-14 sm:h-16 pl-8 sm:pl-10 pr-3 pt-2 pb-4 sm:pb-6 border-0 rounded-xl bg-gray-50 flex flex-col justify-center",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Destination"}),e.jsx("input",{type:"text",value:f.location,onChange:k=>{v(L=>({...L,location:k.target.value})),K(k.target.value.replace(/[<>"'&]/g,"")),H(!0)},onFocus:()=>H(!0),onBlur:()=>setTimeout(()=>H(!1),150),placeholder:"Where are you going?",className:"text-sm sm:text-lg font-semibold text-gray-900 bg-transparent border-none outline-none w-full"})]}),e.jsx("div",{className:"absolute left-2 sm:left-3 top-2 sm:top-3 w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400 text-sm sm:text-base",children:"🏨"})}),_&&q.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg max-h-40 overflow-y-auto mt-1 z-50",children:q.map(k=>e.jsxs("div",{onMouseDown:L=>{L.preventDefault(),v(ce=>({...ce,location:`${k.name}, ${k.country}`})),H(!1)},className:"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:k.name}),e.jsx("div",{className:"text-xs text-gray-500",children:k.country})]},k._id))})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"h-14 sm:h-16 pl-8 sm:pl-10 pr-3 pt-2 pb-4 sm:pb-6 border-0 rounded-xl bg-gray-50 flex flex-col justify-center",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Check in"}),e.jsx("input",{type:"date",value:f.checkIn,onChange:k=>v(L=>({...L,checkIn:k.target.value})),className:"text-sm sm:text-lg font-semibold text-gray-900 bg-transparent border-none outline-none w-full"})]}),e.jsx("div",{className:"absolute left-2 sm:left-3 top-2 sm:top-3 w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400 text-sm sm:text-base",children:"📅"})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"h-14 sm:h-16 pl-8 sm:pl-10 pr-3 pt-2 pb-4 sm:pb-6 border-0 rounded-xl bg-gray-50 flex flex-col justify-center",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Check out"}),e.jsx("input",{type:"date",value:f.checkOut,onChange:k=>v(L=>({...L,checkOut:k.target.value})),className:"text-sm sm:text-lg font-semibold text-gray-900 bg-transparent border-none outline-none w-full"})]}),e.jsx("div",{className:"absolute left-2 sm:left-3 top-2 sm:top-3 w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400 text-sm sm:text-base",children:"📅"})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"h-14 sm:h-16 pl-8 sm:pl-10 pr-3 pt-2 pb-4 sm:pb-6 border-0 rounded-xl bg-gray-50 flex flex-col justify-center",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Travelers"}),e.jsxs("select",{value:`${f.guests}-${f.rooms}`,onChange:k=>{const[L,ce]=k.target.value.split("-").map(Number);v(xe=>({...xe,guests:L,rooms:ce}))},className:"text-sm sm:text-lg font-semibold text-gray-900 bg-transparent border-none outline-none w-full",children:[e.jsx("option",{value:"1-1",children:"1 Adult, 1 Room"}),e.jsx("option",{value:"2-1",children:"2 Adults, 1 Room"}),e.jsx("option",{value:"3-1",children:"3 Adults, 1 Room"}),e.jsx("option",{value:"4-1",children:"4 Adults, 1 Room"}),e.jsx("option",{value:"2-2",children:"2 Adults, 2 Rooms"}),e.jsx("option",{value:"4-2",children:"4 Adults, 2 Rooms"})]})]}),e.jsx("div",{className:"absolute left-2 sm:left-3 top-2 sm:top-3 w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400 text-sm sm:text-base",children:"👥"})})]}),e.jsx("div",{className:"flex justify-end sm:justify-start",children:e.jsx("button",{onClick:be,className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 hover:bg-emerald-500 text-white rounded-xl sm:rounded-full font-bold transition-all duration-300 hover:shadow-lg flex items-center justify-center touch-manipulation",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})})]})}),s==="trips"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"h-14 sm:h-16 pl-8 sm:pl-10 pr-3 pt-2 pb-4 sm:pb-6 border-0 rounded-xl bg-gray-50 flex flex-col justify-center",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Dream Trip"}),e.jsx("input",{type:"text",value:T.dreamInput,onChange:k=>P(L=>({...L,dreamInput:k.target.value})),placeholder:"Romantic Paris, Adventure Japan, Beach Bali...",className:"text-sm sm:text-lg font-semibold text-gray-900 bg-transparent border-none outline-none w-full"})]}),e.jsx("div",{className:"absolute left-2 sm:left-3 top-2 sm:top-3 w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400 text-sm sm:text-base",children:"✨"})})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-0 sm:flex sm:gap-3 lg:gap-4 sm:items-end",children:[e.jsxs("div",{className:"relative flex-[30%]",children:[e.jsxs("div",{className:"h-14 sm:h-16 pl-8 sm:pl-10 pr-3 pt-2 pb-4 sm:pb-6 border-0 rounded-xl bg-gray-50 flex flex-col justify-center",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Destination"}),e.jsx("input",{type:"text",value:T.destination,onChange:k=>{const L=k.target.value.replace(/[<>"'&]/g,"");P(ce=>({...ce,destination:L})),se(L),ae(!0)},onFocus:()=>ae(!0),onBlur:()=>setTimeout(()=>ae(!1),150),placeholder:"Where do you want to go?",className:"text-sm sm:text-lg font-semibold text-gray-900 bg-transparent border-none outline-none w-full"})]}),e.jsx("div",{className:"absolute left-2 sm:left-3 top-2 sm:top-3 w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400 text-sm sm:text-base",children:"🌍"})}),V&&N.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg max-h-40 overflow-y-auto mt-1 z-50",children:N.map(k=>e.jsxs("div",{onMouseDown:L=>{L.preventDefault(),P(ce=>({...ce,destination:`${k.name}, ${k.country}`})),ae(!1)},className:"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:k.name}),e.jsx("div",{className:"text-xs text-gray-500",children:k.country})]},k._id))})]}),e.jsxs("div",{className:"relative flex-[30%]",children:[e.jsxs("div",{className:"h-14 sm:h-16 pl-8 sm:pl-10 pr-3 pt-2 pb-4 sm:pb-6 border-0 rounded-xl bg-gray-50 flex flex-col justify-center",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Trip Type"}),e.jsxs("select",{value:T.category,onChange:k=>P(L=>({...L,category:k.target.value})),className:"text-sm sm:text-lg font-semibold text-gray-900 bg-transparent border-none outline-none w-full",children:[e.jsx("option",{value:"any",children:"Any Type"}),e.jsx("option",{value:"adventure",children:"Adventure & Outdoor"}),e.jsx("option",{value:"cultural",children:"Cultural & Historical"}),e.jsx("option",{value:"beach",children:"Beach & Relaxation"}),e.jsx("option",{value:"city",children:"City & Urban"}),e.jsx("option",{value:"nature",children:"Nature & Wildlife"})]})]}),e.jsx("div",{className:"absolute left-2 sm:left-3 top-2 sm:top-3 w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400 text-sm sm:text-base",children:"🎭"})})]}),e.jsxs("div",{className:"relative flex-[30%]",children:[e.jsxs("div",{className:"h-14 sm:h-16 pl-8 sm:pl-10 pr-3 pt-2 pb-4 sm:pb-6 border-0 rounded-xl bg-gray-50 flex flex-col justify-center",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Budget"}),e.jsxs("select",{value:T.budget,onChange:k=>P(L=>({...L,budget:k.target.value})),className:"text-sm sm:text-lg font-semibold text-gray-900 bg-transparent border-none outline-none w-full",children:[e.jsx("option",{value:"budget",children:"Budget ($500-1500)"}),e.jsx("option",{value:"mid-range",children:"Mid-range ($1500-3000)"}),e.jsx("option",{value:"luxury",children:"Luxury ($3000+)"})]})]}),e.jsx("div",{className:"absolute left-2 sm:left-3 top-2 sm:top-3 w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400 text-sm sm:text-base",children:"💰"})})]}),e.jsx("div",{className:"flex justify-end sm:justify-start flex-[10%]",children:e.jsx("button",{onClick:be,className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 hover:bg-emerald-500 text-white rounded-xl sm:rounded-full font-bold transition-all duration-300 hover:shadow-lg flex items-center justify-center touch-manipulation",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})})]})]})]})})})]}),e.jsx("section",{className:"pt-16 pb-20 bg-white",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-20",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-black text-gray-900 mb-4 leading-tight",children:((Be=a==null?void 0:a.adventureSection)==null?void 0:Be.title)||"Let's go on an adventure"}),e.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-gray-600 leading-relaxed",children:(($e=a==null?void 0:a.adventureSection)==null?void 0:$e.subtitle)||"Find and book a great experience."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8 max-w-5xl mx-auto",children:Te.map((k,L)=>e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 cursor-pointer transition-all duration-300 p-4 sm:p-6 rounded-xl lg:rounded-2xl bg-white shadow-md hover:-translate-y-1 hover:shadow-lg active:scale-95 touch-manipulation",onClick:()=>Se(k.type),children:[e.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 lg:w-32 lg:h-32 flex items-center justify-center text-3xl sm:text-5xl lg:text-6xl rounded-2xl lg:rounded-3xl bg-gradient-to-br from-cyan-100 to-emerald-200 flex-shrink-0",children:k.icon}),e.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[e.jsx("h3",{className:"text-sm sm:text-base font-medium text-gray-900 mb-2",children:k.title}),e.jsx("div",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-lg text-xs font-bold uppercase inline-block",children:k.places})]})]},L))})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-20",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-black text-gray-900 mb-4 leading-tight",children:"How it works"}),e.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-gray-600 leading-relaxed",children:"Simple steps to your perfect trip"})]}),e.jsxs("div",{className:"relative max-w-5xl mx-auto",children:[e.jsx("div",{className:"hidden lg:block absolute top-32 left-24 right-24 h-px border-t-2 border-dashed border-gray-200"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 sm:gap-16 lg:gap-32",children:((a==null?void 0:a.howItWorksSteps)||[{id:1,title:"Search & Discover",description:"Find your perfect trip using our AI-powered search",image:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=256&h=269&fit=crop"},{id:2,title:"Book with Confidence",description:"Secure booking with flexible cancellation",image:"https://images.unsplash.com/photo-1551632811-1312ad7a1e3e?w=256&h=269&fit=crop"},{id:3,title:"Travel & Enjoy",description:"Experience your dream trip with our support",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=256&h=269&fit=crop"}]).map((k,L)=>e.jsxs("div",{className:"text-center relative",children:[e.jsx("div",{className:"w-48 h-48 sm:w-56 sm:h-56 lg:w-64 lg:h-[269px] bg-gray-100 rounded-2xl mb-6 sm:mb-8 mx-auto overflow-hidden",children:e.jsx("img",{src:k.image,alt:k.title,className:"w-full h-full object-cover"})}),e.jsx("h3",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-gray-900 mb-2 leading-tight",children:k.title}),e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:k.description})]},k.id||L))})]})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-20",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-black text-gray-900 mb-4 leading-tight",children:((A=a==null?void 0:a.destinationSpotlight)==null?void 0:A.title)||"Explore amazing destinations"}),e.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-gray-600 leading-relaxed",children:((z=a==null?void 0:a.destinationSpotlight)==null?void 0:z.subtitle)||"Discover breathtaking places around the world"})]}),e.jsx("div",{className:"flex gap-8 overflow-x-auto scroll-smooth pb-5",children:((W=(w=a==null?void 0:a.destinationSpotlight)==null?void 0:w.destinations)==null?void 0:W.map((k,L)=>e.jsxs("div",{className:"min-w-[256px] cursor-pointer transition-all duration-300 rounded-3xl overflow-hidden bg-white shadow-[0_4px_12px_rgba(0,0,0,0.05)] hover:-translate-y-0.5 hover:shadow-[0_8px_24px_rgba(0,0,0,0.1)]",onClick:()=>Ae(k),children:[e.jsxs("div",{className:"w-64 h-64 rounded-3xl overflow-hidden mb-5 relative",children:[e.jsx("img",{src:k.image||"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=400&fit=crop",alt:k.name||"Beautiful destination",className:"w-full h-full object-cover",loading:"lazy",onError:ce=>{ce.currentTarget.src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=400&fit=crop"}}),e.jsxs("div",{className:"absolute top-4 left-4 bg-[#23262F] text-white px-3 rounded-[13px] text-xs font-bold uppercase leading-[26px] font-['Poppins']",children:["from $",k.price]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-medium leading-6 text-[#23262F] mb-2 font-['Poppins']",children:k.name}),e.jsxs("div",{className:"flex items-center justify-between text-xs font-['Poppins']",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-[#777E90]",children:[e.jsx("span",{children:"📍"}),e.jsx("span",{children:k.location})]}),k.rating&&e.jsxs("div",{className:"flex items-center gap-1 text-[#23262F]",children:[e.jsx("span",{children:"⭐"}),e.jsx("span",{className:"font-semibold",children:k.rating})]})]})]})]},k.id||L)))||e.jsx("div",{className:"col-span-full text-center py-12 min-w-full",children:e.jsx("p",{className:"text-[#777E90] mb-4",children:"Featured destinations will be available soon."})})})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-20",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-black text-gray-900 mb-4 leading-tight",children:"Ready-made adventures"}),e.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-gray-600 leading-relaxed",children:"Handcrafted itineraries by travel experts"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:o?e.jsx("div",{className:"col-span-full flex justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-[#777E90] font-['Poppins'] text-lg",children:"Loading amazing trips..."})]})}):Fe.length===0?e.jsx("div",{className:"col-span-full text-center py-12",children:e.jsx("p",{className:"text-[#777E90]",children:"No featured trips available at the moment."})}):Fe.map(k=>{var L,ce,xe,ie,le,te,ve,Oe;return e.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden cursor-pointer transition-all duration-300 shadow-[0_4px_12px_rgba(0,0,0,0.05)] hover:-translate-y-0.5 hover:shadow-[0_8px_24px_rgba(0,0,0,0.1)]",onClick:()=>Le(k._id||k.id),children:[e.jsxs("div",{className:"relative h-[228px] overflow-hidden",children:[e.jsx("img",{src:((ce=(L=k.images)==null?void 0:L[0])==null?void 0:ce.url)||k.image||"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop",alt:k.title,className:"w-full h-full object-cover",onError:Ie=>{Ie.currentTarget.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop"}}),e.jsx("div",{className:"absolute top-4 left-4 bg-[#23262F] text-white py-1 px-2 rounded-lg text-xs font-bold font-['DM_Sans']",children:(xe=k.duration)!=null&&xe.days?`${k.duration.days} Days`:"7 Days"}),e.jsxs("div",{className:"absolute top-4 right-4 bg-emerald-500 text-white py-1 px-2 rounded-lg text-xs font-bold font-['DM_Sans']",children:["$",((le=(ie=k.pricing)==null?void 0:ie.estimated)==null?void 0:le.toLocaleString())||"1,999"]})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-base font-medium text-[#23262F] mb-1 font-['Poppins']",children:k.title}),e.jsx("p",{className:"text-xs text-[#777E90] mb-3 font-['Poppins']",children:((te=k.primaryDestination)==null?void 0:te.name)||"Amazing Destination"}),e.jsxs("div",{className:"flex justify-between items-center text-xs font-['Poppins']",children:[e.jsxs("span",{className:"text-[#23262F] font-semibold",children:["⭐ ",((ve=k.stats)==null?void 0:ve.rating)||"4.8"]}),e.jsxs("span",{className:"text-[#777E90]",children:["(",((Oe=k.stats)==null?void 0:Oe.reviewCount)||"0"," reviews)"]})]})]})]},k._id||k.id)})}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>t("/trips"),className:"bg-transparent border-2 border-[#E6E8EC] text-[#23262F] py-3 px-6 rounded-2xl text-sm font-bold cursor-pointer transition-all duration-300 font-['DM_Sans'] hover:border-blue-600 hover:text-blue-600",children:"View all trips"})})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-20",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-black text-gray-900 mb-4 leading-tight",children:"Latest travel insights & tips"}),e.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-gray-600 leading-relaxed",children:"Expert advice and inspiration for your next adventure"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-10",children:((a==null?void 0:a.blogPosts)||[]).map((k,L)=>e.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden cursor-pointer transition-all duration-300 shadow-[0_4px_12px_rgba(0,0,0,0.05)] hover:-translate-y-1 hover:shadow-[0_8px_24px_rgba(0,0,0,0.1)]",onClick:()=>t(`/blog/${k.id||k.slug}`),children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:k.image||"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=350&h=200&fit=crop",alt:k.title,className:"w-full h-[200px] object-cover transition-transform duration-300 hover:scale-105",onError:ce=>{ce.currentTarget.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=350&h=200&fit=crop"}}),e.jsx("div",{className:"absolute top-4 left-4 bg-blue-600 text-white py-1.5 px-3 rounded-xl text-xs font-semibold",children:k.category})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-bold text-[#23262F] mb-2 leading-tight",children:k.title}),e.jsx("p",{className:"text-sm text-[#777E90] leading-relaxed mb-4",children:k.excerpt}),e.jsxs("div",{className:"flex justify-between text-xs text-[#777E90]",children:[e.jsx("span",{children:k.date}),e.jsx("span",{children:k.readTime})]})]})]},k.id||L))}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>t("/blog"),className:"bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold transition-all duration-300 hover:bg-emerald-500 hover:-translate-y-0.5 border-none cursor-pointer",children:"View All Articles"})})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-20",children:e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-10 max-w-[1000px] mx-auto text-center",children:[e.jsxs("div",{className:"p-8 bg-gradient-to-br from-white to-blue-50 rounded-3xl border border-gray-200 transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg hover:border-blue-600",children:[e.jsxs("div",{className:"text-[40px] font-black bg-gradient-to-br from-blue-600 to-emerald-500 bg-clip-text text-transparent mb-2 font-['DM_Sans']",children:[((B=n==null?void 0:n.happyCustomers)==null?void 0:B.toLocaleString())||"15K","+"]}),e.jsx("div",{className:"text-base text-[#777E90] font-medium font-['Poppins']",children:"Happy Travelers"})]}),e.jsxs("div",{className:"p-8 bg-gradient-to-br from-white to-blue-50 rounded-3xl border border-gray-200 transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg hover:border-blue-600",children:[e.jsxs("div",{className:"text-[40px] font-black bg-gradient-to-br from-blue-600 to-emerald-500 bg-clip-text text-transparent mb-2 font-['DM_Sans']",children:[(n==null?void 0:n.averageRating)||"4.9","⭐"]}),e.jsx("div",{className:"text-base text-[#777E90] font-medium font-['Poppins']",children:"Average Rating"})]}),e.jsxs("div",{className:"p-8 bg-gradient-to-br from-white to-blue-50 rounded-3xl border border-gray-200 transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg hover:border-blue-600",children:[e.jsxs("div",{className:"text-[40px] font-black bg-gradient-to-br from-blue-600 to-emerald-500 bg-clip-text text-transparent mb-2 font-['DM_Sans']",children:[(n==null?void 0:n.destinations)||"150","+"]}),e.jsx("div",{className:"text-base text-[#777E90] font-medium font-['Poppins']",children:"Destinations"})]}),e.jsxs("div",{className:"p-8 bg-gradient-to-br from-white to-blue-50 rounded-3xl border border-gray-200 transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg hover:border-blue-600",children:[e.jsx("div",{className:"text-[40px] font-black bg-gradient-to-br from-blue-600 to-emerald-500 bg-clip-text text-transparent mb-2 font-['DM_Sans']",children:(n==null?void 0:n.support)||"24/7"}),e.jsx("div",{className:"text-base text-[#777E90] font-medium font-['Poppins']",children:"Support"})]})]})})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-gray-50 to-blue-50",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-20",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-black text-gray-900 mb-4 leading-tight",children:"Quick Access"}),e.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-gray-600 leading-relaxed",children:"Jump directly to any trip"})]}),e.jsx("div",{className:"max-w-[1000px] mx-auto",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-[0_4px_12px_rgba(0,0,0,0.05)] border border-gray-100",children:a!=null&&a.quickAccessTrips&&a.quickAccessTrips.length>0?e.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:a.quickAccessTrips.map((k,L)=>e.jsxs("button",{onClick:()=>t(`/trips/${k.slug}`),className:"inline-flex items-center gap-2 py-2 px-4 rounded-lg bg-gray-50 hover:bg-blue-50 transition-all duration-200 group min-h-[44px] border border-gray-200 hover:border-blue-200",children:[e.jsx("span",{className:"text-blue-600 group-hover:text-emerald-500 transition-colors text-sm",children:"#"}),e.jsx("span",{className:"text-[#23262F] font-medium font-['Poppins'] group-hover:text-blue-600 transition-colors text-sm whitespace-nowrap",children:k.title})]},k.slug||L))}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-[#777E90] font-['Poppins']",children:"No quick access trips available"})})})}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("button",{onClick:()=>t("/trips"),className:"bg-blue-600 text-white py-3 px-6 rounded-2xl text-sm font-bold cursor-pointer transition-all duration-300 font-['DM_Sans'] hover:bg-emerald-500 hover:-translate-y-0.5 hover:shadow-[0_8px_25px_rgba(88,194,125,0.3)] border-none",children:"View All Trips"})})]})}),e.jsx("section",{className:"py-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-20",children:e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-5xl font-black text-gray-900 mb-4 leading-tight",children:"supercharge your planning powers"}),e.jsxs("p",{className:"text-2xl sm:text-3xl lg:text-5xl font-black text-gray-900 leading-tight mb-4",children:["Travel to make",e.jsx("br",{}),"memories all",e.jsx("br",{}),"around the world"]}),e.jsxs("p",{className:"text-base text-[#777E90] font-['Poppins'] leading-6 mb-6",children:["Stacks is a production-ready library of stackable",e.jsx("br",{}),"content blocks built in React Native."]}),e.jsxs("div",{className:"max-w-[300px] mx-auto relative",children:[e.jsx("input",{type:"email",placeholder:"Enter your email address",className:"w-full pl-4 pr-12 py-3 rounded-3xl border-2 border-[#E6E8EC] font-['Poppins'] text-sm focus:outline-none focus:border-blue-500"}),e.jsx("button",{className:"absolute right-2 top-2 w-8 h-8 bg-[#3B71FE] text-white rounded-2xl flex items-center justify-center hover:bg-blue-700 transition-colors",children:e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",children:e.jsx("path",{d:"M1 7h12M7 1l6 6-6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})})})]})},x4="modulepreload",h4=function(t){return"/"+t},hf={},ws=function(s,r,a){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=h4(c),c in hf)return;hf[c]=!0;const m=c.endsWith(".css"),d=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":x4,m||(x.as="script"),x.crossOrigin="",x.href=c,o&&x.setAttribute("nonce",o),document.head.appendChild(x),m)return new Promise((p,j)=>{x.addEventListener("load",p),x.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${c}`)))})}))}function n(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return i.then(l=>{for(const o of l||[])o.status==="rejected"&&n(o.reason);return s().catch(n)})},oe=({children:t,variant:s="default",padding:r="md",hover:a=!1,onClick:i,className:n})=>{const l="bg-white rounded-xl transition-all duration-200",o={default:"shadow-sm",elevated:"shadow-lg",outlined:"border border-primary-200"},c={sm:"p-4",md:"p-6",lg:"p-8"},m=a?"hover:shadow-lg hover:-translate-y-1 cursor-pointer":"";return e.jsx("div",{className:Oy(l,o[s],c[r],m,n),onClick:i,children:t})},f4=()=>{const t=rt(),[s,r]=b.useState([]);b.useEffect(()=>{a()},[]);const a=async()=>{try{const n=await(await fetch(`${Ke.BASE_URL}/flights/popular-routes`)).json();n.success&&r(n.data.routes||[])}catch(i){console.error("Failed to load popular routes:",i)}};return e.jsxs("div",{className:"mb-12",children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-6",children:"Popular Routes"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.map((i,n)=>{var l,o,c,m,d,x,p;return e.jsx(oe,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{var u,y;const j=new Date().toISOString().split("T")[0],g=`/flights?from=${(u=i.from)==null?void 0:u.code}&to=${(y=i.to)==null?void 0:y.code}&departDate=${j}&passengers=1&class=economy&autoSearch=true`;console.log("Navigating to:",g),t(g)},children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold text-primary-900",children:[((l=i.from)==null?void 0:l.city)||"Unknown"," → ",((o=i.to)==null?void 0:o.city)||"Unknown"]}),e.jsxs("div",{className:"text-sm text-primary-600",children:[(c=i.from)==null?void 0:c.code," - ",(m=i.to)==null?void 0:m.code]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-primary-900",children:["$",(d=i.avgPrice)==null?void 0:d.toFixed(2)]}),e.jsx("div",{className:"text-xs text-primary-500",children:"avg price"})]})]})},`${(x=i.from)==null?void 0:x._id}-${(p=i.to)==null?void 0:p._id}`)})})]})},g4=()=>{const t=rt(),[s,r]=b.useState([]);b.useEffect(()=>{a()},[]);const a=async()=>{try{const l=await(await fetch(`${Ke.BASE_URL}/flights/deals`)).json();l.success&&r(l.data.deals||[])}catch(n){console.error("Failed to load flight deals:",n)}},i=n=>new Date(n).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"});return e.jsxs("div",{className:"mb-12",children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-6",children:"Today's Best Deals"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.map(n=>{var l,o,c,m,d,x,p,j,g,u,y,h,f,v;return e.jsxs(oe,{className:"cursor-pointer hover:shadow-lg transition-shadow overflow-hidden",onClick:()=>t(`/flights/${n._id}`),children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:((o=(l=n.images)==null?void 0:l[0])==null?void 0:o.url)||"https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=300&h=150&fit=crop&auto=format",alt:`${(c=n.airline)==null?void 0:c.name} Flight`,className:"w-full h-32 object-cover",onError:T=>{T.currentTarget.src="https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=300&h=150&fit=crop&auto=format"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),e.jsx("div",{className:"absolute bottom-2 left-2 right-2 text-white",children:e.jsxs("div",{className:"text-sm font-semibold",children:[(x=(d=(m=n.route)==null?void 0:m.departure)==null?void 0:d.airport)==null?void 0:x.city," → ",(g=(j=(p=n.route)==null?void 0:p.arrival)==null?void 0:j.airport)==null?void 0:g.city]})})]}),e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("div",{className:"text-sm text-primary-600 mb-2",children:(u=n.airline)==null?void 0:u.name}),e.jsxs("div",{className:"text-xl font-bold text-emerald mb-2",children:["$",(h=(y=n.pricing)==null?void 0:y.economy)==null?void 0:h.totalPrice]}),e.jsx("div",{className:"text-xs text-primary-500",children:i((v=(f=n.route)==null?void 0:f.departure)==null?void 0:v.scheduledTime)})]})]},n._id)})})]})};function y4(t,s){let r;return(...a)=>{clearTimeout(r),r=window.setTimeout(()=>t(...a),s)}}const b4=()=>{var ae,me;const t=rt(),[s]=Li(),[r,a]=b.useState({from:s.get("from")||"",to:s.get("to")||"",departDate:s.get("departDate")||new Date().toISOString().split("T")[0],returnDate:s.get("returnDate")||new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0],passengers:parseInt(s.get("passengers")||"1"),class:s.get("class")||"economy",tripType:s.get("tripType")||"roundtrip"}),[i,n]=b.useState([]),[l,o]=b.useState(!1),[c,m]=b.useState(!1),[d,x]=b.useState(null),[p,j]=b.useState({maxPrice:5e3,airlines:[],stops:"any",sort:"price"}),[g,u]=b.useState([]),[y,h]=b.useState([]),[f,v]=b.useState(!1),[T,P]=b.useState(!1),[R,O]=b.useState([]),[U,C]=b.useState([]),[q,X]=b.useState(!1);b.useEffect(()=>{$();const F=ue=>{ue.target.closest(".airport-dropdown")||(v(!1),P(!1))},ee=()=>{const ue=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${ue}px`)};return ee(),window.addEventListener("resize",ee),document.addEventListener("mousedown",F),()=>{window.removeEventListener("resize",ee),document.removeEventListener("mousedown",F)}},[]),b.useEffect(()=>{N()},[s]),b.useEffect(()=>()=>{document.body.style.overflow="auto"},[]);const N=()=>{const F=s.get("autoSearch")==="true",ee=s.get("from"),ue=s.get("to"),S=s.get("departDate");if(console.log("URL Parameters:",{fromParam:ee,toParam:ue,dateParam:S,autoSearch:F}),ee||ue||S){const Z=[{code:"JFK",city:"New York"},{code:"CDG",city:"Paris"},{code:"DXB",city:"Dubai"},{code:"NRT",city:"Tokyo"},{code:"LHR",city:"London"},{code:"LAX",city:"Los Angeles"}].reduce((Ae,Le)=>(Ae[Le.code]=Le.city,Ae),{}),K=Z[ee]||ee,se=Z[ue]||ue,be={...r,from:K||r.from,to:se||r.to,departDate:S||r.departDate,passengers:parseInt(s.get("passengers"))||r.passengers,class:s.get("class")||r.class};console.log("New form data:",be),a(be),F&&(console.log("Triggering auto search with params:",{from:ee,to:ue}),G(be))}},D=()=>[{code:"JFK",city:"New York"},{code:"CDG",city:"Paris"},{code:"DXB",city:"Dubai"},{code:"NRT",city:"Tokyo"},{code:"LHR",city:"London"},{code:"LAX",city:"Los Angeles"}].reduce((ee,ue)=>(ee[ue.city]=ue.code,ee),{}),G=async(F=r)=>{var ee,ue,S,ne,Z;console.log("performSearch called with:",F),o(!0),x(null);try{const{API_CONFIG:K,API_ENDPOINTS:se}=await ws(async()=>{const{API_CONFIG:$e,API_ENDPOINTS:A}=await Promise.resolve().then(()=>Bo);return{API_CONFIG:$e,API_ENDPOINTS:A}},void 0),be=D(),Se=be[F.from]||F.from,Ae=be[F.to]||F.to,Le={from:Se,to:Ae,departDate:F.departDate||void 0,returnDate:F.tripType==="roundtrip"?F.returnDate:void 0,passengers:F.passengers,class:F.class,maxPrice:p.maxPrice,airlines:p.airlines.join(","),stops:p.stops==="any"?void 0:p.stops,sort:p.sort};console.log("Search data:",Le);const Te=new URLSearchParams;Object.entries(Le).forEach(([$e,A])=>{A!==void 0&&A!==""&&A!==null&&Te.append($e,A.toString())}),console.log("Final search query:",Te.toString());const Fe=await fetch(`${K.BASE_URL}${se.FLIGHTS}?${Te}`);if(!Fe.ok)throw new Error(`HTTP ${Fe.status}: ${Fe.statusText}`);const Me=await Fe.json();if(!Me.success)throw new Error(((ee=Me.error)==null?void 0:ee.message)||"Search failed");const Be=((ue=Me.data)==null?void 0:ue.flights)||[];console.log("Received flights:",Be.length),n(Be),m(!0)}catch(K){console.error("Error searching flights:",K);let se="Unable to search flights. Please try again.";(S=K.message)!=null&&S.includes("HTTP 404")?se="No flights found for this route. Try different cities or dates.":(ne=K.message)!=null&&ne.includes("HTTP 500")?se="Server error. Please try again in a moment.":(Z=K.message)!=null&&Z.includes("Failed to fetch")?se="Connection error. Please check your internet and try again.":K.message&&(se=K.message),x(se),n([]),setTimeout(()=>x(null),8e3)}finally{o(!1)}},$=async()=>{var F,ee;try{o(!0);const{API_CONFIG:ue,API_ENDPOINTS:S}=await ws(async()=>{const{API_CONFIG:K,API_ENDPOINTS:se}=await Promise.resolve().then(()=>Bo);return{API_CONFIG:K,API_ENDPOINTS:se}},void 0),[ne,Z]=await Promise.all([fetch(`${ue.BASE_URL}${S.FLIGHTS_POPULAR_ROUTES}`).then(K=>K.json()).catch(()=>({data:{routes:[]}})),fetch(`${ue.BASE_URL}${S.FLIGHTS_DEALS}`).then(K=>K.json()).catch(()=>({data:{deals:[]}}))]);O(((F=ne.data)==null?void 0:F.routes)||[]),C(((ee=Z.data)==null?void 0:ee.deals)||[])}catch(ue){console.error("Error loading initial data:",ue),O([]),C([])}finally{o(!1)}},J=ht.useCallback(y4(async(F,ee)=>{var S;if(F.length<2){ee([]);return}const ue=[{_id:"1",code:"JFK",name:"John F. Kennedy International Airport",city:"New York",country:"USA"},{_id:"2",code:"CDG",name:"Charles de Gaulle Airport",city:"Paris",country:"France"},{_id:"3",code:"DXB",name:"Dubai International Airport",city:"Dubai",country:"UAE"},{_id:"4",code:"NRT",name:"Narita International Airport",city:"Tokyo",country:"Japan"},{_id:"5",code:"LHR",name:"London Heathrow Airport",city:"London",country:"UK"},{_id:"6",code:"LAX",name:"Los Angeles International Airport",city:"Los Angeles",country:"USA"}];try{const{API_CONFIG:ne,API_ENDPOINTS:Z}=await ws(async()=>{const{API_CONFIG:be,API_ENDPOINTS:Se}=await Promise.resolve().then(()=>Bo);return{API_CONFIG:be,API_ENDPOINTS:Se}},void 0),K=await fetch(`${ne.BASE_URL}${Z.AIRPORTS_SEARCH}?q=${encodeURIComponent(F)}`);if(!K.ok){const be=ue.filter(Se=>Se.code.toLowerCase().includes(F.toLowerCase())||Se.name.toLowerCase().includes(F.toLowerCase())||Se.city.toLowerCase().includes(F.toLowerCase()));ee(be);return}const se=await K.json();ee(((S=se.data)==null?void 0:S.airports)||[])}catch(ne){console.error("Error searching airports:",ne);const Z=ue.filter(K=>K.code.toLowerCase().includes(F.toLowerCase())||K.name.toLowerCase().includes(F.toLowerCase())||K.city.toLowerCase().includes(F.toLowerCase()));ee(Z)}},300),[]),E=async()=>{var ue,S;if(!((ue=r.from)!=null&&ue.trim())){x("Please select a departure city.");return}if(!((S=r.to)!=null&&S.trim())){x("Please select a destination city.");return}if(r.from.toLowerCase().trim()===r.to.toLowerCase().trim()){x("Departure and destination cities must be different.");return}if(!r.departDate){x("Please select a departure date.");return}const F=new Date;F.setHours(0,0,0,0);const ee=new Date(r.departDate);if(ee<F){x("Departure date cannot be in the past.");return}if(r.tripType==="roundtrip"){if(!r.returnDate){x("Please select a return date for round-trip flights.");return}const ne=new Date(r.returnDate);if(ne<=ee){x("Return date must be after departure date.");return}const Z=new Date(ee);if(Z.setFullYear(Z.getFullYear()+1),ne>Z){x("Return date cannot be more than 1 year from departure.");return}}if(r.passengers<1||r.passengers>9){x("Number of passengers must be between 1 and 9.");return}x(null),G()},_=F=>{t(`/flights/${F._id}`,{state:{searchParams:r,returnFlight:r.tripType==="roundtrip"}})},H=F=>{if(!F||isNaN(F))return"N/A";const ee=Math.floor(F/60),ue=F%60;return`${ee}h ${ue>0?` ${ue}m`:""}`},V=F=>!F||isNaN(F)?"$0":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(Math.round(F));return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsxs("section",{className:"relative bg-gradient-to-br from-blue-ocean to-emerald py-8 sm:py-12 lg:py-20 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-10",style:{backgroundImage:`url('${We.FALLBACK_IMAGES.FLIGHT_HERO}')`}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-ocean/90 to-emerald/90"}),e.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-[10px] border border-white/30 px-4 py-2 rounded-full text-white mb-4",children:[e.jsx("span",{className:"text-lg",children:"✈️"}),e.jsx("span",{className:"text-sm font-medium font-['DM_Sans']",children:"Find Your Perfect Flight"})]}),e.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-4 font-['DM_Sans'] leading-tight",children:"Where will your next adventure take you?"}),e.jsx("p",{className:"text-lg md:text-xl text-white/90 font-['Poppins'] max-w-2xl mx-auto",children:"Search millions of flights and discover amazing destinations with the best prices"})]}),e.jsxs(oe,{className:"max-w-6xl mx-auto shadow-2xl backdrop-blur-sm bg-white/95 border border-white/20",padding:"lg",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"flex bg-gray-100 rounded-xl p-1",children:[e.jsx("button",{onClick:()=>{a(F=>({...F,tripType:"roundtrip",returnDate:F.returnDate||new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0]})),x(null)},className:`px-6 py-3 rounded-lg text-sm font-semibold transition-all duration-300 font-['DM_Sans'] min-h-[44px] ${r.tripType==="roundtrip"?"bg-blue-ocean text-white shadow-md":"text-primary-600 hover:text-blue-ocean hover:bg-white"}`,children:"Round-trip"}),e.jsx("button",{onClick:()=>{a(F=>({...F,tripType:"oneway"})),x(null)},className:`px-6 py-3 rounded-lg text-sm font-semibold transition-all duration-300 font-['DM_Sans'] min-h-[44px] ${r.tripType==="oneway"?"bg-blue-ocean text-white shadow-md":"text-primary-600 hover:text-blue-ocean hover:bg-white"}`,children:"One-way"}),e.jsx("button",{onClick:()=>{x("Multi-city booking is coming soon! Please use round-trip or one-way for now.")},className:"px-6 py-3 rounded-lg text-sm font-semibold transition-all duration-300 font-['DM_Sans'] text-primary-400 cursor-not-allowed opacity-60 min-h-[44px]",disabled:!0,title:"Multi-city booking coming soon",children:"Multi-city"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"relative airport-dropdown",children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2 font-['DM_Sans']",children:"From"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:r.from,onChange:F=>{a(ee=>({...ee,from:F.target.value})),J(F.target.value,u),v(!0)},onFocus:F=>{if(v(!0),r.from.length>=2&&J(r.from,u),window.innerWidth<768){const ee=F.target;ee.style.fontSize="16px",setTimeout(()=>{ee.scrollIntoView({behavior:"smooth",block:"center"}),window.scrollTo({top:window.scrollY-100,behavior:"smooth"})},300)}},onKeyDown:F=>{F.key==="Escape"&&v(!1)},className:"w-full pl-12 pr-4 py-4 border border-primary-200 rounded-xl focus:ring-2 focus:ring-blue-ocean focus:border-transparent text-primary-800 font-['Poppins'] font-medium text-base transition-all duration-300 hover:border-blue-ocean/50",placeholder:"Departure city",autoComplete:"off",inputMode:"text",style:{fontSize:"16px"}}),e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-primary-400 text-lg",children:"🛫"})]}),f&&g.length>0&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-primary-200 rounded-lg shadow-xl max-h-48 sm:max-h-60 overflow-y-auto",children:g.map((F,ee)=>e.jsxs("div",{onMouseDown:ue=>{ue.preventDefault(),a(S=>({...S,from:F.city})),v(!1)},onTouchStart:ue=>{ue.preventDefault(),a(S=>({...S,from:F.city})),v(!1)},tabIndex:0,role:"option","aria-selected":!1,className:"w-full px-3 sm:px-4 py-3 sm:py-4 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none flex items-center justify-between cursor-pointer border-b border-gray-100 last:border-b-0 transition-colors duration-200 min-h-[52px] active:bg-blue-100 overflow-hidden touch-manipulation",children:[e.jsxs("div",{className:"min-w-0 flex-1 pr-2 overflow-hidden",children:[e.jsx("div",{className:"font-semibold text-primary-900 text-sm sm:text-base truncate leading-tight",children:F.name}),e.jsxs("div",{className:"text-xs sm:text-sm text-primary-600 truncate",children:[F.city,", ",F.country]})]}),e.jsx("div",{className:"text-xs sm:text-sm font-mono text-blue-ocean bg-blue-50 px-2 py-1 rounded flex-shrink-0",children:F.code})]},F._id))})]}),e.jsxs("div",{className:"relative airport-dropdown",children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2 font-['DM_Sans']",children:"To"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:r.to,onChange:F=>{a(ee=>({...ee,to:F.target.value})),J(F.target.value,h),P(!0)},onFocus:F=>{if(P(!0),r.to.length>=2&&J(r.to,h),window.innerWidth<768){const ee=F.target;ee.style.fontSize="16px",setTimeout(()=>{ee.scrollIntoView({behavior:"smooth",block:"center"}),window.scrollTo({top:window.scrollY-100,behavior:"smooth"})},300)}},onKeyDown:F=>{F.key==="Escape"&&P(!1)},className:"w-full pl-12 pr-4 py-4 border border-primary-200 rounded-xl focus:ring-2 focus:ring-blue-ocean focus:border-transparent text-primary-800 font-['Poppins'] font-medium text-base transition-all duration-300 hover:border-blue-ocean/50",placeholder:"Destination city",autoComplete:"off",inputMode:"text",style:{fontSize:"16px"}}),e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-primary-400 text-lg",children:"🛬"})]}),T&&y.length>0&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-primary-200 rounded-lg shadow-xl max-h-48 sm:max-h-60 overflow-y-auto",children:y.map((F,ee)=>e.jsxs("div",{onMouseDown:ue=>{ue.preventDefault(),a(S=>({...S,to:F.city})),P(!1)},onTouchStart:ue=>{ue.preventDefault(),a(S=>({...S,to:F.city})),P(!1)},tabIndex:0,role:"option","aria-selected":!1,className:"w-full px-3 sm:px-4 py-3 sm:py-4 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none flex items-center justify-between cursor-pointer border-b border-gray-100 last:border-b-0 transition-colors duration-200 min-h-[52px] active:bg-blue-100 overflow-hidden touch-manipulation",children:[e.jsxs("div",{className:"min-w-0 flex-1 pr-2 overflow-hidden",children:[e.jsx("div",{className:"font-semibold text-primary-900 text-sm sm:text-base truncate leading-tight",children:F.name}),e.jsxs("div",{className:"text-xs sm:text-sm text-primary-600 truncate",children:[F.city,", ",F.country]})]}),e.jsx("div",{className:"text-xs sm:text-sm font-mono text-blue-ocean bg-blue-50 px-2 py-1 rounded flex-shrink-0",children:F.code})]},F._id))})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2 font-['DM_Sans']",children:"Departure"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:r.departDate,onChange:F=>{const ee=F.target.value;a(ue=>({...ue,departDate:ee,returnDate:ue.tripType==="roundtrip"&&new Date(ue.returnDate)<=new Date(ee)?new Date(new Date(ee).getTime()+24*60*60*1e3).toISOString().split("T")[0]:ue.returnDate})),x(null)},min:new Date().toISOString().split("T")[0],max:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],className:"w-full pl-12 pr-4 py-4 border border-primary-200 rounded-xl focus:ring-2 focus:ring-blue-ocean focus:border-transparent text-primary-800 font-['Poppins'] font-medium text-base transition-all duration-300 hover:border-blue-ocean/50","aria-label":"Select departure date",required:!0}),e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-primary-400 text-lg",children:"📅"})]})]}),r.tripType==="roundtrip"&&e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2 font-['DM_Sans']",children:"Return"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:r.returnDate,onChange:F=>{a(ee=>({...ee,returnDate:F.target.value})),x(null)},min:r.departDate,max:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],className:"w-full pl-12 pr-4 py-4 border border-primary-200 rounded-xl focus:ring-2 focus:ring-blue-ocean focus:border-transparent text-primary-800 font-['Poppins'] font-medium text-base transition-all duration-300 hover:border-blue-ocean/50","aria-label":"Select return date",required:!0}),e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-primary-400 text-lg",children:"📅"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end mt-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2 font-['DM_Sans']",children:"Travelers"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:r.passengers,onChange:F=>{a(ee=>({...ee,passengers:parseInt(F.target.value)})),x(null)},className:"w-full pl-12 pr-8 py-4 border border-primary-200 rounded-xl focus:ring-2 focus:ring-blue-ocean focus:border-transparent text-primary-800 font-['Poppins'] font-medium appearance-none bg-white bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iOCIgdmlld0JveD0iMCAwIDEyIDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xIDFMNiA2TDExIDEiIHN0cm9rZT0iIzk0QTNBOCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+')] bg-no-repeat bg-right bg-[center_right_1rem] text-base transition-all duration-300 hover:border-blue-ocean/50","aria-label":"Select number of passengers",children:[e.jsx("option",{value:1,children:"1 Adult"}),e.jsx("option",{value:2,children:"2 Adults"}),e.jsx("option",{value:3,children:"3 Adults"}),e.jsx("option",{value:4,children:"4 Adults"}),e.jsx("option",{value:5,children:"5 Adults"}),e.jsx("option",{value:6,children:"6 Adults"}),e.jsx("option",{value:7,children:"7 Adults"}),e.jsx("option",{value:8,children:"8 Adults"}),e.jsx("option",{value:9,children:"9 Adults"})]}),e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-primary-400 text-lg",children:"👥"})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>{(r.from||r.to)&&(a(F=>({...F,from:F.to,to:F.from})),v(!1),P(!1),x(null))},disabled:!r.from&&!r.to,className:"p-3 bg-white border-2 border-primary-200 rounded-full hover:border-blue-ocean hover:bg-blue-50 transition-all duration-300 shadow-sm hover:rotate-180 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:rotate-0 min-h-[48px] min-w-[48px] touch-manipulation active:scale-95",type:"button",title:"Swap departure and destination","aria-label":"Swap departure and destination cities",children:e.jsx("span",{className:"text-lg text-primary-600 transition-transform duration-300",children:"⇄"})})}),e.jsx("button",{onClick:E,disabled:l||!((ae=r.from)!=null&&ae.trim())||!((me=r.to)!=null&&me.trim())||!r.departDate,className:"w-full bg-blue-ocean text-white border-none py-4 px-6 rounded-xl cursor-pointer flex items-center justify-center text-base transition-all duration-300 font-['DM_Sans'] font-bold gap-2 hover:bg-emerald hover:-translate-y-0.5 hover:shadow-[0_8px_25px_rgba(88,194,125,0.3)] disabled:opacity-50 disabled:cursor-not-allowed min-h-[56px] disabled:hover:transform-none disabled:hover:shadow-none active:scale-95",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Searching..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-lg",children:"🔍"}),e.jsx("span",{children:"Search Flights"})]})})]}),d&&e.jsxs("div",{className:"mt-4 p-3 sm:p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2 text-red-700",children:[e.jsx("span",{className:"text-base sm:text-lg flex-shrink-0",children:"⚠️"}),e.jsx("span",{className:"font-medium text-sm sm:text-base leading-tight",children:d})]})]})]})]}),c&&e.jsx("section",{className:"py-6 sm:py-8 lg:py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-8",children:[e.jsx("div",{className:"lg:w-1/4 order-2 lg:order-1",children:e.jsxs("div",{className:"lg:sticky lg:top-4",children:[e.jsx("div",{className:"lg:hidden mb-4",children:e.jsxs("button",{onClick:()=>{const F=!q;X(F),window.innerWidth<1024&&(document.body.style.overflow=F?"hidden":"auto",F?document.body.style.paddingBottom="env(safe-area-inset-bottom)":document.body.style.paddingBottom="0")},className:"w-full flex items-center justify-between p-4 bg-white border border-primary-200 rounded-xl font-semibold text-primary-900 min-h-[56px] hover:bg-blue-50 hover:border-blue-ocean transition-all duration-200 active:scale-[0.98] touch-manipulation",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"🗓️"}),e.jsx("span",{children:"Filters"})]}),e.jsx("span",{className:`transform transition-transform ${q?"rotate-180":""}`,children:"▼"})]})}),e.jsxs(oe,{className:`${q?"block fixed inset-0 z-50 lg:relative lg:inset-auto lg:z-auto":"hidden"} lg:block mobile-filters bg-white lg:bg-transparent overflow-y-auto lg:overflow-visible`,children:[e.jsxs("div",{className:"lg:hidden sticky top-0 bg-white z-10 flex justify-between items-center p-4 mb-4 border-b border-gray-200 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-bold text-primary-900 font-['DM_Sans']",children:"Filter Results"}),e.jsx("button",{onClick:()=>{X(!1),document.body.style.overflow="auto"},className:"p-3 hover:bg-gray-100 rounded-lg transition-colors duration-200 min-h-[48px] min-w-[48px] flex items-center justify-center","aria-label":"Close filters",children:e.jsx("span",{className:"text-2xl text-primary-600 leading-none",children:"×"})})]}),e.jsxs("div",{className:"lg:hidden p-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-semibold text-primary-900 mb-2 font-['DM_Sans']",children:["Max Price: ",e.jsx("span",{className:"text-blue-ocean",children:V(p.maxPrice)})]}),e.jsx("input",{type:"range",min:"0",max:"5000",step:"50",value:p.maxPrice,onChange:F=>j(ee=>({...ee,maxPrice:parseInt(F.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),e.jsxs("div",{className:"flex justify-between text-xs text-primary-500 mt-1",children:[e.jsx("span",{children:"$0"}),e.jsx("span",{children:"$5,000"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-3 font-['DM_Sans']",children:"Stops"}),e.jsx("div",{className:"space-y-3",children:[{value:"any",label:"Any stops",icon:"✈️"},{value:"0",label:"Non-stop",icon:"🚀"},{value:"1",label:"1 stop",icon:"🔄"},{value:"2+",label:"2+ stops",icon:"🔀"}].map(F=>e.jsxs("label",{className:"flex items-center p-2 rounded-lg hover:bg-blue-50 cursor-pointer transition-colors duration-200",children:[e.jsx("input",{type:"radio",name:"stops",value:F.value,checked:p.stops===F.value,onChange:ee=>j(ue=>({...ue,stops:ee.target.value})),className:"mr-3 text-blue-ocean focus:ring-blue-ocean"}),e.jsx("span",{className:"mr-2",children:F.icon}),e.jsx("span",{className:"text-sm font-medium text-primary-800",children:F.label})]},F.value))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2 font-['DM_Sans']",children:"Sort by"}),e.jsxs("select",{value:p.sort,onChange:F=>{j(ee=>({...ee,sort:F.target.value})),c&&i.length>0&&G()},className:"w-full px-4 py-3 border border-primary-200 rounded-xl focus:ring-2 focus:ring-blue-ocean focus:border-transparent text-primary-800 font-['Poppins'] font-medium appearance-none bg-white bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iOCIgdmlld0JveD0iMCAwIDEyIDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xIDFMNiA2TDExIDEiIHN0cm9rZT0iIzk0QTNBOCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+')] bg-no-repeat bg-right bg-[center_right_1rem]","aria-label":"Sort flights by",children:[e.jsx("option",{value:"price",children:"💰 Price (Low to High)"}),e.jsx("option",{value:"duration",children:"⏱️ Duration (Shortest)"}),e.jsx("option",{value:"departure",children:"🕰️ Departure Time"}),e.jsx("option",{value:"arrival",children:"🏁 Arrival Time"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{onClick:()=>{x(null),G()},variant:"outline",size:"sm",className:"flex-1",disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-3 h-3 border-2 border-blue-ocean border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"ml-2",children:"Applying..."})]}):"Apply Filters"}),e.jsx(M,{onClick:()=>{j({maxPrice:5e3,airlines:[],stops:"any",sort:"price"}),x(null),c&&G()},variant:"outline",size:"sm",className:"flex-1",disabled:l,children:"Reset"})]})]}),e.jsxs("div",{className:"hidden lg:block",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-primary-900 font-['DM_Sans']",children:"Filter Results"}),e.jsxs("span",{className:"text-sm text-primary-600 bg-blue-50 px-2 py-1 rounded",children:[i.length," flights"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-semibold text-primary-900 mb-2 font-['DM_Sans']",children:["Max Price: ",e.jsx("span",{className:"text-blue-ocean",children:V(p.maxPrice)})]}),e.jsx("input",{type:"range",min:"0",max:"5000",step:"50",value:p.maxPrice,onChange:F=>j(ee=>({...ee,maxPrice:parseInt(F.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),e.jsxs("div",{className:"flex justify-between text-xs text-primary-500 mt-1",children:[e.jsx("span",{children:"$0"}),e.jsx("span",{children:"$5,000"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-3 font-['DM_Sans']",children:"Stops"}),e.jsx("div",{className:"space-y-3",children:[{value:"any",label:"Any stops",icon:"✈️"},{value:"0",label:"Non-stop",icon:"🚀"},{value:"1",label:"1 stop",icon:"🔄"},{value:"2+",label:"2+ stops",icon:"🔀"}].map(F=>e.jsxs("label",{className:"flex items-center p-2 rounded-lg hover:bg-blue-50 cursor-pointer transition-colors duration-200",children:[e.jsx("input",{type:"radio",name:"stops",value:F.value,checked:p.stops===F.value,onChange:ee=>j(ue=>({...ue,stops:ee.target.value})),className:"mr-3 text-blue-ocean focus:ring-blue-ocean"}),e.jsx("span",{className:"mr-2",children:F.icon}),e.jsx("span",{className:"text-sm font-medium text-primary-800",children:F.label})]},F.value))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2 font-['DM_Sans']",children:"Sort by"}),e.jsxs("select",{value:p.sort,onChange:F=>{j(ee=>({...ee,sort:F.target.value})),c&&i.length>0&&G()},className:"w-full px-4 py-3 border border-primary-200 rounded-xl focus:ring-2 focus:ring-blue-ocean focus:border-transparent text-primary-800 font-['Poppins'] font-medium appearance-none bg-white bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iOCIgdmlld0JveD0iMCAwIDEyIDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xIDFMNiA2TDExIDEiIHN0cm9rZT0iIzk0QTNBOCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+')] bg-no-repeat bg-right bg-[center_right_1rem]","aria-label":"Sort flights by",children:[e.jsx("option",{value:"price",children:"💰 Price (Low to High)"}),e.jsx("option",{value:"duration",children:"⏱️ Duration (Shortest)"}),e.jsx("option",{value:"departure",children:"🕰️ Departure Time"}),e.jsx("option",{value:"arrival",children:"🏁 Arrival Time"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(M,{onClick:()=>{x(null),G()},variant:"outline",size:"sm",className:"flex-1 min-h-[48px]",disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-3 h-3 border-2 border-blue-ocean border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"ml-2",children:"Apply"})]}):"Apply Filters"}),e.jsx(M,{onClick:()=>{j({maxPrice:5e3,airlines:[],stops:"any",sort:"price"}),x(null),c&&G()},variant:"outline",size:"sm",className:"flex-1 min-h-[48px]",disabled:l,children:"Reset"})]})]})]})]})}),e.jsx("div",{className:"lg:w-3/4 order-1 lg:order-2",children:l?e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"p-3 sm:p-4 bg-blue-50 rounded-lg border border-blue-200 animate-pulse",children:[e.jsx("div",{className:"h-5 sm:h-6 bg-blue-200 rounded mb-2"}),e.jsx("div",{className:"h-3 sm:h-4 bg-blue-200 rounded w-3/4"})]}),[1,2,3].map(F=>e.jsx("div",{className:"p-4 sm:p-6 bg-white border border-gray-200 rounded-xl animate-pulse",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-16 h-12 sm:w-20 sm:h-16 bg-gray-200 rounded-lg flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-5 sm:h-6 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 sm:h-4 bg-gray-200 rounded w-2/3"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"h-6 sm:h-8 bg-gray-200 rounded w-16 mb-1"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-12"})]})]}),e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-6 sm:h-8 bg-gray-200 rounded w-12 mb-1"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-8"})]}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-16 mx-4"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-6 sm:h-8 bg-gray-200 rounded w-12 mb-1"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-8"})]})]})}),e.jsx("div",{className:"w-full sm:w-auto",children:e.jsx("div",{className:"h-12 bg-gray-200 rounded w-full sm:w-32"})})]})},F))]}):d?e.jsxs(oe,{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),e.jsx("h3",{className:"text-xl font-semibold text-primary-900 mb-2",children:"Error Loading Flights"}),e.jsx("p",{className:"text-primary-600 mb-4",children:d}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(M,{onClick:E,disabled:l,children:l?"Searching...":"Try Again"}),e.jsx(M,{variant:"outline",onClick:()=>{x(null),m(!1),n([])},disabled:l,children:"New Search"})]})]}):i.length===0?e.jsxs(oe,{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"✈️"}),e.jsx("h3",{className:"text-xl font-semibold text-primary-900 mb-2",children:"No flights found"}),e.jsx("p",{className:"text-primary-600 mb-4",children:"Try adjusting your search criteria or dates"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(M,{onClick:()=>{a(F=>({...F,departDate:new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0]})),x(null),E()},disabled:l,children:"Try Tomorrow"}),e.jsx(M,{variant:"outline",onClick:()=>{m(!1),n([]),x(null)},disabled:l,children:"New Search"})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"mb-4 p-3 bg-white border border-gray-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between text-sm font-['Poppins']",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"font-bold text-primary-900 font-['DM_Sans']",children:[r.from," → ",r.to]}),e.jsxs("span",{className:"text-primary-600",children:[new Date(r.departDate).toLocaleDateString("en-US",{month:"short",day:"numeric"}),r.tripType==="roundtrip"&&` - ${new Date(r.returnDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})}`]}),e.jsxs("span",{className:"text-primary-600",children:[r.passengers," Adult",r.passengers>1?"s":""," • ",r.tripType==="roundtrip"?"Round-trip":"One-way"]}),e.jsxs("span",{className:"font-semibold text-emerald-600",children:["Found ",i.length," flight",i.length!==1?"s":""]})]}),e.jsxs("button",{onClick:()=>{m(!1),n([])},className:"flex items-center gap-2 px-3 py-2 bg-blue-ocean text-white rounded-lg hover:bg-emerald transition-colors duration-300 font-semibold font-['DM_Sans'] text-sm",children:[e.jsx("span",{children:"✏️"}),e.jsx("span",{children:"Modify Search"})]})]})}),i.map((F,ee)=>{var ue,S,ne,Z,K,se,be,Se,Ae,Le,Te,Fe,Me,Be,$e,A,z,w,W,B,k,L,ce,xe,ie,le,te,ve,Oe,Ie;return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg hover:border-blue-ocean hover:shadow-md transition-all duration-300 cursor-pointer group",onClick:()=>_(F),children:[e.jsx("div",{className:"p-4 pt-5",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0 min-w-[200px]",children:[e.jsx("img",{src:((ue=F.airline)==null?void 0:ue.logo)||We.FALLBACK_IMAGES.AIRLINE,alt:((S=F.airline)==null?void 0:S.name)||"Airline",className:"w-20 h-20 sm:w-24 sm:h-24 object-contain rounded border bg-white",onError:Je=>{Je.currentTarget.src=We.FALLBACK_IMAGES.AIRLINE}}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-primary-900 font-['DM_Sans'] text-sm",children:((ne=F.airline)==null?void 0:ne.name)||"Airline"}),e.jsx("span",{className:"text-xs text-primary-600 font-['Poppins']",children:F.flightNumber}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx("span",{className:"text-xs text-amber-500",children:"★★★★☆"}),e.jsx("span",{className:"text-xs text-primary-600",children:"4.2"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-6 flex-1 mx-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-primary-900 font-['DM_Sans']",children:(K=(Z=F.route)==null?void 0:Z.departure)!=null&&K.scheduledTime?new Date(F.route.departure.scheduledTime).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):"--:--"}),e.jsx("div",{className:"text-sm font-bold text-primary-700 font-['DM_Sans']",children:((Se=(be=(se=F.route)==null?void 0:se.departure)==null?void 0:be.airport)==null?void 0:Se.code)||"N/A"}),e.jsx("div",{className:"text-xs text-primary-600 font-['Poppins']",children:((Te=(Le=(Ae=F.route)==null?void 0:Ae.departure)==null?void 0:Le.airport)==null?void 0:Te.city)||""})]}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:"text-xs text-primary-600 mb-1 font-['DM_Sans'] font-medium",children:H(((Fe=F.duration)==null?void 0:Fe.scheduled)||0)}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"border-t border-primary-300"}),e.jsx("div",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 bg-white px-1",children:e.jsx("span",{className:"text-sm text-primary-400",children:"✈️"})})]}),e.jsx("div",{className:"text-xs text-primary-500 mt-1 font-['Poppins']",children:"Nonstop"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-primary-900 font-['DM_Sans']",children:(Be=(Me=F.route)==null?void 0:Me.arrival)!=null&&Be.scheduledTime?new Date(F.route.arrival.scheduledTime).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):"--:--"}),e.jsx("div",{className:"text-sm font-bold text-primary-700 font-['DM_Sans']",children:((z=(A=($e=F.route)==null?void 0:$e.arrival)==null?void 0:A.airport)==null?void 0:z.code)||"N/A"}),e.jsx("div",{className:"text-xs text-primary-600 font-['Poppins']",children:((B=(W=(w=F.route)==null?void 0:w.arrival)==null?void 0:W.airport)==null?void 0:B.city)||""})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("div",{className:"text-xs text-primary-500 line-through font-['Poppins'] mb-1",children:"$699"}),e.jsxs("div",{className:"text-2xl font-bold text-emerald-600 font-['DM_Sans']",children:["$",((L=(k=F.pricing)==null?void 0:k[r.class])==null?void 0:L.totalPrice)||((xe=(ce=F.pricing)==null?void 0:ce.economy)==null?void 0:xe.totalPrice)||0]}),e.jsx("div",{className:"text-xs text-primary-600 font-['Poppins'] mb-2",children:"per person"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"bg-blue-ocean text-white px-4 py-2 rounded-lg font-semibold font-['DM_Sans'] text-sm hover:bg-emerald transition-colors duration-300 group-hover:bg-emerald",onClick:Je=>{Je.stopPropagation(),_(F)},children:"View Details"}),e.jsx("button",{className:"border border-gray-300 text-primary-700 px-3 py-2 rounded-lg hover:bg-gray-50 transition-colors duration-300",onClick:Je=>{Je.stopPropagation(),alert("Price alert set!")},title:"Get price alerts",children:"🔔"})]})]})]})}),e.jsx("div",{className:"px-4 pb-4 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between pt-3",children:[e.jsxs("div",{className:"flex items-center gap-4 text-xs text-primary-600 font-['Poppins']",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"🧳"}),e.jsxs("span",{children:[((te=(le=(ie=F.pricing)==null?void 0:ie[r.class])==null?void 0:le.baggage)==null?void 0:te.included)||1," carry-on, ",((Ie=(Oe=(ve=F.pricing)==null?void 0:ve[r.class])==null?void 0:Oe.baggage)==null?void 0:Ie.included)||1," checked bag"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"🔄"}),e.jsx("span",{children:"Free cancellation"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"🌱"}),e.jsx("span",{children:"1.2 tons CO₂"})]})]}),e.jsx("div",{className:"flex gap-2",children:["Free WiFi","Meal Included"].map((Je,ct)=>e.jsx("span",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded font-medium",children:Je},ct))})]})})]},F._id||ee)})]})})]})})}),!c&&e.jsx("section",{className:"py-8 sm:py-12 lg:py-16 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-primary-900 mb-4 font-['DM_Sans']",children:"Popular destinations from New York"}),e.jsx("p",{className:"text-lg text-primary-600 font-['Poppins']",children:"Discover amazing places with great flight deals"})]}),l?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 animate-pulse",children:[1,2,3,4].map(F=>e.jsx("div",{className:"bg-gray-200 rounded-2xl h-48 sm:h-64"},F))}):e.jsxs(e.Fragment,{children:[e.jsx(f4,{}),e.jsx(g4,{})]})]})}),!c&&e.jsx("section",{className:"py-8 sm:py-12 lg:py-16 bg-primary-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-primary-900 mb-4 font-['DM_Sans']",children:"Why book flights with TravelAI?"}),e.jsx("p",{className:"text-lg text-primary-600 font-['Poppins']",children:"We make flight booking simple, transparent, and rewarding"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"text-center p-6 bg-white rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-300",children:[e.jsx("div",{className:"text-4xl mb-4",children:"💰"}),e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-3 font-['DM_Sans']",children:"Best Price Guarantee"}),e.jsx("p",{className:"text-primary-600 font-['Poppins'] leading-relaxed",children:"Find a lower price within 24 hours? We'll match it and give you $50 credit"})]}),e.jsxs("div",{className:"text-center p-6 bg-white rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-300",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🤖"}),e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-3 font-['DM_Sans']",children:"AI-Powered Search"}),e.jsx("p",{className:"text-primary-600 font-['Poppins'] leading-relaxed",children:"Our smart algorithms find the best flight combinations you won't see elsewhere"})]}),e.jsxs("div",{className:"text-center p-6 bg-white rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-300",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🛡️"}),e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-3 font-['DM_Sans']",children:"Flexible Booking"}),e.jsx("p",{className:"text-primary-600 font-['Poppins'] leading-relaxed",children:"Free cancellation within 24 hours and easy date changes for peace of mind"})]}),e.jsxs("div",{className:"text-center p-6 bg-white rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-300",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🎯"}),e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-3 font-['DM_Sans']",children:"Complete Trip Planning"}),e.jsx("p",{className:"text-primary-600 font-['Poppins'] leading-relaxed",children:"Book flights, hotels, and activities together for seamless travel experiences"})]})]})]})})]})};class v4 extends b.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error("ErrorBoundary caught an error:",s,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50",children:e.jsxs(oe,{className:"text-center p-8 max-w-md w-full",children:[e.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-4 font-['DM_Sans']",children:"Something went wrong"}),e.jsx("p",{className:"text-primary-600 mb-6 font-['Poppins']",children:"We encountered an unexpected error. Please try refreshing the page."}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx(M,{onClick:()=>window.location.reload(),className:"flex-1 sm:flex-none",children:"Refresh Page"}),e.jsx(M,{variant:"outline",onClick:()=>window.history.back(),className:"flex-1 sm:flex-none",children:"Go Back"})]}),!1]})}):this.props.children}}const j4=()=>{var N,D,G,$,J,E,_,H,V,ae,me,F,ee,ue,S,ne,Z,K,se,be,Se,Ae,Le,Te,Fe,Me,Be,$e,A,z,w,W,B,k,L,ce,xe,ie,le;const{id:t}=tr(),s=rt(),r=Ms(),[a,i]=b.useState(null),[n,l]=b.useState(!0),[o,c]=b.useState("outbound"),[m,d]=b.useState("economy"),[x,p]=b.useState("flight"),[j,g]=b.useState({seatUpgrade:!1,insurance:!1}),[u,y]=b.useState(!1),[h,f]=b.useState(null),v=(N=r.state)==null?void 0:N.searchParams;b.useEffect(()=>{t&&T()},[t]);const T=async()=>{var te;try{const{API_CONFIG:ve,API_ENDPOINTS:Oe}=await ws(async()=>{const{API_CONFIG:ct,API_ENDPOINTS:Lt}=await Promise.resolve().then(()=>Bo);return{API_CONFIG:ct,API_ENDPOINTS:Lt}},void 0),Ie=await fetch(`${ve.BASE_URL}${Oe.FLIGHT_DETAILS(t)}`);if(!Ie.ok)throw new Error(`HTTP ${Ie.status}: ${Ie.statusText}`);const Je=await Ie.json();if(Je.success&&((te=Je.data)!=null&&te.flight))i(Je.data.flight),f(null);else throw new Error("Flight data not found")}catch(ve){console.error("Failed to load flight details:",ve),f("Unable to load flight details. Please try again."),i(null)}finally{l(!1)}},P=te=>{const ve=Math.floor(te/60),Oe=te%60;return`${ve}h ${Oe}m`},R=te=>new Date(te).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),O=te=>new Date(te).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});if(n)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center p-8 max-w-md",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-ocean border-t-transparent rounded-full animate-spin mx-auto mb-6"}),e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-3 font-['DM_Sans']",children:"Loading Flight Details"}),e.jsx("p",{className:"text-base text-primary-600 font-['Poppins'] leading-relaxed",children:"Please wait while we fetch your flight information..."})]})});if(!a)return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsxs(oe,{className:"text-center p-8 max-w-lg w-full",children:[e.jsx("div",{className:"text-8xl mb-6",children:"✈️"}),e.jsx("h2",{className:"text-3xl font-bold text-primary-900 mb-4 font-['DM_Sans']",children:"Flight Not Found"}),e.jsx("p",{className:"text-lg text-primary-600 mb-8 font-['Poppins'] leading-relaxed",children:"The flight you're looking for doesn't exist or has been removed."}),h&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-700 font-medium font-['Poppins']",children:h})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(M,{onClick:()=>s("/flights"),className:"flex-1 sm:flex-none px-6 py-3",children:"Search Flights"}),e.jsx(M,{variant:"outline",onClick:()=>s(-1),className:"flex-1 sm:flex-none px-6 py-3",children:"Go Back"})]})]})});const U=()=>{const te=a==null?void 0:a.pricing[m];let ve=(te==null?void 0:te.totalPrice)||0;return x==="package"&&(ve+=We.ADDON_PRICES.HOTEL_PACKAGE),j.seatUpgrade&&(ve+=We.ADDON_PRICES.SEAT_UPGRADE),j.insurance&&(ve+=We.ADDON_PRICES.TRAVEL_INSURANCE),ve},C=(a==null?void 0:a.pricing[m])||(a==null?void 0:a.pricing.economy),q=U(),X=async()=>{y(!0),f(null);try{await new Promise(te=>setTimeout(te,2e3)),s("/booking",{state:{type:"flight",flight:a,selectedClass:m,bookingOption:x,addOns:j,total:U(),searchParams:v}})}catch{f("Booking failed. Please try again.")}finally{y(!1)}};return e.jsx(v4,{children:e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"bg-gray-50 py-6 border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary-600 mb-4",children:[e.jsx("button",{onClick:()=>s("/flights"),className:"flex items-center gap-1 hover:text-blue-ocean transition-colors font-['Poppins']",children:"← Back to Results"}),e.jsx("span",{children:"•"}),e.jsx("span",{className:"font-['Poppins']",children:"Flight Details"})]}),e.jsxs("div",{className:"flight-title",children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-primary-900 mb-2 font-['DM_Sans']",children:[a.route.departure.airport.city," → ",a.route.arrival.airport.city]}),e.jsxs("p",{className:"text-primary-600 font-['Poppins']",children:[a.airline.name," • ",a.flightNumber," • ",O(a.route.departure.scheduledTime)]})]})]})}),e.jsx("section",{className:"py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx(oe,{className:"p-4 sm:p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 sm:gap-0 mb-6 sm:mb-8",children:[e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-primary-900 mb-1 font-['DM_Sans']",children:R(a.route.departure.scheduledTime)}),e.jsx("div",{className:"text-base sm:text-lg font-bold text-primary-700 mb-1 font-['DM_Sans']",children:a.route.departure.airport.code}),e.jsx("div",{className:"text-xs sm:text-sm text-primary-600 font-['Poppins'] leading-tight",children:a.route.departure.airport.name})]}),e.jsxs("div",{className:"flex-1 text-center mx-2 sm:mx-4 lg:mx-8",children:[e.jsx("div",{className:"text-sm sm:text-base lg:text-lg font-semibold text-primary-600 mb-2 sm:mb-3 font-['DM_Sans']",children:P(a.duration.scheduled)}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"border-t-2 border-primary-300"}),e.jsx("div",{className:"absolute -top-2 sm:-top-3 left-1/2 transform -translate-x-1/2 bg-white px-1 sm:px-2",children:e.jsx("span",{className:"text-lg sm:text-2xl text-primary-400",children:"✈️"})})]}),e.jsx("div",{className:"text-xs sm:text-sm text-primary-500 mt-2 sm:mt-3 font-['Poppins']",children:"Nonstop"})]}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-primary-900 mb-1 font-['DM_Sans']",children:R(a.route.arrival.scheduledTime)}),e.jsx("div",{className:"text-base sm:text-lg font-bold text-primary-700 mb-1 font-['DM_Sans']",children:a.route.arrival.airport.code}),e.jsx("div",{className:"text-xs sm:text-sm text-primary-600 font-['Poppins'] leading-tight",children:a.route.arrival.airport.name})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsx("button",{onClick:()=>c("outbound"),className:`flex-1 px-4 sm:px-6 py-4 font-semibold font-['DM_Sans'] transition-colors text-sm sm:text-base min-h-[48px] ${o==="outbound"?"text-blue-ocean border-b-2 border-blue-ocean":"text-primary-600 hover:text-blue-ocean"}`,children:"Outbound Flight"}),e.jsx("button",{onClick:()=>c("return"),className:`flex-1 px-4 sm:px-6 py-4 font-semibold font-['DM_Sans'] transition-colors text-sm sm:text-base min-h-[48px] ${o==="return"?"text-blue-ocean border-b-2 border-blue-ocean":"text-primary-600 hover:text-blue-ocean"}`,children:"Return Flight"})]})}),e.jsx(oe,{className:"p-6",children:o==="outbound"?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("img",{src:a.airline.logo||We.FALLBACK_IMAGES.AIRLINE,alt:a.airline.name,className:"w-16 h-16 rounded-lg object-contain border shadow-sm bg-white",onError:te=>{te.currentTarget.src=We.FALLBACK_IMAGES.AIRLINE}}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900 font-['DM_Sans']",children:a.airline.name}),e.jsxs("p",{className:"text-base text-primary-600 font-['Poppins']",children:[a.flightNumber," • ",a.aircraft.type," ",a.aircraft.model]}),e.jsxs("p",{className:"text-sm text-primary-500 font-['Poppins']",children:["Registration: ",((D=a.aircraft)==null?void 0:D.registration)||"N/A"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-6",children:[((G=a.services.wifi)==null?void 0:G.available)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary-700 font-['Poppins'] p-2 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-base flex-shrink-0",children:"📶"}),e.jsxs("span",{className:"truncate",children:["WiFi ",a.services.wifi.price?`$${a.services.wifi.price}`:"Free"]})]}),a.services.meals&&a.services.meals.length>0?e.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary-700 font-['Poppins'] p-2 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-base flex-shrink-0",children:"🍽️"}),e.jsx("span",{className:"truncate",children:"Meal Included"})]}):e.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary-500 font-['Poppins'] p-2 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-base flex-shrink-0",children:"🍽️"}),e.jsx("span",{className:"truncate",children:"No Meal"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary-700 font-['Poppins'] p-2 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-base flex-shrink-0",children:"🧳"}),e.jsxs("span",{className:"truncate",children:[((J=($=a.pricing[m])==null?void 0:$.baggage)==null?void 0:J.included)||0," Checked Bags"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-ocean font-['Poppins'] cursor-pointer hover:text-emerald p-2 bg-blue-50 rounded-lg transition-colors",children:[e.jsx("span",{className:"text-base flex-shrink-0",children:"💺"}),e.jsx("span",{className:"truncate",children:"Choose Your Seat"})]})]}),e.jsxs("div",{className:"space-y-2 mb-6",children:[e.jsxs("div",{className:`flex items-center gap-2 text-sm font-['Poppins'] ${(E=C==null?void 0:C.restrictions)!=null&&E.refundable?"text-green-600":"text-red-600"}`,children:[e.jsx("span",{children:(_=C==null?void 0:C.restrictions)!=null&&_.refundable?"✅":"❌"}),e.jsx("span",{children:(H=C==null?void 0:C.restrictions)!=null&&H.refundable?"Refundable":"Non-refundable"})]}),e.jsxs("div",{className:`flex items-center gap-2 text-sm font-['Poppins'] ${(V=C==null?void 0:C.restrictions)!=null&&V.changeable?"text-green-600":"text-red-600"}`,children:[e.jsx("span",{children:(ae=C==null?void 0:C.restrictions)!=null&&ae.changeable?"✅":"❌"}),e.jsx("span",{children:(me=C==null?void 0:C.restrictions)!=null&&me.changeable?`Changes allowed ${(F=C==null?void 0:C.restrictions)!=null&&F.changeFee?`($${C.restrictions.changeFee} fee)`:"(Free)"}`:"No changes allowed"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-primary-900 mb-4 font-['DM_Sans']",children:"Baggage & Fees"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm text-primary-700 font-['Poppins']",children:"Carry-on"}),e.jsx("span",{className:"text-sm font-semibold text-green-600 font-['DM_Sans']",children:(ue=(ee=a.services.baggage)==null?void 0:ee.carryOn)!=null&&ue.included?"Included":"Not Included"})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm text-primary-700 font-['Poppins']",children:"Checked bag"}),e.jsxs("span",{className:"text-sm font-semibold text-green-600 font-['DM_Sans']",children:[((ne=(S=a.pricing[m])==null?void 0:S.baggage)==null?void 0:ne.included)||0," included"]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm text-primary-700 font-['Poppins']",children:"Extra bag"}),e.jsx("span",{className:"text-sm font-semibold text-primary-900 font-['DM_Sans']",children:"$75"})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm text-primary-700 font-['Poppins']",children:"Overweight (51-70lbs)"}),e.jsx("span",{className:"text-sm font-semibold text-primary-900 font-['DM_Sans']",children:"$100"})]})]})]})]}):e.jsxs("div",{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 sm:gap-0",children:[e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-primary-900 mb-1 font-['DM_Sans']",children:(()=>{const te=new Date(a.route.departure.scheduledTime);return te.setDate(te.getDate()+7),te.setHours(15,15),te.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})})()}),e.jsx("div",{className:"text-base sm:text-lg font-bold text-primary-700 mb-1 font-['DM_Sans']",children:a.route.arrival.airport.code}),e.jsx("div",{className:"text-xs sm:text-sm text-primary-600 font-['Poppins'] leading-tight",children:a.route.arrival.airport.name})]}),e.jsxs("div",{className:"flex-1 text-center mx-2 sm:mx-4 lg:mx-8",children:[e.jsxs("div",{className:"text-sm sm:text-base lg:text-lg font-semibold text-primary-600 mb-2 sm:mb-3 font-['DM_Sans']",children:[P(a.duration.scheduled+45)," "]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"border-t-2 border-primary-300"}),e.jsx("div",{className:"absolute -top-2 sm:-top-3 left-1/2 transform -translate-x-1/2 bg-white px-1 sm:px-2",children:e.jsx("span",{className:"text-lg sm:text-2xl text-primary-400",children:"✈️"})})]}),e.jsx("div",{className:"text-xs sm:text-sm text-primary-500 mt-2 sm:mt-3 font-['Poppins']",children:"Nonstop"})]}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-primary-900 mb-1 font-['DM_Sans']",children:(()=>{const te=new Date(a.route.departure.scheduledTime);return te.setDate(te.getDate()+7),te.setHours(19,0),te.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})})()}),e.jsx("div",{className:"text-base sm:text-lg font-bold text-primary-700 mb-1 font-['DM_Sans']",children:a.route.departure.airport.code}),e.jsx("div",{className:"text-xs sm:text-sm text-primary-600 font-['Poppins'] leading-tight",children:a.route.departure.airport.name})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("img",{src:a.airline.logo||"https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=50&h=50&fit=crop",alt:a.airline.name,className:"w-12 h-12 rounded-lg object-contain border shadow-sm",onError:te=>{te.currentTarget.src="https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=50&h=50&fit=crop"}}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-primary-900 font-['DM_Sans']",children:a.airline.name}),e.jsxs("p",{className:"text-primary-600 font-['Poppins']",children:[a.flightNumber.replace(/\d+$/,te=>String(parseInt(te)+1))," • ",a.aircraft.type," ",a.aircraft.model]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-6",children:[((Z=a.services.wifi)==null?void 0:Z.available)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary-700 font-['Poppins'] p-2 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-base flex-shrink-0",children:"📶"}),e.jsxs("span",{className:"truncate",children:["WiFi ",a.services.wifi.price?`$${a.services.wifi.price}`:"Free"]})]}),a.services.meals&&a.services.meals.length>0?e.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary-700 font-['Poppins'] p-2 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-base flex-shrink-0",children:"🍽️"}),e.jsx("span",{className:"truncate",children:"Meal Included"})]}):e.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary-500 font-['Poppins'] p-2 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-base flex-shrink-0",children:"🍽️"}),e.jsx("span",{className:"truncate",children:"No Meal"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary-700 font-['Poppins'] p-2 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-base flex-shrink-0",children:"🧳"}),e.jsxs("span",{className:"truncate",children:[((se=(K=a.pricing[m])==null?void 0:K.baggage)==null?void 0:se.included)||0," Checked Bags"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-ocean font-['Poppins'] cursor-pointer hover:text-emerald p-2 bg-blue-50 rounded-lg transition-colors",children:[e.jsx("span",{className:"text-base flex-shrink-0",children:"💺"}),e.jsx("span",{className:"truncate",children:"Choose Return Seat"})]})]}),e.jsxs("div",{className:"space-y-2 mb-6",children:[e.jsxs("div",{className:`flex items-center gap-2 text-sm font-['Poppins'] ${(Se=(be=a.pricing[m])==null?void 0:be.restrictions)!=null&&Se.refundable?"text-green-600":"text-red-600"}`,children:[e.jsx("span",{children:(Le=(Ae=a.pricing[m])==null?void 0:Ae.restrictions)!=null&&Le.refundable?"✅":"❌"}),e.jsx("span",{children:(Fe=(Te=a.pricing[m])==null?void 0:Te.restrictions)!=null&&Fe.refundable?"Refundable":"Non-refundable"})]}),e.jsxs("div",{className:`flex items-center gap-2 text-sm font-['Poppins'] ${(Be=(Me=a.pricing[m])==null?void 0:Me.restrictions)!=null&&Be.changeable?"text-green-600":"text-red-600"}`,children:[e.jsx("span",{children:(A=($e=a.pricing[m])==null?void 0:$e.restrictions)!=null&&A.changeable?"✅":"❌"}),e.jsx("span",{children:(w=(z=a.pricing[m])==null?void 0:z.restrictions)!=null&&w.changeable?`Changes allowed ${(B=(W=a.pricing[m])==null?void 0:W.restrictions)!=null&&B.changeFee?`($${(L=(k=a.pricing[m])==null?void 0:k.restrictions)==null?void 0:L.changeFee} fee)`:"(Free)"}`:"No changes allowed"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-primary-900 mb-4 font-['DM_Sans']",children:"Baggage & Fees"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm text-primary-700 font-['Poppins']",children:"Carry-on"}),e.jsx("span",{className:"text-sm font-semibold text-green-600 font-['DM_Sans']",children:(xe=(ce=a.services.baggage)==null?void 0:ce.carryOn)!=null&&xe.included?"Included":"Not Included"})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm text-primary-700 font-['Poppins']",children:"Checked bag"}),e.jsxs("span",{className:"text-sm font-semibold text-green-600 font-['DM_Sans']",children:[((le=(ie=a.pricing[m])==null?void 0:ie.baggage)==null?void 0:le.included)||0," included"]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm text-primary-700 font-['Poppins']",children:"Extra bag"}),e.jsx("span",{className:"text-sm font-semibold text-primary-900 font-['DM_Sans']",children:"$75"})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm text-primary-700 font-['Poppins']",children:"Overweight (51-70lbs)"}),e.jsx("span",{className:"text-sm font-semibold text-primary-900 font-['DM_Sans']",children:"$100"})]})]})]})]})})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"lg:sticky lg:top-24",children:e.jsxs(oe,{className:"p-4 sm:p-6 shadow-lg border-2 border-gray-100 mb-20 lg:mb-0",children:[e.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold text-primary-900 font-['DM_Sans']",children:[a.route.departure.airport.code," → ",a.route.arrival.airport.code]}),e.jsxs("div",{className:"text-sm text-primary-600 font-['Poppins']",children:[P(a.duration.scheduled)," • ",a.airline.name]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xl font-bold text-emerald-600 font-['DM_Sans']",children:["$",q]}),e.jsx("div",{className:"text-sm text-primary-500 font-['Poppins']",children:"per person"})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-lg font-bold text-primary-900 mb-3 font-['DM_Sans']",children:"Select Class"}),e.jsxs("select",{value:m,onChange:te=>d(te.target.value),className:"w-full p-3 border border-primary-200 rounded-xl focus:ring-2 focus:ring-blue-ocean focus:border-transparent text-primary-800 font-['Poppins'] font-medium appearance-none bg-white bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iOCIgdmlld0JveD0iMCAwIDEyIDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xIDFMNiA2TDExIDEiIHN0cm9rZT0iIzk0QTNBOCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+')] bg-no-repeat bg-right bg-[center_right_1rem]",children:[e.jsxs("option",{value:"economy",children:["Economy - $",a.pricing.economy.totalPrice]}),a.pricing.premiumEconomy&&e.jsxs("option",{value:"premiumEconomy",children:["Premium Economy - $",a.pricing.premiumEconomy.totalPrice]}),a.pricing.business&&e.jsxs("option",{value:"business",children:["Business - $",a.pricing.business.totalPrice]}),a.pricing.first&&e.jsxs("option",{value:"first",children:["First Class - $",a.pricing.first.totalPrice]})]})]}),e.jsxs("div",{className:"text-center mb-6 p-4 bg-gradient-to-r from-blue-50 to-emerald-50 rounded-lg",children:[(C==null?void 0:C.basePrice)&&C.basePrice>C.totalPrice&&e.jsxs("div",{className:"text-sm text-primary-500 line-through font-['Poppins'] mb-1",children:["$",C.basePrice]}),e.jsxs("div",{className:"text-3xl font-bold text-emerald-600 font-['DM_Sans']",children:["$",(C==null?void 0:C.totalPrice)||0]}),(C==null?void 0:C.basePrice)&&C.basePrice>C.totalPrice&&e.jsxs("div",{className:"text-sm text-emerald-600 font-semibold font-['Poppins']",children:["Save $",C.basePrice-C.totalPrice]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"bookingOption",checked:x==="flight",onChange:()=>p("flight"),className:"text-blue-ocean focus:ring-blue-ocean"}),e.jsx("span",{className:"font-medium text-primary-900 font-['DM_Sans']",children:"Flight Only"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"bookingOption",checked:x==="package",onChange:()=>p("package"),className:"text-blue-ocean focus:ring-blue-ocean"}),e.jsx("span",{className:"font-medium text-primary-900 font-['DM_Sans']",children:"+ Hotel"}),e.jsx("span",{className:"text-xs bg-amber-premium text-white px-2 py-1 rounded font-bold",children:"Save $127"})]})]})}),e.jsx("button",{onClick:X,disabled:u,className:"w-full bg-blue-ocean text-white py-4 px-6 rounded-xl font-bold text-base sm:text-lg font-['DM_Sans'] hover:bg-emerald transition-all duration-300 mb-6 min-h-[56px] disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation active:scale-95",children:u?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Processing..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["Book Flight - $",q]}),e.jsx("div",{className:"text-xs sm:text-sm font-normal opacity-90 font-['Poppins']",children:"Secure checkout in 2 minutes"})]})}),h&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx("span",{className:"text-sm flex-shrink-0",children:"⚠️"}),e.jsx("span",{className:"font-medium text-sm",children:h})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-lg font-bold text-primary-900 mb-4 font-['DM_Sans']",children:"Add to your trip"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:j.seatUpgrade,onChange:te=>g(ve=>({...ve,seatUpgrade:te.target.checked})),className:"mt-1 text-blue-ocean focus:ring-blue-ocean"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-bold text-primary-900 font-['DM_Sans']",children:["Premium seat (+$",We.ADDON_PRICES.SEAT_UPGRADE,")"]}),e.jsx("div",{className:"text-sm text-primary-600 font-['Poppins']",children:"Extra legroom & priority boarding"})]})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:j.insurance,onChange:te=>g(ve=>({...ve,insurance:te.target.checked})),className:"mt-1 text-blue-ocean focus:ring-blue-ocean"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-bold text-primary-900 font-['DM_Sans']",children:["Travel insurance (+$",We.ADDON_PRICES.TRAVEL_INSURANCE,")"]}),e.jsx("div",{className:"text-sm text-primary-600 font-['Poppins']",children:"Trip cancellation & medical coverage"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-xs text-primary-600 font-['Poppins']",children:[e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("span",{children:"🛡️"}),e.jsx("span",{children:"Secure booking"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("span",{children:"⭐"}),e.jsx("span",{children:"4.8/5 rating"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("span",{children:"📞"}),e.jsx("span",{children:"24/7 support"})]})]})]})})})]}),e.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-50 shadow-2xl",style:{paddingBottom:"max(16px, env(safe-area-inset-bottom))"},children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"font-bold text-primary-900 font-['DM_Sans'] text-base truncate",children:[a.route.departure.airport.code," → ",a.route.arrival.airport.code]}),e.jsxs("div",{className:"text-sm text-primary-600 font-['Poppins'] truncate",children:[O(a.route.departure.scheduledTime).split(",")[0]," • 1 Adult"]})]}),e.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xl font-bold text-emerald-600 font-['DM_Sans']",children:["$",q]}),e.jsx("div",{className:"text-xs text-primary-500 font-['Poppins']",children:"per person"})]}),e.jsx("button",{onClick:X,disabled:u,className:"bg-blue-ocean text-white px-6 py-3 rounded-xl font-bold font-['DM_Sans'] hover:bg-emerald transition-all duration-300 text-base min-h-[52px] min-w-[120px] touch-manipulation active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:u?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Booking..."})]}):"Book Now"})]})]})})]})})]})})},N4=()=>{const t=rt(),[s]=Li(),[r,a]=b.useState({location:s.get("location")||"Paris, France",checkIn:s.get("checkIn")||new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0],checkOut:s.get("checkOut")||new Date(Date.now()+10*24*60*60*1e3).toISOString().split("T")[0],guests:parseInt(s.get("guests")||"2",10),rooms:parseInt(s.get("rooms")||"1",10)}),[i,n]=b.useState([]),[l,o]=b.useState(!1),[c,m]=b.useState(!1),[d,x]=b.useState("grid"),[p,j]=b.useState("recommended"),[g,u]=b.useState({maxPrice:500,starRating:[],amenities:[]}),[y,h]=b.useState([]),[f,v]=b.useState([]),[T,P]=b.useState([]),[R,O]=b.useState(!1),[U,C]=b.useState(null);b.useEffect(()=>{let _=!0;return(async()=>{_&&(await q(),s.get("autoSearch")==="true"&&X())})(),()=>{_=!1}},[]);const q=async()=>{var _,H;try{const[V,ae]=await Promise.all([fetch(`${Ke.BASE_URL}/hotels/popular-destinations`).then(me=>me.json()),fetch(`${Ke.BASE_URL}/hotels/deals`).then(me=>me.json())]);console.log("📊 Destinations response:",V),console.log("🔥 Deals response:",ae),h(((_=V.data)==null?void 0:_.destinations)||[]),v(((H=ae.data)==null?void 0:H.deals)||[])}catch(V){console.error("Error loading initial data:",V)}},X=async()=>{var _,H,V;if(!((_=r.location)!=null&&_.trim())){C("Please enter a destination"),setTimeout(()=>C(null),5e3);return}if(!r.checkIn){C("Please select check-in date"),setTimeout(()=>C(null),5e3);return}if(!r.checkOut){C("Please select check-out date"),setTimeout(()=>C(null),5e3);return}if(new Date(r.checkIn)>=new Date(r.checkOut)){C("Check-out date must be after check-in date"),setTimeout(()=>C(null),5e3);return}o(!0);try{let ae=r.location.trim();ae.includes(",")&&(ae=ae.split(",")[0].trim());const me=new URLSearchParams({destination:ae,checkIn:r.checkIn,checkOut:r.checkOut,guests:r.guests.toString(),priceRange:g.maxPrice<100?"budget":g.maxPrice<300?"mid":"luxury"});g.starRating.length>0&&me.append("starRating",Math.min(...g.starRating).toString()),console.log("🔍 Searching hotels with params:",me.toString());const ee=await(await fetch(`${Ke.BASE_URL}/hotels?${me}`)).json();if(console.log("📊 Search response:",ee),ee.success){const ue=((H=ee.data)==null?void 0:H.hotels)||[];console.log("🏨 Found hotels:",ue.length),n(ue),m(!0),ue.length===0&&console.log("⚠️ No hotels found for:",ae)}else throw console.error("❌ Search failed:",ee.error),new Error(((V=ee.error)==null?void 0:V.message)||"Search failed")}catch(ae){console.error("Error searching hotels:",ae),C("Error searching hotels. Please try again."),setTimeout(()=>C(null),8e3)}finally{o(!1)}},N=_=>{t(`/hotels/${_._id}`,{state:{searchParams:r}})},D=b.useCallback(debounce(async _=>{var V;if(_.length<2){P([]);return}const H=[{_id:"1",name:"Paris",country:"France",type:"city"},{_id:"2",name:"New York",country:"USA",type:"city"},{_id:"3",name:"Dubai",country:"UAE",type:"city"},{_id:"4",name:"Tokyo",country:"Japan",type:"city"},{_id:"5",name:"London",country:"UK",type:"city"},{_id:"6",name:"Los Angeles",country:"USA",type:"city"},{_id:"7",name:"Rome",country:"Italy",type:"city"},{_id:"8",name:"Barcelona",country:"Spain",type:"city"}];try{const ae=await fetch(`${Ke.BASE_URL}/locations/search?q=${encodeURIComponent(_)}`);if(!ae.ok){const F=H.filter(ee=>ee.name.toLowerCase().includes(_.toLowerCase())||ee.country.toLowerCase().includes(_.toLowerCase()));P(F);return}const me=await ae.json();P(((V=me.data)==null?void 0:V.locations)||[])}catch{const me=H.filter(F=>F.name.toLowerCase().includes(_.toLowerCase())||F.country.toLowerCase().includes(_.toLowerCase()));P(me)}},300),[]),G=_=>{a(H=>({...H,location:_})),X()},$=_=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(_),J=_=>"★".repeat(Math.floor(_))+"☆".repeat(5-Math.floor(_)),E=ht.useMemo(()=>{let _=[...i];switch(p){case"price":return _.sort((H,V)=>{var ae,me,F,ee,ue,S;return(((ae=H.pricing)==null?void 0:ae.averageNightlyRate)||((F=(me=H.pricing)==null?void 0:me.priceRange)==null?void 0:F.min)||0)-(((ee=V.pricing)==null?void 0:ee.averageNightlyRate)||((S=(ue=V.pricing)==null?void 0:ue.priceRange)==null?void 0:S.min)||0)});case"rating":return _.sort((H,V)=>{var ae,me;return(((ae=V.rating)==null?void 0:ae.overall)||0)-(((me=H.rating)==null?void 0:me.overall)||0)});case"distance":return _.sort((H,V)=>{var ae,me;return(((ae=H.location)==null?void 0:ae.distanceFromCenter)||0)-(((me=V.location)==null?void 0:me.distanceFromCenter)||0)});default:return _}},[i,p]);return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"bg-white py-10 border-b border-primary-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black text-primary-900 mb-4 font-['DM_Sans'] tracking-tight leading-[0.9]",children:"Find your perfect stay"}),e.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-primary-600 font-['Poppins'] font-medium max-w-2xl mx-auto leading-relaxed",children:"From luxury resorts to cozy boutique hotels"})]}),e.jsxs(oe,{className:"max-w-4xl mx-auto",padding:"md",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 sm:gap-6 items-end",children:[e.jsxs("div",{className:"relative col-span-1 sm:col-span-2 xl:col-span-2",children:[e.jsx("label",{className:"block text-xs font-bold text-primary-700 mb-2 font-['DM_Sans'] uppercase tracking-wider",children:"Where are you going?"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:r.location,onChange:_=>{a(H=>({...H,location:_.target.value})),D(_.target.value),O(!0)},onFocus:()=>{O(!0),r.location.length>=2&&D(r.location)},className:"w-full min-w-[240px] pl-12 pr-4 py-3 border border-primary-200 rounded-xl focus:ring-2 focus:ring-blue-ocean focus:border-transparent text-sm font-['Poppins'] font-medium text-primary-800 placeholder:text-primary-400 transition-all duration-200 hover:border-primary-300",placeholder:"Destination"}),e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-primary-400 text-base",children:"📍"}),R&&T.length>0&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-primary-200 rounded-lg shadow-xl max-h-60 overflow-y-auto",children:T.map(_=>e.jsx("div",{onMouseDown:H=>{H.preventDefault(),a(V=>({...V,location:`${_.name}, ${_.country}`})),O(!1)},className:"w-full px-4 py-2 text-left hover:bg-primary-50 flex items-center justify-between cursor-pointer",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:_.name}),e.jsx("div",{className:"text-sm text-primary-500",children:_.country})]})},_._id))})]})]}),e.jsxs("div",{className:"min-w-[140px] sm:min-w-[180px]",children:[e.jsx("label",{className:"block text-xs font-bold text-primary-700 mb-2 font-['DM_Sans'] uppercase tracking-wider",children:"Check in"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:r.checkIn,onChange:_=>a(H=>({...H,checkIn:_.target.value})),className:"w-full pl-12 pr-4 py-3 border border-primary-200 rounded-xl focus:ring-2 focus:ring-blue-ocean focus:border-transparent text-sm font-['Poppins'] font-medium text-primary-800 transition-all duration-200 hover:border-primary-300"}),e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-primary-400 text-base z-10 pointer-events-none",children:"📅"})]})]}),e.jsxs("div",{className:"min-w-[140px] sm:min-w-[180px]",children:[e.jsx("label",{className:"block text-xs font-bold text-primary-700 mb-2 font-['DM_Sans'] uppercase tracking-wider",children:"Check out"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:r.checkOut,onChange:_=>a(H=>({...H,checkOut:_.target.value})),className:"w-full pl-12 pr-4 py-3 border border-primary-200 rounded-xl focus:ring-2 focus:ring-blue-ocean focus:border-transparent text-sm font-['Poppins'] font-medium text-primary-800 transition-all duration-200 hover:border-primary-300"}),e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-primary-400 text-base z-10 pointer-events-none",children:"📅"})]})]}),e.jsxs("div",{className:"min-w-[160px] sm:min-w-[200px]",children:[e.jsx("label",{className:"block text-xs font-bold text-primary-700 mb-2 font-['DM_Sans'] uppercase tracking-wider",children:"Travelers"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:`${r.guests} Adults, ${r.rooms} Room${r.rooms>1?"s":""}`,onChange:_=>{const H=_.target.value;H.includes("1 Adult")?a(V=>({...V,guests:1,rooms:1})):H.includes("2 Adults, 1 Room")?a(V=>({...V,guests:2,rooms:1})):H.includes("2 Adults, 2 Children")?a(V=>({...V,guests:4,rooms:1})):H.includes("4 Adults, 2 Rooms")&&a(V=>({...V,guests:4,rooms:2}))},className:"w-full pl-12 pr-4 py-3 border border-primary-200 rounded-xl focus:ring-2 focus:ring-blue-ocean focus:border-transparent appearance-none text-sm font-['Poppins'] font-medium text-primary-800 transition-all duration-200 hover:border-primary-300",children:[e.jsx("option",{children:"1 Adult, 1 Room"}),e.jsx("option",{children:"2 Adults, 1 Room"}),e.jsx("option",{children:"2 Adults, 2 Children"}),e.jsx("option",{children:"4 Adults, 2 Rooms"})]}),e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-primary-400 text-base",children:"👥"})]})]}),e.jsx("div",{className:"flex justify-center sm:justify-end col-span-1",children:e.jsx("button",{onClick:X,disabled:l,className:"bg-blue-ocean text-white py-3 px-6 rounded-xl font-bold font-['DM_Sans'] text-sm hover:bg-emerald transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed active:scale-95 flex items-center justify-center gap-2 min-h-[48px] w-full sm:w-auto whitespace-nowrap",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Searching..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-base",children:"🔍"}),e.jsx("span",{children:"Search Hotels"})]})})})]}),U&&e.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3 text-red-700",children:[e.jsx("span",{className:"text-lg flex-shrink-0",children:"⚠️"}),e.jsx("div",{children:e.jsx("p",{className:"font-medium text-sm",children:U})}),e.jsx("button",{onClick:()=>C(null),className:"ml-auto text-red-400 hover:text-red-600 text-lg leading-none",children:"×"})]})]})]})}),c&&e.jsx("section",{className:"py-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8 pb-6 border-b border-primary-200",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-black text-primary-900 mb-3 font-['DM_Sans'] tracking-tight leading-[0.9]",children:["Hotels in ",r.location]}),e.jsxs("p",{className:"text-base sm:text-lg text-primary-600 font-['Poppins'] font-medium mb-2 leading-relaxed",children:[new Date(r.checkIn).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",new Date(r.checkOut).toLocaleDateString("en-US",{month:"short",day:"numeric"})," • ",r.guests," Adults, ",r.rooms," Room",r.rooms>1?"s":""]}),e.jsxs("div",{className:"text-sm sm:text-base text-emerald font-bold font-['DM_Sans'] mt-2",children:["Found ",E.length," hotels"]})]}),e.jsxs("button",{onClick:()=>m(!1),className:"flex items-center gap-2 px-5 py-3 bg-white text-blue-ocean border-2 border-blue-ocean rounded-xl font-bold font-['DM_Sans'] text-sm hover:bg-blue-ocean hover:text-white transition-all duration-300 min-h-[44px]",children:[e.jsx("span",{className:"text-base",children:"✏️"}),e.jsx("span",{children:"Modify Search"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8 p-4 sm:p-6 bg-gradient-to-r from-blue-50 to-emerald-50 rounded-2xl border border-blue-100",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[e.jsxs("button",{onClick:()=>j("recommended"),className:`px-5 py-3 rounded-xl text-sm font-bold font-['DM_Sans'] transition-all duration-300 flex items-center gap-2 min-h-[44px] ${p==="recommended"?"bg-blue-ocean text-white shadow-md":"bg-white text-primary-600 hover:bg-blue-ocean hover:text-white border border-primary-200 hover:border-blue-ocean"}`,children:[e.jsx("span",{children:"⭐"}),e.jsx("span",{children:"Best Match"})]}),e.jsxs("button",{onClick:()=>j("price"),className:`px-5 py-3 rounded-xl text-sm font-bold font-['DM_Sans'] transition-all duration-300 flex items-center gap-2 min-h-[44px] ${p==="price"?"bg-blue-ocean text-white shadow-md":"bg-white text-primary-600 hover:bg-blue-ocean hover:text-white border border-primary-200 hover:border-blue-ocean"}`,children:[e.jsx("span",{children:"💰"}),e.jsx("span",{children:"Price"})]}),e.jsxs("button",{onClick:()=>j("rating"),className:`px-5 py-3 rounded-xl text-sm font-bold font-['DM_Sans'] transition-all duration-300 flex items-center gap-2 min-h-[44px] ${p==="rating"?"bg-blue-ocean text-white shadow-md":"bg-white text-primary-600 hover:bg-blue-ocean hover:text-white border border-primary-200 hover:border-blue-ocean"}`,children:[e.jsx("span",{children:"🏆"}),e.jsx("span",{children:"Rating"})]}),e.jsxs("button",{onClick:()=>j("distance"),className:`px-5 py-3 rounded-xl text-sm font-bold font-['DM_Sans'] transition-all duration-300 flex items-center gap-2 min-h-[44px] ${p==="distance"?"bg-blue-ocean text-white shadow-md":"bg-white text-primary-600 hover:bg-blue-ocean hover:text-white border border-primary-200 hover:border-blue-ocean"}`,children:[e.jsx("span",{children:"📍"}),e.jsx("span",{children:"Distance"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("button",{onClick:()=>x("list"),className:`p-3 rounded-xl border-2 transition-all duration-300 text-lg min-h-[44px] min-w-[44px] flex items-center justify-center ${d==="list"?"bg-blue-ocean text-white border-blue-ocean shadow-md":"bg-white text-primary-600 border-primary-200 hover:bg-blue-ocean hover:text-white hover:border-blue-ocean"}`,title:"List View",children:"📋"}),e.jsx("button",{onClick:()=>x("grid"),className:`p-3 rounded-xl border-2 transition-all duration-300 text-lg min-h-[44px] min-w-[44px] flex items-center justify-center ${d==="grid"?"bg-blue-ocean text-white border-blue-ocean shadow-md":"bg-white text-primary-600 border-primary-200 hover:bg-blue-ocean hover:text-white hover:border-blue-ocean"}`,title:"Grid View",children:"⊞"}),e.jsxs("button",{className:"bg-emerald text-white px-3 sm:px-5 py-2 sm:py-3 rounded-xl text-xs sm:text-sm font-bold font-['DM_Sans'] flex items-center gap-1 sm:gap-2 hover:bg-blue-ocean transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg min-h-[44px]",children:[e.jsx("span",{className:"text-base",children:"🗺️"}),e.jsx("span",{children:"Map"})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-8",children:[e.jsx("div",{className:"w-full lg:w-1/4 order-2 lg:order-1",children:e.jsxs(oe,{className:"lg:sticky lg:top-4",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-primary-900 mb-4 sm:mb-6 font-['DM_Sans'] leading-tight",children:"Filter Results"}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-bold text-primary-700 mb-3 font-['DM_Sans']",children:["Price per night: ",e.jsx("span",{className:"text-emerald",children:$(g.maxPrice)})]}),e.jsx("input",{type:"range",min:"50",max:"500",step:"25",value:g.maxPrice,onChange:_=>u(H=>({...H,maxPrice:parseInt(_.target.value)})),className:"w-full accent-blue-ocean"}),e.jsxs("div",{className:"flex justify-between text-xs text-primary-400 mt-1",children:[e.jsx("span",{children:"$50"}),e.jsx("span",{children:"$500+"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-bold text-primary-700 mb-3 font-['DM_Sans']",children:"Star Rating"}),e.jsx("div",{className:"space-y-2",children:[5,4,3].map(_=>e.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:g.starRating.includes(_),onChange:H=>{H.target.checked?u(V=>({...V,starRating:[...V.starRating,_]})):u(V=>({...V,starRating:V.starRating.filter(ae=>ae!==_)}))},className:"mr-2 accent-blue-ocean"}),e.jsxs("span",{className:"text-sm font-['Poppins'] font-medium",children:["⭐".repeat(_)," ",_===5?"Luxury":_===4?"Upscale":"Mid-range"]})]}),e.jsxs("span",{className:"text-xs text-primary-500 font-['Poppins'] font-medium bg-primary-100 px-2 py-1 rounded",children:["(",_===5?"47":_===4?"89":"156",")"]})]},_))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-bold text-primary-700 mb-3 font-['DM_Sans']",children:"Amenities"}),e.jsx("div",{className:"space-y-2",children:["WiFi","Breakfast","Pool","Parking"].map(_=>e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:g.amenities.includes(_),onChange:H=>{H.target.checked?u(V=>({...V,amenities:[...V.amenities,_]})):u(V=>({...V,amenities:V.amenities.filter(ae=>ae!==_)}))},className:"mr-2 accent-blue-ocean"}),e.jsxs("span",{className:"text-sm font-['Poppins'] font-medium",children:[_==="WiFi"?"🌐":_==="Breakfast"?"🍳":_==="Pool"?"🏊":"🚗"," ",_]})]},_))})]}),e.jsx("button",{onClick:X,className:"w-full bg-blue-ocean text-white py-3 px-4 rounded-xl font-bold font-['DM_Sans'] text-sm hover:bg-emerald transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg active:scale-95 min-h-[48px]",children:"Apply Filters"})]})}),e.jsx("div",{className:"flex-1 order-1 lg:order-2",children:l?e.jsx("div",{className:"flex justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-ocean border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-primary-600 font-['Poppins'] font-medium",children:"Finding perfect hotels..."})]})}):E.length===0?e.jsxs("div",{className:"bg-white rounded-2xl text-center py-16 px-8 border border-gray-200",children:[e.jsx("div",{className:"text-8xl mb-6",children:"🏨"}),e.jsx("h3",{className:"text-3xl font-bold text-primary-900 mb-4 font-['DM_Sans']",children:"No hotels found"}),e.jsx("p",{className:"text-lg text-primary-600 mb-8 font-['Poppins'] font-medium max-w-md mx-auto",children:"Try adjusting your search criteria or create sample data"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{onClick:()=>m(!1),className:"bg-blue-ocean text-white px-6 py-3 rounded-xl font-bold font-['DM_Sans'] hover:bg-emerald transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg",children:"Clear Search"}),e.jsx("button",{onClick:async()=>{try{await fetch(`${Ke.BASE_URL}/hotels/create-samples`,{method:"POST"}),X()}catch{C("Failed to create sample hotels. Please try again.")}},className:"bg-white text-blue-ocean px-6 py-3 rounded-xl font-bold font-['DM_Sans'] border-2 border-blue-ocean hover:bg-blue-ocean hover:text-white transition-all duration-300",children:"Create Sample Hotels"})]})]}):e.jsx("div",{className:d==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:E.map((_,H)=>{var V,ae,me,F,ee,ue,S,ne,Z,K,se,be,Se,Ae,Le,Te,Fe,Me,Be,$e,A,z,w,W,B,k,L,ce,xe;return e.jsxs("div",{className:`bg-white rounded-xl sm:rounded-2xl overflow-hidden cursor-pointer transition-all duration-300 shadow-[0_2px_8px_rgba(0,0,0,0.05)] sm:shadow-[0_4px_12px_rgba(0,0,0,0.05)] hover:-translate-y-1 hover:shadow-[0_8px_24px_rgba(0,0,0,0.1)] border border-gray-100 hover:border-blue-ocean ${d==="list"?"flex flex-row":"flex flex-col"}`,onClick:()=>N(_),children:[e.jsxs("div",{className:`relative overflow-hidden ${d==="list"?"w-48 sm:w-64 h-36 sm:h-48 flex-shrink-0":"w-full h-48 sm:h-56"}`,children:[e.jsx("img",{src:_.images&&_.images.length>0&&((V=_.images[0])!=null&&V.url)?_.images[0].url.startsWith("http")?_.images[0].url:`${Ke.BASE_URL.replace("/api","")}${_.images[0].url}`:"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=300&fit=crop",alt:_.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",onError:ie=>{ie.currentTarget.src="https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=300&fit=crop"}}),(_.featured||_.popular||_.luxury)&&e.jsx("div",{className:"absolute top-4 left-4 bg-blue-ocean text-white px-3 py-1.5 rounded-xl text-xs font-bold font-['DM_Sans'] shadow-md",children:_.featured?"Featured":_.popular?"Popular":"Luxury"}),e.jsxs("div",{className:"absolute top-4 right-4 bg-emerald text-white px-3 py-1.5 rounded-xl text-xs font-bold font-['DM_Sans'] shadow-md",children:["From ",((ae=_.pricing)==null?void 0:ae.currencySymbol)||"$",Math.round(((me=_.pricing)==null?void 0:me.averageNightlyRate)||((ee=(F=_.pricing)==null?void 0:F.priceRange)==null?void 0:ee.min)||0).toLocaleString(),"/night"]})]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col justify-between flex-1",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-primary-900 mb-1 font-['DM_Sans'] line-clamp-1 leading-tight",children:_.name}),_.chain&&e.jsx("span",{className:"text-xs text-primary-500 bg-primary-100 px-2 py-1 rounded font-['Poppins'] font-medium",children:_.chain})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-1 sm:gap-2 mb-3",children:[e.jsx("span",{className:"text-amber-premium text-base",children:J(_.starRating)}),((ue=_.rating)==null?void 0:ue.overall)>0&&e.jsx("span",{className:"bg-blue-ocean text-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded text-xs font-bold font-['DM_Sans']",children:_.rating.overall}),(((S=_.rating)==null?void 0:S.reviewCount)>0||((ne=_.rating)==null?void 0:ne.totalReviews)>0)&&e.jsxs("span",{className:"text-xs text-primary-500 font-['Poppins'] hidden sm:inline",children:["(",(((Z=_.rating)==null?void 0:Z.reviewCount)||((K=_.rating)==null?void 0:K.totalReviews)).toLocaleString()," reviews)"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary-600 mb-3",children:[e.jsx("span",{className:"text-base",children:"📍"}),e.jsx("span",{className:"font-['Poppins'] font-medium",children:((be=(se=_.location)==null?void 0:se.address)==null?void 0:be.area)||"City Center"})]}),(((Ae=(Se=_.amenities)==null?void 0:Se.general)==null?void 0:Ae.length)>0||((Te=(Le=_.amenities)==null?void 0:Le.business)==null?void 0:Te.length)>0||((Me=(Fe=_.amenities)==null?void 0:Fe.recreation)==null?void 0:Me.length)>0)&&e.jsxs("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mb-3 sm:mb-4",children:[($e=(Be=_.amenities)==null?void 0:Be.general)==null?void 0:$e.slice(0,3).map((ie,le)=>{const te=typeof ie=="string"?ie:typeof ie=="object"&&ie.name?ie.name:String(ie);return e.jsx("span",{className:"text-xs bg-blue-50 text-blue-700 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded font-['Poppins'] font-medium",children:te},le)}),(z=(A=_.amenities)==null?void 0:A.business)==null?void 0:z.slice(0,2).map((ie,le)=>{const te=typeof ie=="string"?ie:typeof ie=="object"&&ie.name?ie.name:String(ie);return e.jsx("span",{className:"text-xs bg-emerald-50 text-emerald-700 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded font-['Poppins'] font-medium",children:te},`business-${le}`)})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-2 sm:gap-0 pt-2 border-t border-gray-100",children:[e.jsxs("div",{children:[((W=(w=_.pricing)==null?void 0:w.priceRange)==null?void 0:W.max)>((k=(B=_.pricing)==null?void 0:B.priceRange)==null?void 0:k.min)&&e.jsx("div",{className:"text-sm text-primary-400 line-through font-['Poppins']",children:$(_.pricing.priceRange.max)}),e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-emerald font-['DM_Sans'] leading-none",children:$(((L=_.pricing)==null?void 0:L.averageNightlyRate)||((xe=(ce=_.pricing)==null?void 0:ce.priceRange)==null?void 0:xe.min)||150)}),e.jsx("div",{className:"text-xs text-primary-500 font-['Poppins'] mt-1",children:"per night"})]}),e.jsx("button",{className:"bg-blue-ocean text-white px-4 sm:px-6 py-2.5 sm:py-3 rounded-xl font-bold font-['DM_Sans'] text-xs sm:text-sm hover:bg-emerald transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg active:scale-95 min-h-[44px] min-w-[80px] w-full sm:w-auto",onClick:ie=>{ie.stopPropagation(),t(`/hotels/${_._id}/booking`)},children:"Book Now"})]})]})]},_._id)})})})]})]})}),!c&&e.jsx("section",{className:"py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black text-primary-900 mb-4 font-['DM_Sans'] tracking-tight",children:"Popular destinations worldwide"}),e.jsx("p",{className:"text-xl md:text-2xl text-primary-600 font-['Poppins'] font-medium max-w-3xl mx-auto",children:"Discover amazing places with great hotel deals"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:y.map((_,H)=>e.jsxs(oe,{hover:!0,className:"cursor-pointer overflow-hidden p-0",onClick:()=>G(_._id||_.name||"Unknown"),children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:_.image||"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=300&fit=crop",alt:_._id||_.name||"Destination",className:"w-full h-48 object-cover transition-transform duration-300 hover:scale-105",onError:V=>{V.currentTarget.src="https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=300&fit=crop"}}),e.jsxs("div",{className:"absolute top-4 right-4 bg-emerald text-white px-3 py-1.5 rounded-xl text-xs font-bold font-['DM_Sans'] shadow-md",children:["From $",Math.round(_.minPrice||_.avgPrice||0)||"N/A","/night"]})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-2 font-['DM_Sans']",children:_._id||"Amazing Destination"}),e.jsx("p",{className:"text-sm text-primary-600 mb-4 font-['Poppins'] font-medium",children:"Discover amazing hotels and experiences"}),e.jsxs("div",{className:"flex justify-between text-sm text-primary-500 font-['Poppins'] font-medium",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-base",children:"🏨"}),e.jsxs("span",{children:[_.count||0," hotels"]})]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-base",children:"⭐"}),e.jsxs("span",{children:[_.avgRating||(4+Math.random()*1).toFixed(1)," avg rating"]})]})]})]})]},H))})]})}),!c&&e.jsx("section",{className:"py-20 bg-primary-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black text-primary-900 mb-4 font-['DM_Sans'] tracking-tight",children:"🔥 Hot Hotel Deals"}),e.jsx("p",{className:"text-xl md:text-2xl text-primary-600 font-['Poppins'] font-medium max-w-3xl mx-auto",children:"Limited time offers on amazing hotels"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:f.map((_,H)=>{var V,ae,me,F,ee,ue,S,ne;return e.jsxs(oe,{hover:!0,className:"cursor-pointer overflow-hidden p-0",onClick:()=>N(_),children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:((ae=(V=_.images)==null?void 0:V[0])==null?void 0:ae.url)||"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=300&fit=crop",alt:_.name,className:"w-full h-48 object-cover transition-transform duration-300 hover:scale-105",onError:Z=>{Z.currentTarget.src="https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=300&fit=crop"}}),_.deal&&e.jsxs("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-2xl text-xs font-bold",children:[_.deal.discount,"% OFF"]}),e.jsx("div",{className:"absolute top-4 right-4 bg-emerald text-white px-3 py-1 rounded-2xl text-xs font-bold",children:J(_.starRating)})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-bold text-primary-900 mb-1",children:_.name}),e.jsxs("p",{className:"text-sm text-primary-600 mb-3",children:["📍 ",((F=(me=_.location)==null?void 0:me.address)==null?void 0:F.area)||((ee=_.location)==null?void 0:ee.cityName)]}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[_.deal&&e.jsxs("div",{className:"text-sm text-primary-400 line-through",children:["$",_.deal.originalPrice]}),e.jsxs("div",{className:"text-xl font-bold text-emerald",children:[((ue=_.pricing)==null?void 0:ue.currencySymbol)||"$",(((S=_.deal)==null?void 0:S.dealPrice)||((ne=_.pricing)==null?void 0:ne.averageNightlyRate)||0).toLocaleString()]}),e.jsx("div",{className:"text-xs text-primary-400",children:"per night"})]}),e.jsx(Button,{size:"sm",children:"Book Deal"})]})]})]},H)})})]})}),!c&&e.jsx("section",{className:"py-20 bg-primary-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black text-primary-900 mb-4 font-['DM_Sans'] tracking-tight",children:"Why book hotels with TravelAI?"}),e.jsx("p",{className:"text-xl md:text-2xl text-primary-600 font-['Poppins'] font-medium max-w-3xl mx-auto",children:"We make hotel booking simple, transparent, and rewarding"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:"💰",title:"Best Price Guarantee",description:"Find a lower price? We'll match it and give you 110% of the difference back"},{icon:"🤖",title:"AI-Powered Matching",description:"Our smart algorithms find hotels that perfectly match your preferences and budget"},{icon:"🛡️",title:"Flexible Cancellation",description:"Free cancellation on most bookings and easy modifications for peace of mind"},{icon:"🎯",title:"Complete Trip Planning",description:"Book hotels with flights and activities for seamless travel experiences"}].map((_,H)=>e.jsxs("div",{className:"bg-white rounded-2xl text-center p-8 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border border-gray-100 hover:border-blue-ocean",children:[e.jsx("div",{className:"text-6xl mb-6",children:_.icon}),e.jsx("h3",{className:"text-2xl font-bold text-primary-900 mb-4 font-['DM_Sans']",children:_.title}),e.jsx("p",{className:"text-base text-primary-600 leading-relaxed font-['Poppins'] font-medium",children:_.description})]},H))})]})})]})},Xe=({size:t="md",className:s=""})=>{const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return e.jsx("div",{className:`inline-flex items-center justify-center ${s}`,children:e.jsx("div",{className:`${r[t]} animate-spin rounded-full border-2 border-gray-300 border-t-blue-ocean`,role:"status","aria-label":"Loading",children:e.jsx("span",{className:"sr-only",children:"Loading..."})})})},w4=()=>{var u,y,h,f,v,T,P,R,O,U,C,q,X,N,D,G,$,J,E,_,H,V,ae,me,F,ee,ue,S,ne,Z,K,se,be,Se,Ae,Le,Te,Fe,Me,Be,$e,A,z;const{id:t}=tr(),s=rt(),[r,a]=b.useState(null),[i,n]=b.useState(!0),[l,o]=b.useState(!1),[c,m]=b.useState(null),[d,x]=b.useState({checkIn:"",checkOut:"",guests:2,rooms:1,selectedRoom:""});b.useEffect(()=>{let w=!0;return t&&w&&p(t),()=>{w=!1}},[t]);const p=async w=>{var W;try{const B=await fetch(`${Ke.BASE_URL}/hotels/${w}`);if(!B.ok)throw new Error(`HTTP ${B.status}: ${B.statusText}`);const k=await B.json();if(k.success)a(k.data.hotel);else throw new Error(((W=k.error)==null?void 0:W.message)||"Failed to load hotel")}catch(B){console.error("Failed to load hotel:",B),m(B instanceof Error?B.message:"Failed to load hotel details")}finally{n(!1)}},j=()=>{if(!r)return;const w=new URLSearchParams({hotelId:r._id,checkIn:d.checkIn,checkOut:d.checkOut,guests:d.guests.toString(),rooms:d.rooms.toString(),...d.selectedRoom&&{roomId:d.selectedRoom}});s(`/booking/hotel/${r._id}?${w}`)};if(i)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Xe,{size:"lg"})});if(c)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🏨"}),e.jsx("h1",{className:"text-2xl font-bold text-primary-900 mb-2 font-['DM_Sans']",children:"Unable to Load Hotel"}),e.jsx("p",{className:"text-primary-600 mb-6 font-['Poppins']",children:c}),e.jsx(M,{onClick:()=>s("/hotels"),className:"mr-3",children:"Back to Hotels"}),e.jsx(M,{variant:"outline",onClick:()=>window.location.reload(),children:"Try Again"})]})});if(!r)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-primary-900 mb-4 font-['DM_Sans']",children:"Hotel Not Found"}),e.jsx(M,{onClick:()=>s("/hotels"),children:"Back to Hotels"})]})});const g=r.images||[];return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"bg-primary-50 py-3 sm:py-4 border-b border-primary-100",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("button",{onClick:()=>s("/hotels"),className:"flex items-center gap-2 text-blue-ocean hover:text-emerald transition-colors font-medium font-['DM_Sans'] min-h-[44px] px-2 -mx-2 rounded-lg hover:bg-blue-50",children:[e.jsx("span",{children:"←"}),e.jsx("span",{children:"Back to Results"})]}),e.jsx("span",{className:"text-primary-400",children:"•"}),e.jsx("span",{className:"text-primary-600 font-['Poppins'] text-sm sm:text-base",children:"Hotel Details"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("section",{className:"py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-black text-primary-900 mb-3 font-['DM_Sans'] leading-[0.9] tracking-tight",children:r.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[r.verified&&e.jsxs("span",{className:"bg-emerald text-white px-3 py-1 rounded-full text-sm font-bold font-['DM_Sans'] flex items-center gap-1",children:[e.jsx("span",{children:"✓"}),e.jsx("span",{children:"Verified"})]}),r.chain&&e.jsx("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-bold font-['DM_Sans']",children:r.chain}),e.jsxs("span",{className:"text-primary-600 font-['Poppins'] font-medium",children:["📍 ",(y=(u=r.location)==null?void 0:u.address)==null?void 0:y.area,", ",(h=r.location)==null?void 0:h.cityName,", ",(f=r.location)==null?void 0:f.countryName]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-amber-premium text-lg",children:"⭐"}),e.jsx("span",{className:"font-bold text-primary-900 font-['DM_Sans']",children:((v=r.rating)==null?void 0:v.overall)||0}),e.jsxs("span",{className:"text-primary-600 font-['Poppins']",children:["(",(P=(T=r.rating)==null?void 0:T.reviewCount)==null?void 0:P.toLocaleString()," reviews)"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{className:"p-3 bg-white border border-primary-200 rounded-xl hover:bg-primary-50 transition-colors",title:"View on Map",children:e.jsx("span",{className:"text-lg",children:"📍"})}),e.jsx("button",{className:"p-3 bg-white border border-primary-200 rounded-xl hover:bg-primary-50 transition-colors",title:"Share",children:e.jsx("span",{className:"text-lg",children:"📤"})}),e.jsx("button",{className:"p-3 bg-white border border-primary-200 rounded-xl hover:bg-primary-50 transition-colors",title:"Save",children:e.jsx("span",{className:"text-lg",children:"❤️"})})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6 lg:space-y-8",children:[e.jsx("section",{className:"mb-8 lg:mb-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-1 sm:gap-2 h-[300px] sm:h-[400px] lg:h-[500px] rounded-xl lg:rounded-2xl overflow-hidden",children:[e.jsxs("div",{className:"col-span-2 row-span-2 relative group cursor-pointer",onClick:()=>o(!0),children:[e.jsx("img",{src:(R=g[0])!=null&&R.url?g[0].url.startsWith("http")?g[0].url:`${Ke.BASE_URL.replace("/api","")}${g[0].url}`:"https://images.unsplash.com/photo-1564501049412-61c2a3083791?w=832&h=832&fit=crop",alt:r.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onError:w=>{w.currentTarget.src="https://images.unsplash.com/photo-1564501049412-61c2a3083791?w=832&h=832&fit=crop"}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300"})]}),e.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>o(!0),children:[e.jsx("img",{src:((O=g[1])==null?void 0:O.url)||"https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?w=272&h=272&fit=crop",alt:"Hotel view",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300"})]}),e.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>o(!0),children:[e.jsx("img",{src:((U=g[2])==null?void 0:U.url)||"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=272&h=272&fit=crop",alt:"Hotel room",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300"})]}),e.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>o(!0),children:[e.jsx("img",{src:((C=g[3])==null?void 0:C.url)||"https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?w=272&h=272&fit=crop",alt:"Hotel amenity",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300"})]}),e.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>o(!0),children:[e.jsx("img",{src:((q=g[4])==null?void 0:q.url)||"https://images.unsplash.com/photo-1578683010236-d716f9a3f461?w=272&h=272&fit=crop",alt:"Hotel facility",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300"}),e.jsxs("button",{onClick:()=>o(!0),className:"absolute bottom-2 sm:bottom-4 right-2 sm:right-4 bg-white text-primary-900 px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl font-bold font-['DM_Sans'] text-xs sm:text-sm hover:bg-primary-50 transition-colors flex items-center gap-1 sm:gap-2 shadow-md",children:[e.jsx("span",{children:"🖼️"}),e.jsx("span",{children:"Show all photos"})]})]})]})})}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 mb-8",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-primary-900 mb-4 font-['DM_Sans'] leading-[1.1]",children:"Private room in house"}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("span",{className:"text-primary-600 font-['Poppins']",children:"Hosted by"}),e.jsx("img",{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=24&h=24&fit=crop&crop=face",alt:"Host",className:"w-6 h-6 rounded-full"}),e.jsx("span",{className:"font-medium text-primary-900 font-['DM_Sans']",children:"Zoe Towne"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"👥"}),e.jsx("span",{className:"font-medium text-primary-900 font-['Poppins']",children:"2 guests"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"🛏️"}),e.jsx("span",{className:"font-medium text-primary-900 font-['Poppins']",children:"1 bedroom"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"🚿"}),e.jsx("span",{className:"font-medium text-primary-900 font-['Poppins']",children:"1 private bath"})]})]}),e.jsxs("div",{className:"space-y-4 text-primary-700 leading-relaxed font-['Poppins']",children:[e.jsx("p",{children:r.description}),e.jsx("p",{children:"Enjoy breathtaking 180° views of Lake Wakatipu from your well appointed & privately accessed bedroom with modern en suite and floor-to-ceiling windows."}),e.jsx("p",{children:"Your private patio takes in the afternoon sun, letting you soak up unparalleled lake and mountain views by day and the stars & city lights by night."})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 mb-8",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-primary-900 mb-2 font-['DM_Sans'] leading-[1.1]",children:"🤖 AI-Generated Itineraries"}),e.jsx("p",{className:"text-primary-600 mb-6 font-['Poppins']",children:"Discover perfect day plans created by our AI for your stay"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-emerald-50 rounded-xl p-4 sm:p-6 border border-blue-100",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h4",{className:"text-base sm:text-lg font-bold text-primary-900 font-['DM_Sans'] leading-[1.2]",children:"Adventure Seeker"}),e.jsx("span",{className:"bg-blue-ocean text-white px-3 py-1 rounded-full text-sm font-bold font-['DM_Sans']",children:"3 Days"})]}),e.jsx("p",{className:"text-primary-600 mb-4 font-['Poppins']",children:"Bungee jumping, skydiving, jet boating"}),e.jsx("button",{className:"bg-blue-ocean text-white px-4 py-2 rounded-xl font-bold font-['DM_Sans'] text-sm hover:bg-emerald transition-colors",children:"View Itinerary"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-blue-50 rounded-xl p-4 sm:p-6 border border-emerald-100",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h4",{className:"text-base sm:text-lg font-bold text-primary-900 font-['DM_Sans'] leading-[1.2]",children:"Scenic Explorer"}),e.jsx("span",{className:"bg-emerald text-white px-3 py-1 rounded-full text-sm font-bold font-['DM_Sans']",children:"2 Days"})]}),e.jsx("p",{className:"text-primary-600 mb-4 font-['Poppins']",children:"Milford Sound, gondola rides, wine tours"}),e.jsx("button",{className:"bg-emerald text-white px-4 py-2 rounded-xl font-bold font-['DM_Sans'] text-sm hover:bg-blue-ocean transition-colors",children:"View Itinerary"})]})]})]}),e.jsxs(oe,{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-4",children:"Amenities"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:(N=(X=r.amenities)==null?void 0:X.general)==null?void 0:N.map((w,W)=>{let B,k="",L=!0;return typeof w=="string"?B=w:typeof w=="object"&&w.name?(B=w.name,k=w.fee?` (€${w.fee})`:"",L=w.available!==!1):B=String(w),e.jsxs("div",{className:`flex items-center gap-2 ${L?"":"opacity-50"}`,children:[e.jsx("span",{className:L?"text-emerald":"text-red-500",children:L?"✓":"✗"}),e.jsxs("span",{className:"text-primary-700",children:[B,k]}),!L&&e.jsx("span",{className:"text-xs text-red-500",children:"(Not Available)"})]},W)})})]}),((D=r.location)==null?void 0:D.nearbyAttractions)&&r.location.nearbyAttractions.length>0&&e.jsxs(oe,{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-4",children:"Nearby Attractions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.location.nearbyAttractions.map((w,W)=>{const B=typeof w=="string"?w:w.name,k=typeof w=="object"?w.distance:null,L=typeof w=="object"?w.type:null;return e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary-50 rounded-lg",children:[e.jsx("span",{className:"text-2xl",children:L==="museum"?"🏛️":L==="park"?"🌳":L==="shopping"?"🛍️":L==="restaurant"?"🍽️":"📍"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-primary-900",children:B}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary-600",children:[k&&e.jsxs("span",{children:["🚶 ",k,"km away"]}),L&&e.jsxs("span",{className:"capitalize",children:["• ",L]})]})]})]},W)})})]}),r.policies&&e.jsxs(oe,{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-4",children:"Hotel Policies"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-primary-900 mb-3",children:"Check-in & Check-out"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600",children:"Check-in:"}),e.jsx("span",{children:((G=r.policies.checkIn)==null?void 0:G.from)||(($=r.contact)==null?void 0:$.checkIn)||"15:00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600",children:"Check-out:"}),e.jsx("span",{children:((J=r.policies.checkOut)==null?void 0:J.to)||((E=r.contact)==null?void 0:E.checkOut)||"11:00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600",children:"Min Age:"}),e.jsxs("span",{children:[((_=r.policies.checkIn)==null?void 0:_.minAge)||18," years"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-primary-900 mb-3",children:"Guests & Pets"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600",children:"Children:"}),e.jsx("span",{children:(H=r.policies.children)!=null&&H.allowed?"Allowed":"Not Allowed"})]}),((V=r.policies.children)==null?void 0:V.allowed)&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600",children:"Free under:"}),e.jsxs("span",{children:[r.policies.children.freeAge," years"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600",children:"Pets:"}),e.jsx("span",{children:(ae=r.policies.pets)!=null&&ae.allowed?`Allowed (€${r.policies.pets.fee||0})`:"Not Allowed"})]})]})]})]}),r.policies.cancellation&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-primary-200",children:[e.jsx("h3",{className:"font-semibold text-primary-900 mb-2",children:"Cancellation Policy"}),e.jsx("p",{className:"text-sm text-primary-700",children:typeof r.policies.cancellation=="string"?r.policies.cancellation:r.policies.cancellation.description||"Free cancellation up to 24 hours"})]})]}),r.rooms&&r.rooms.length>0&&e.jsxs(oe,{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-4",children:"Available Rooms"}),e.jsx("div",{className:"space-y-4",children:r.rooms.map(w=>{var W,B,k,L,ce,xe;return e.jsxs("div",{className:"border border-primary-200 rounded-lg p-4 hover:border-blue-ocean transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-900",children:w.name}),e.jsxs("p",{className:"text-primary-600 text-sm mb-2 capitalize",children:[w.type," • Up to ",w.maxOccupancy," guests ",w.size&&`• ${w.size}m²`]}),w.amenities&&w.amenities.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[w.amenities.slice(0,4).map((ie,le)=>e.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs",children:ie},le)),w.amenities.length>4&&e.jsxs("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs",children:["+",w.amenities.length-4," more"]})]}),w.bedConfiguration&&e.jsxs("div",{className:"text-xs text-primary-500 mb-2",children:[w.bedConfiguration.kingBeds>0&&`${w.bedConfiguration.kingBeds} King bed `,w.bedConfiguration.queenBeds>0&&`${w.bedConfiguration.queenBeds} Queen bed `,w.bedConfiguration.doubleBeds>0&&`${w.bedConfiguration.doubleBeds} Double bed `,w.bedConfiguration.singleBeds>0&&`${w.bedConfiguration.singleBeds} Single bed`]}),w.images&&w.images.length>0&&e.jsx("img",{src:(W=w.images[0].url)!=null&&W.startsWith("http")||(B=w.images[0].url)!=null&&B.startsWith("blob:")?w.images[0].url:`${Ke.BASE_URL.replace("/api","")}${w.images[0].url}`,alt:w.images[0].alt,className:"w-32 h-24 object-cover rounded-lg",onError:ie=>{ie.currentTarget.src="https://images.unsplash.com/photo-1631049307264-da0ec9d70304?w=128&h=96&fit=crop"}})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-emerald",children:["$",((k=w.pricing)==null?void 0:k.totalRate)||((L=w.pricing)==null?void 0:L.baseRate)||"N/A"]}),e.jsx("div",{className:"text-sm text-primary-600",children:"per night"}),((ce=w.pricing)==null?void 0:ce.taxes)>0&&e.jsxs("div",{className:"text-xs text-primary-500",children:["+$",w.pricing.taxes," taxes"]}),e.jsxs("div",{className:"text-xs text-primary-500 mb-2",children:[w.totalRooms," rooms available"]}),e.jsx(M,{size:"sm",className:"mt-2",onClick:()=>{x(ie=>({...ie,selectedRoom:w.id}))},children:"Select Room"})]})]}),((xe=w.pricing)==null?void 0:xe.cancellationPolicy)&&e.jsx("div",{className:"mt-3 pt-3 border-t border-primary-100",children:e.jsxs("div",{className:"text-xs text-primary-600",children:[e.jsx("span",{className:"font-medium",children:"Cancellation:"}),e.jsx("span",{className:"capitalize",children:w.pricing.cancellationPolicy.type}),w.pricing.cancellationPolicy.deadline&&e.jsxs("span",{children:[" up to ",w.pricing.cancellationPolicy.deadline,"h before check-in"]}),w.pricing.cancellationPolicy.fee&&e.jsxs("span",{children:[" ($",w.pricing.cancellationPolicy.fee," fee)"]})]})})]},w.id)})})]})]}),e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:"bg-white border border-primary-200 rounded-xl lg:rounded-2xl shadow-lg lg:sticky lg:top-20",children:[e.jsxs("div",{className:"p-4 sm:p-6 border-b border-primary-100",children:[e.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[((F=(me=r.pricing)==null?void 0:me.priceRange)==null?void 0:F.max)>((ee=r.pricing)==null?void 0:ee.averageNightlyRate)&&e.jsxs("span",{className:"text-lg text-primary-400 line-through font-['Poppins']",children:[r.pricing.currencySymbol,r.pricing.priceRange.max]}),e.jsxs("span",{className:"text-2xl sm:text-3xl font-black text-primary-900 font-['DM_Sans']",children:[((ue=r.pricing)==null?void 0:ue.currencySymbol)||"$",((S=r.pricing)==null?void 0:S.averageNightlyRate)||0]}),e.jsx("span",{className:"text-primary-600 font-['Poppins']",children:"/ night"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-amber-premium text-lg",children:"★"}),e.jsx("span",{className:"font-bold text-primary-900 font-['DM_Sans']",children:((ne=r.rating)==null?void 0:ne.overall)||0}),e.jsxs("span",{className:"text-primary-600 font-['Poppins']",children:["(",(K=(Z=r.rating)==null?void 0:Z.reviewCount)==null?void 0:K.toLocaleString()," reviews)"]})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-0 border border-primary-200 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-3 sm:p-4 border-b sm:border-b-0 sm:border-r border-primary-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-primary-400",children:"📅"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-primary-700 font-['DM_Sans'] uppercase tracking-wider",children:"Check-in"}),e.jsx("input",{type:"date",value:d.checkIn,onChange:w=>x(W=>({...W,checkIn:w.target.value})),className:"text-sm font-medium text-primary-900 font-['Poppins'] border-none outline-none bg-transparent w-full",placeholder:"Add date"})]})]})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-primary-400",children:"📅"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-primary-700 font-['DM_Sans'] uppercase tracking-wider",children:"Check-out"}),e.jsx("input",{type:"date",value:d.checkOut,onChange:w=>x(W=>({...W,checkOut:w.target.value})),className:"text-sm font-medium text-primary-900 font-['Poppins'] border-none outline-none bg-transparent w-full",placeholder:"Add date"})]})]})})]}),e.jsx("div",{className:"border border-primary-200 rounded-xl p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-primary-400",children:"👤"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs font-bold text-primary-700 font-['DM_Sans'] uppercase tracking-wider",children:"Guests"}),e.jsxs("select",{value:d.guests,onChange:w=>x(W=>({...W,guests:parseInt(w.target.value)})),className:"text-sm font-medium text-primary-900 font-['Poppins'] border-none outline-none bg-transparent w-full",children:[e.jsx("option",{value:1,children:"1 guest"}),e.jsx("option",{value:2,children:"2 guests"}),e.jsx("option",{value:3,children:"3 guests"}),e.jsx("option",{value:4,children:"4 guests"}),e.jsx("option",{value:5,children:"5 guests"}),e.jsx("option",{value:6,children:"6 guests"})]})]})]})})]}),e.jsxs("div",{className:"flex gap-3 mb-6",children:[e.jsxs("button",{className:"flex-1 bg-white border border-primary-200 text-primary-900 py-3 px-4 rounded-xl font-bold font-['DM_Sans'] hover:bg-primary-50 transition-all duration-300 hover:-translate-y-0.5 hover:shadow-md flex items-center justify-center gap-2 min-h-[48px]",children:[e.jsx("span",{children:"Save"}),e.jsx("span",{children:"+"})]}),e.jsx("button",{onClick:j,disabled:!d.checkIn||!d.checkOut,className:"flex-[2] bg-blue-ocean text-white py-3 px-6 rounded-xl font-bold font-['DM_Sans'] hover:bg-emerald transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Reserve"})]}),e.jsx("div",{className:"text-center mb-4",children:e.jsx("p",{className:"text-sm text-primary-600 font-['Poppins']",children:"You won't be charged yet"})}),e.jsxs("div",{className:"space-y-3 pt-4 border-t border-primary-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-primary-600 font-['Poppins']",children:"$109 x 7 nights"}),e.jsx("span",{className:"font-medium text-primary-900 font-['DM_Sans']",children:"$763"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-primary-600 font-['Poppins']",children:"Service fee"}),e.jsx("span",{className:"font-medium text-primary-900 font-['DM_Sans']",children:"$103"})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-primary-200",children:[e.jsx("span",{className:"font-bold text-primary-900 font-['DM_Sans']",children:"Total"}),e.jsx("span",{className:"font-bold text-primary-900 font-['DM_Sans']",children:"$866"})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-primary-200",children:e.jsxs("button",{className:"flex items-center gap-2 text-primary-600 hover:text-primary-900 transition-colors font-['Poppins'] text-sm",children:[e.jsx("span",{children:"🏴"}),e.jsx("span",{children:"Report this property"})]})})]})]})]}),(((se=r.contact)==null?void 0:se.phone)||((be=r.contact)==null?void 0:be.email)||((Se=r.contact)==null?void 0:Se.checkIn)||((Ae=r.contact)==null?void 0:Ae.checkOut))&&e.jsxs(oe,{className:"p-4 sm:p-6 mt-4 sm:mt-6",children:[e.jsx("h3",{className:"text-lg font-bold text-primary-900 mb-4 font-['DM_Sans']",children:"Contact Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[((Le=r.contact)==null?void 0:Le.phone)&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600 font-['Poppins']",children:"Phone:"}),e.jsx("span",{className:"text-primary-900 font-['Poppins'] font-medium",children:r.contact.phone})]}),((Te=r.contact)==null?void 0:Te.email)&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600 font-['Poppins']",children:"Email:"}),e.jsx("span",{className:"text-primary-900 font-['Poppins'] font-medium",children:r.contact.email.replace(/^(mailto:)+/g,"")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600 font-['Poppins']",children:"Check-in:"}),e.jsx("span",{className:"text-primary-900 font-['Poppins'] font-medium",children:((Fe=r.contact)==null?void 0:Fe.checkIn)||((Be=(Me=r.policies)==null?void 0:Me.checkIn)==null?void 0:Be.from)||"15:00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600 font-['Poppins']",children:"Check-out:"}),e.jsx("span",{className:"text-primary-900 font-['Poppins'] font-medium",children:(($e=r.contact)==null?void 0:$e.checkOut)||((z=(A=r.policies)==null?void 0:A.checkOut)==null?void 0:z.to)||"11:00"})]})]})]})]})]})]}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"relative max-w-6xl w-full max-h-full",children:[e.jsx("button",{onClick:()=>o(!1),className:"absolute top-4 right-4 text-white text-2xl hover:text-gray-300 z-10 bg-black bg-opacity-50 rounded-full w-10 h-10 flex items-center justify-center",children:"×"}),e.jsx("div",{className:"bg-white rounded-2xl overflow-hidden max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-primary-900 mb-4 font-['DM_Sans']",children:[r.name," - Photos"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[g.map((w,W)=>{var B;return e.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>setSelectedImageIndex(W),children:[e.jsx("img",{src:(B=w.url)!=null&&B.startsWith("http")?w.url:`${Ke.BASE_URL.replace("/api","")}${w.url}`,alt:w.alt||`${r.name} - Image ${W+1}`,className:"w-full h-48 object-cover rounded-xl transition-transform duration-300 group-hover:scale-105",onError:k=>{k.currentTarget.src=`https://images.unsplash.com/photo-156407304941${W}?w=400&h=300&fit=crop`}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300 rounded-xl"})]},W)}),g.length<6&&Array.from({length:6-g.length}).map((w,W)=>e.jsxs("div",{className:"relative group cursor-pointer",children:[e.jsx("img",{src:`https://images.unsplash.com/photo-${["1566073771259-6a8506099945","1571896349842-33c89424de2d","1445019980597-93fa8acb246c","1582719478250-c89cae4dc85b","1520250497591-112f2f40a3f4","1564501049412-61c2ae185a50"][W%6]}?w=400&h=300&fit=crop`,alt:`${r.name} - View ${g.length+W+1}`,className:"w-full h-48 object-cover rounded-xl transition-transform duration-300 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300 rounded-xl"})]},`placeholder-${W}`))]})]})})]})})]})},Pr={getTrips:async t=>{const s=new URLSearchParams;return t&&Object.entries(t).forEach(([a,i])=>{i&&s.append(a,i.toString())}),(await ge.get(`/trips?${s.toString()}`)).data},getFeaturedTrips:async()=>(await ge.get("/trips/featured")).data,getTripDetails:async t=>(await ge.get(`/trips/${t}`)).data,searchTrips:async(t,s)=>{const r=new URLSearchParams({q:t});return s&&Object.entries(s).forEach(([i,n])=>{n&&r.append(i,n.toString())}),(await ge.get(`/trips/search?${r.toString()}`)).data},getTripFlights:async(t,s)=>{const r=new URLSearchParams({departureDate:s.departureDate,returnDate:s.returnDate,passengers:s.passengers.toString()});return(await ge.get(`/trips/${t}/flights?${r.toString()}`)).data},getTripHotels:async(t,s)=>{const r=new URLSearchParams({checkIn:s.checkIn,checkOut:s.checkOut,guests:s.guests.toString()});return s.priceRange&&r.append("priceRange",s.priceRange),(await ge.get(`/trips/${t}/hotels?${r.toString()}`)).data},customizeTrip:async(t,s)=>(await ge.post(`/trips/${t}/customize`,s)).data,getTripQuote:async t=>(await ge.post("/trips/quote",t)).data},St={getCountries:async()=>(await ge.get("/master/countries")).data,getStatesByCountry:async t=>(await ge.get(`/master/states/${t}`)).data,getCities:async t=>{const s=new URLSearchParams;return t&&Object.entries(t).forEach(([a,i])=>{i&&s.append(a,i)}),(await ge.get(`/master/cities?${s.toString()}`)).data},searchCities:async t=>(await ge.get(`/master/cities?search=${encodeURIComponent(t)}`)).data,getCategories:async t=>{const s=t?`?type=${t}`:"";return(await ge.get(`/master/categories${s}`)).data},getActivities:async t=>{const s=new URLSearchParams;return t&&Object.entries(t).forEach(([a,i])=>{i&&s.append(a,i)}),(await ge.get(`/master/activities?${s.toString()}`)).data},getAdminCountries:async()=>(await ge.get("/master/admin/countries")).data,createCountry:async t=>(await ge.post("/master/admin/countries",t)).data,updateCountry:async(t,s)=>(await ge.put(`/master/admin/countries/${t}`,s)).data,deleteCountry:async t=>(await ge.delete(`/master/admin/countries/${t}`)).data,getAdminStates:async()=>(await ge.get("/admin/master/states")).data,createState:async t=>(await ge.post("/admin/master/states",t)).data,updateState:async(t,s)=>(await ge.put(`/admin/master/states/${t}`,s)).data,getAdminCities:async(t=1,s=50)=>(await ge.get(`/master/admin/cities?page=${t}&limit=${s}`)).data,createCity:async t=>(await ge.post("/master/admin/cities",t)).data,updateCity:async(t,s)=>(await ge.put(`/master/admin/cities/${t}`,s)).data,getAdminCategories:async()=>(await ge.get("/master/admin/categories")).data,createCategory:async t=>(await ge.post("/master/admin/categories",t)).data,updateCategory:async(t,s)=>(await ge.put(`/master/admin/categories/${t}`,s)).data,getAdminActivities:async(t=1,s=50)=>(await ge.get(`/master/admin/activities?page=${t}&limit=${s}`)).data,createActivity:async t=>(await ge.post("/master/admin/activities",t)).data,updateActivity:async(t,s)=>(await ge.put(`/master/admin/activities/${t}`,s)).data},Md=()=>{const t=rt(),{id:s}=tr(),[r,a]=b.useState([]),[i,n]=b.useState([]),[l,o]=b.useState([]),[c,m]=b.useState(!0),[d,x]=b.useState(""),[p,j]=b.useState(""),[g,u]=b.useState([]),[y,h]=b.useState(!1),[f,v]=b.useState({category:"",priceRange:"",duration:"",search:"",destination:s||"",difficulty:""});b.useEffect(()=>{R(),T()},[]),b.useEffect(()=>{s&&U()},[s]);const T=()=>{const D=new URLSearchParams(window.location.search),G=D.get("destination"),$=D.get("priceRange"),J=D.get("description"),E=D.get("type"),_=D.get("category"),H=D.get("budget");if(G||$||J||E||_||H){const V={...f};if(J?(V.search=J,x(J)):G&&(V.search=G,x(G)),E?V.category=P(E):_&&(V.category=P(_)),$)V.priceRange=$;else if(H){const me={budget:"budget","budget-friendly":"budget","mid-range":"mid-range",luxury:"luxury",unlimited:"luxury"};V.priceRange=me[H]||H}v(V);const ae=new URL(window.location.href);V.search&&ae.searchParams.set("search",V.search),V.category&&ae.searchParams.set("category",V.category),V.priceRange&&ae.searchParams.set("priceRange",V.priceRange),window.history.replaceState({},"",ae.toString())}},P=D=>({adventure:"adventure",relaxation:"relaxation",cultural:"cultural",city:"city",nature:"nature",food:"food",luxury:"luxury",romance:"romance",family:"family"})[D]||D;b.useEffect(()=>{(f.search||f.category||f.priceRange||f.duration||f.difficulty)&&O()},[f]);const R=async()=>{m(!0);try{const[D,G]=await Promise.all([Pr.getFeaturedTrips(),St.getCategories("trip")]);n(D.trips||[]),o(G.categories||[]),window.location.search&&T()}catch(D){console.error("Failed to load initial data:",D),n([]),o([])}finally{m(!1)}},O=async()=>{try{m(!0);const D=await Pr.getTrips(f);a(D.trips||[])}catch(D){console.error("Failed to load trips:",D),a([])}finally{m(!1)}},U=async()=>{if(s){m(!0);try{const G=await(await fetch(`${Ke.BASE_URL}/destinations/${s}`)).json();if(G.success&&G.data.destination){j(G.data.destination.name);const $=await Pr.getTrips({search:G.data.destination.name,category:"",priceRange:"",duration:""});a($.trips||[])}}catch(D){console.error("Failed to load destination trips:",D);const G=await Pr.getFeaturedTrips();a(G.trips||[])}finally{m(!1)}}},C=D=>{const G=[],$=D.toLowerCase();return i.forEach(E=>{var _,H,V;(H=(_=E.primaryDestination)==null?void 0:_.name)!=null&&H.toLowerCase().includes($)&&G.push("📍 ₹{trip.primaryDestination.name}"),(V=E.title)!=null&&V.toLowerCase().includes($)&&G.push("🎯 ₹{trip.title.replace(/<[^>]*>/g, '')}")}),l.forEach(E=>{var _;(_=E.name)!=null&&_.toLowerCase().includes($)&&G.push(`${E.icon} ₹{cat.name}`)}),["Adventure","Beach","Mountain","City","Culture","Luxury","Budget","Family"].forEach(E=>{E.toLowerCase().includes($)&&G.push("🔍 ₹{term} trips")}),[...new Set(G)].slice(0,6)},q=()=>{v({category:"",priceRange:"",duration:"",search:"",destination:s||"",difficulty:""}),x(""),h(!1),s||a([])},X=b.useMemo(()=>f.search||f.category||f.priceRange||f.duration||f.difficulty,[f.search,f.category,f.priceRange,f.duration,f.difficulty]),N=X?r:i;return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"bg-white py-8 sm:py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black text-primary-900 mb-4 font-['DM_Sans'] leading-[0.85] tracking-tight",children:p?"Trips to ₹{destinationName}":"Your next amazing trip starts here"}),e.jsx("p",{className:"text-base sm:text-lg text-primary-600 mb-8 font-['Poppins'] font-medium leading-relaxed max-w-2xl mx-auto",children:p?"Explore amazing experiences and adventures in ₹{destinationName}":"See beautiful itineraries, pick what you love, customize to make it yours"}),e.jsx("div",{className:"max-w-3xl mx-auto mb-6",children:e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:"Search destinations, activities, or trip types...",value:d,onChange:D=>{const G=D.target.value;if(x(G),G.length>=2){const $=C(G);u($),h(!0)}else h(!1)},onFocus:()=>{if(d.length>=2){const D=C(d);u(D),h(!0)}},onBlur:()=>setTimeout(()=>h(!1),200),className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-ocean focus:border-blue-ocean transition-all text-base font-['Poppins'] placeholder:text-gray-500 shadow-sm hover:shadow-md"}),e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-xl text-gray-400",children:"🔍"}),d&&e.jsx("button",{onClick:()=>{x(""),v(D=>({...D,search:""})),h(!1)},className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 text-xl",children:"✕"}),y&&g.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-xl shadow-xl z-50 max-h-64 overflow-y-auto",children:g.map((D,G)=>e.jsx("button",{onClick:()=>{const $=D.replace(/^[📍🎯🔍]\s/,"").replace(/ trips$/,"");x($),v(J=>({...J,search:$})),h(!1)},className:"w-full px-4 py-3 text-left hover:bg-blue-50 transition-colors font-['Poppins'] text-gray-700 hover:text-blue-ocean border-b border-gray-100 last:border-b-0 flex items-center gap-2",children:D},G))})]}),e.jsx("button",{onClick:()=>{d.trim()&&(v(D=>({...D,search:d.trim()})),h(!1))},className:"px-8 py-4 bg-blue-ocean text-white rounded-xl font-bold font-['DM_Sans'] hover:bg-emerald transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg min-w-[120px]",children:"Search"})]})})})]})}),e.jsx("section",{className:"py-6 bg-gray-50 border-t border-gray-200",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-primary-900 mb-1 font-['DM_Sans']",children:"Can't find what you're looking for?"}),e.jsx("p",{className:"text-sm text-primary-600 font-['Poppins']",children:"Create your own custom trip"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center max-w-2xl mx-auto",children:[e.jsxs("button",{onClick:()=>t("/ai-itinerary"),className:"flex items-center gap-2 bg-white hover:bg-blue-50 border border-blue-200 hover:border-blue-ocean text-primary-900 px-4 py-3 rounded-lg font-medium font-['DM_Sans'] transition-all duration-300 hover:shadow-sm text-sm",children:[e.jsx("span",{className:"text-lg",children:"🧠"}),e.jsx("span",{children:"AI Trip Builder"})]}),e.jsxs("button",{onClick:()=>t("/custom-builder"),className:"flex items-center gap-2 bg-white hover:bg-emerald-50 border border-emerald-200 hover:border-emerald text-primary-900 px-4 py-3 rounded-lg font-medium font-['DM_Sans'] transition-all duration-300 hover:shadow-sm text-sm",children:[e.jsx("span",{className:"text-lg",children:"🛠️"}),e.jsx("span",{children:"Custom Builder"})]})]})]})}),e.jsx("section",{id:"search-results",className:"py-8 bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"w-full lg:w-72 flex-shrink-0 order-2 lg:order-1",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 lg:sticky lg:top-4",children:[e.jsx("h3",{className:"text-base font-bold text-primary-900 mb-3 font-['DM_Sans']",children:"Filter Trips"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block font-['DM_Sans']",children:"Category"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"",label:"All"},{key:"adventure",label:"🏔️ Adventure"},{key:"cultural",label:"🎭 Culture"},{key:"relaxation",label:"🧘 Wellness"},{key:"romance",label:"💕 Romance"},{key:"family",label:"👨‍👩‍👧‍👦 Family"}].map(D=>e.jsx("button",{onClick:()=>v(G=>({...G,category:D.key})),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all ₹{
                            filters.category === cat.key
                              ? 'bg-blue-ocean text-white'
                              : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                          }`,children:D.label},D.key))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block font-['DM_Sans']",children:"Price Range"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"",label:"Any Budget"},{key:"budget",label:"💰 Under ₹1,500"},{key:"mid-range",label:"💵 ₹1,500 - ₹3,500"},{key:"luxury",label:"💎 Above ₹3,500"}].map(D=>e.jsx("button",{onClick:()=>v(G=>({...G,priceRange:D.key})),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all ₹{
                            filters.priceRange === price.key
                              ? 'bg-emerald text-white'
                              : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                          }`,children:D.label},D.key))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block font-['DM_Sans']",children:"Duration"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"",label:"Any Duration"},{key:"1-3",label:"📅 1-3 Days"},{key:"4-7",label:"📅 4-7 Days"},{key:"8-14",label:"📅 1-2 Weeks"},{key:"15+",label:"📅 2+ Weeks"}].map(D=>e.jsx("button",{onClick:()=>v(G=>({...G,duration:D.key})),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all ₹{
                            filters.duration === duration.key
                              ? 'bg-purple-600 text-white'
                              : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                          }`,children:D.label},D.key))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block font-['DM_Sans']",children:"Difficulty"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"",label:"Any Level"},{key:"easy",label:"🟢 Easy"},{key:"moderate",label:"🟡 Moderate"},{key:"challenging",label:"🔴 Challenging"}].map(D=>e.jsx("button",{onClick:()=>v(G=>({...G,difficulty:D.key})),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all ₹{
                            (filters as any).difficulty === diff.key
                              ? 'bg-orange-600 text-white'
                              : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                          }`,children:D.label},D.key))})]}),(f.search||f.category||f.priceRange||f.duration||f.difficulty)&&e.jsx("button",{onClick:q,className:"w-full mt-4 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm font-medium font-['DM_Sans']",children:"Clear All Filters"})]})]})}),e.jsxs("div",{className:"flex-1 order-1 lg:order-2",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-black text-primary-900 font-['DM_Sans'] leading-[0.9] tracking-tight mb-2",children:p?`${N.length} trips to ₹{destinationName}`:X?`${N.length} trips found`:"✨ Amazing Trips People Love"}),(f.search||f.category||f.priceRange||f.duration||f.difficulty)&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[f.search&&e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium font-['DM_Sans']",children:['🔍 "',f.search,'"']}),f.category&&e.jsxs("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-xs font-medium font-['DM_Sans']",children:["📂 ",f.category]}),f.priceRange&&e.jsxs("span",{className:"px-3 py-1 bg-amber-100 text-amber-700 rounded-full text-xs font-medium font-['DM_Sans']",children:["💰 ",f.priceRange]}),f.duration&&e.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium font-['DM_Sans']",children:["📅 ",f.duration," days"]}),f.difficulty&&e.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-xs font-medium font-['DM_Sans']",children:["🎯 ",f.difficulty]})]})]}),c?e.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[e.jsx(Xe,{size:"lg"}),e.jsx("p",{className:"text-primary-600 font-['Poppins'] mt-4",children:"Finding amazing trips for you..."})]}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:N.map((D,G)=>{var $,J,E,_,H,V,ae,me,F,ee,ue,S,ne,Z,K,se,be,Se,Ae,Le;return e.jsxs("div",{className:"group cursor-pointer hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-md hover:shadow-lg",onClick:()=>t(`/trips/${D.slug||D._id}`),children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:(E=(J=($=D.images)==null?void 0:$[0])==null?void 0:J.url)!=null&&E.startsWith("http")?D.images[0].url:(H=(_=D.images)==null?void 0:_[0])!=null&&H.url?`${Ke.BASE_URL.replace("/api","")}${D.images[0].url}`:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=500&h=300&fit=crop&auto=format",alt:D.title,className:"w-full h-56 object-cover group-hover:scale-110 transition-transform duration-500",onError:Te=>{Te.currentTarget.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=500&h=300&fit=crop&auto=format"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"}),e.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-start",children:[D.featured&&e.jsx("span",{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-lg font-['DM_Sans']",children:"🔥 Trending"}),e.jsxs("span",{className:"bg-white/90 backdrop-blur-sm text-primary-900 px-3 py-1.5 rounded-full text-xs font-bold shadow-lg font-['DM_Sans'] ml-auto",children:[((V=D.duration)==null?void 0:V.days)||0," Days"]})]}),e.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-1 drop-shadow-lg font-['DM_Sans'] leading-tight",children:((ae=D.title)==null?void 0:ae.replace(/<[^>]*>/g,""))||"Untitled Trip"}),e.jsxs("p",{className:"text-white/90 text-sm drop-shadow font-['Poppins']",children:["📍 ",((me=D.primaryDestination)==null?void 0:me.name)||"Amazing Destination"," • ",((F=D.duration)==null?void 0:F.days)||5," Days"]})]})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-medium font-['DM_Sans']",children:[(ee=D.category)==null?void 0:ee.icon," ",(ue=D.category)==null?void 0:ue.name]}),D.difficulty&&e.jsx("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-700 rounded text-xs font-medium font-['DM_Sans']",children:D.difficulty.charAt(0).toUpperCase()+D.difficulty.slice(1)}),((S=D.suitableFor)==null?void 0:S.couples)&&e.jsx("span",{className:"px-2 py-1 bg-rose-100 text-rose-700 rounded text-xs font-medium font-['DM_Sans']",children:"💕 Couples"})]}),e.jsxs("p",{className:"text-primary-600 text-sm mb-4 line-clamp-2 leading-relaxed font-['Poppins']",children:[((ne=D.description)==null?void 0:ne.replace(/<[^>]*>/g,"").substring(0,100))||"Discover amazing experiences and create unforgettable memories on this incredible journey","..."]}),e.jsxs("div",{className:"flex justify-between items-end mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-xl font-black text-emerald font-['DM_Sans'] leading-none",children:[((Z=D.pricing)==null?void 0:Z.currency)==="INR"?"₹":"$",((se=(K=D.pricing)==null?void 0:K.estimated)==null?void 0:se.toLocaleString())||"TBD"]}),e.jsxs("div",{className:"text-xs text-primary-500 font-medium font-['Poppins'] mt-1",children:["per person • ",((be=D.pricing)==null?void 0:be.priceRange)||"budget"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx("span",{className:"text-amber-400 text-base",children:"⭐"}),e.jsx("span",{className:"font-bold text-primary-900 font-['DM_Sans'] text-sm",children:((Se=D.stats)==null?void 0:Se.rating)||4.5}),e.jsxs("span",{className:"text-xs text-primary-500 font-['Poppins']",children:["(",((Ae=D.stats)==null?void 0:Ae.reviewCount)||89,")"]})]}),e.jsxs("div",{className:"text-xs text-green-600 font-medium font-['Poppins']",children:["👁️ ",((Le=D.stats)==null?void 0:Le.views)||12," views"]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"flex-1 bg-blue-ocean text-white hover:bg-emerald transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg font-bold font-['DM_Sans'] text-sm rounded-xl py-3 px-4 min-h-[44px]",onClick:Te=>{var Be;Te.stopPropagation(),console.log("Trip viewed:",{tripId:D._id,title:D.title,category:(Be=D.category)==null?void 0:Be.name,searchQuery:f.search,timestamp:new Date().toISOString()});const Fe=new URLSearchParams;f.search&&Fe.set("from","search"),f.category&&Fe.set("category",f.category);const Me=Fe.toString();t(`/trips/${D.slug||D._id}${Me?"?"+Me:""}`)},children:"View Details"}),e.jsx("button",{className:"px-4 py-3 border-2 border-blue-ocean text-blue-ocean hover:bg-blue-ocean hover:text-white transition-all duration-300 font-bold font-['DM_Sans'] text-sm rounded-xl min-h-[44px]",onClick:Te=>{var Fe;Te.stopPropagation(),console.log("Trip customization started:",{tripId:D._id,title:D.title,fromSearch:!0,timestamp:new Date().toISOString()}),t(`/trips/${D.slug||D._id}/customize`,{state:{tripData:{title:D.title,destination:(Fe=D.primaryDestination)==null?void 0:Fe.name,duration:D.duration,pricing:D.pricing,category:D.category},fromSearch:!0}})},children:"Customize"})]})]})]},D.id||D._id||`trip-${G}`)})}),N.length===0&&!c&&e.jsxs("div",{className:"text-center py-12 col-span-full",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🌍"}),e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-2 font-['DM_Sans'] leading-tight",children:"No trips found"}),e.jsx("p",{className:"text-base text-primary-600 mb-6 font-['Poppins'] leading-relaxed max-w-md mx-auto",children:"Try adjusting your search or explore our amazing featured trips"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx(M,{onClick:q,className:"bg-blue-ocean text-white hover:bg-emerald transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg font-bold font-['DM_Sans'] px-5 py-2.5 rounded-xl text-sm",children:"Clear Search"}),e.jsx(M,{variant:"outline",onClick:()=>t("/ai-itinerary"),className:"border-2 border-blue-ocean text-blue-ocean hover:bg-blue-ocean hover:text-white transition-all duration-300 font-bold font-['DM_Sans'] px-5 py-2.5 rounded-xl text-sm",children:"Create Custom Trip"})]})]})]})]})})}),e.jsx("section",{className:"py-12 bg-white",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[e.jsxs("div",{className:"group",children:[e.jsx("div",{className:"text-5xl sm:text-6xl font-black text-blue-ocean mb-4 font-['DM_Sans'] group-hover:scale-110 transition-transform duration-300",children:"47K+"}),e.jsx("div",{className:"text-xl text-primary-600 font-['Poppins'] font-medium",children:"Happy Travelers"})]}),e.jsxs("div",{className:"group",children:[e.jsx("div",{className:"text-5xl sm:text-6xl font-black text-amber-500 mb-4 font-['DM_Sans'] group-hover:scale-110 transition-transform duration-300",children:"4.9★"}),e.jsx("div",{className:"text-xl text-primary-600 font-['Poppins'] font-medium",children:"Average Rating"})]}),e.jsxs("div",{className:"group",children:[e.jsx("div",{className:"text-5xl sm:text-6xl font-black text-emerald mb-4 font-['DM_Sans'] group-hover:scale-110 transition-transform duration-300",children:"95%"}),e.jsx("div",{className:"text-xl text-primary-600 font-['Poppins'] font-medium",children:"Would Recommend"})]})]})})}),e.jsx("section",{className:"py-12 bg-gray-50",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-primary-900 mb-3 font-['DM_Sans'] leading-[0.9] tracking-tight",children:"It's This Simple"}),e.jsx("p",{className:"text-base text-primary-600 font-['Poppins'] font-medium",children:"Three easy ways to get your perfect trip"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{step:"1",title:"See & Love",desc:"Browse beautiful trips and find one you love",icon:"🔍"},{step:"2",title:"Customize",desc:"Adjust dates, activities, and budget to fit you",icon:"⚙️"},{step:"3",title:"Book & Go",desc:"Everything's planned - just pack and enjoy",icon:"✈️"}].map(D=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-ocean to-indigo-600 text-white rounded-full flex items-center justify-center text-2xl font-black mx-auto mb-4 font-['DM_Sans'] shadow-lg",children:D.step}),e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-2 font-['DM_Sans'] leading-tight",children:D.title}),e.jsx("p",{className:"text-primary-600 font-['Poppins'] leading-relaxed text-sm",children:D.desc})]},D.step))})]})})]})},Ys=t=>t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):"",dr=t=>{if(!t)return"";try{const s=new URL(t);return s.protocol==="http:"||s.protocol==="https:"?t:""}catch{return""}},$d=Ke.BASE_URL.replace("/api",""),S4=()=>{var P,R,O,U,C,q,X,N,D,G,$,J,E,_,H,V,ae,me,F,ee,ue,S,ne,Z,K,se,be,Se,Ae,Le,Te,Fe,Me,Be,$e,A,z,w,W,B,k,L,ce,xe,ie,le,te,ve,Oe,Ie,Je,ct,Lt,Tt,ls,Mt,At,Jt,os,Ne,Xt,Br,zr,Ur,Vr,qr,Wr,Gr,Hr,Qr,Zr,Yr,Kr,Jr,Xr,ea,ta,sa,ra,aa,na,ia,la,oa,ca,da,ma,ua,pa,xa,ha,fa,ga,ya,ba,va,ja,Na,wa,Sa,ka,Ca,I,Q,pe,Ce,He,Re;const{id:t}=tr();Li();const s=rt(),[r,a]=b.useState(null),[i,n]=b.useState(!0);b.useState(0);const[l,o]=b.useState(!1),[c,m]=b.useState(0),[d,x]=b.useState(null),[p,j]=b.useState(null),[g,u]=b.useState(null);b.useEffect(()=>{t&&!r&&v()},[t,r]),b.useEffect(()=>{const ye=we=>{l&&(we.key==="Escape"?o(!1):we.key==="ArrowLeft"&&c>0?m(c-1):we.key==="ArrowRight"&&(r!=null&&r.images)&&c<r.images.length-1&&m(c+1))};return l&&(document.addEventListener("keydown",ye),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",ye),document.body.style.overflow="unset"}},[l,c,r==null?void 0:r.images]);const y=ye=>{j(null),x(ye.targetTouches[0].clientX)},h=ye=>{j(ye.targetTouches[0].clientX)},f=()=>{if(!d||!p)return;const ye=d-p,we=ye>50,tt=ye<-50;we&&(r!=null&&r.images)&&c<r.images.length-1&&m(c+1),tt&&c>0&&m(c-1)},v=async()=>{if(t){n(!0);try{const ye=await et.get(`/trips/${t}`);ye.success&&a(ye.data.trip||ye.data)}catch(ye){console.error("Failed to load trip details:",ye),u("Failed to load trip details. Please try again."),a(null)}finally{n(!1)}}},T=()=>{r&&s(`/booking/trip/${r._id||r.id}`)};return i?e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#FCFCFD] to-white",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsxs("div",{className:"h-[70vh] bg-gradient-to-r from-gray-200 to-gray-300 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),e.jsxs("div",{className:"absolute bottom-8 left-8 right-8",children:[e.jsx("div",{className:"h-8 bg-white/20 rounded-lg w-3/4 mb-4"}),e.jsx("div",{className:"h-12 bg-white/20 rounded-lg w-1/2"})]})]}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-20 py-16",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsx("div",{className:"h-10 bg-gray-200 rounded-lg w-2/3"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/5"})]}),e.jsx("div",{className:"space-y-6",children:[...Array(3)].map((ye,we)=>e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-[0_4px_12px_rgba(0,0,0,0.05)] border border-gray-100",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},we))})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-[0_4px_12px_rgba(0,0,0,0.05)] border border-gray-100",children:[e.jsx("div",{className:"h-12 bg-gray-200 rounded-lg mb-6"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded-lg mb-4"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded-lg"})]})})]})})]})}):r?e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#FCFCFD] to-white",children:[e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-20",children:e.jsxs("div",{className:"flex items-center justify-between py-4 lg:py-6",children:[e.jsx("div",{className:"flex items-center gap-2 bg-white/95 backdrop-blur-sm border border-white/20 px-4 py-2 rounded-full",children:e.jsxs("button",{onClick:()=>s("/"),className:"flex items-center gap-2 text-[#3B71FE] hover:text-[#58C27D] transition-colors font-bold text-sm font-['DM_Sans'] active:scale-95 touch-manipulation",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Go home"]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[#777E90] text-sm font-['DM_Sans'] font-bold",children:[e.jsx("span",{children:"Home"}),e.jsx("svg",{className:"w-2 h-2",fill:"currentColor",viewBox:"0 0 6 10",children:e.jsx("path",{d:"M1 1l4 4-4 4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[#777E90] text-sm font-['DM_Sans'] font-bold",children:[e.jsx("span",{children:"Stays"}),e.jsx("svg",{className:"w-2 h-2",fill:"currentColor",viewBox:"0 0 6 10",children:e.jsx("path",{d:"M1 1l4 4-4 4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[#777E90] text-sm font-['DM_Sans'] font-bold",children:[e.jsx("span",{children:"New Zealand"}),e.jsx("svg",{className:"w-2 h-2",fill:"currentColor",viewBox:"0 0 6 10",children:e.jsx("path",{d:"M1 1l4 4-4 4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),e.jsx("span",{className:"text-[#B1B5C3] text-sm font-['DM_Sans'] font-bold",children:r.title.length>15?`${r.title.substring(0,15)}...`:r.title})]})]})}),e.jsxs("section",{className:"relative bg-white h-[60vh] sm:h-[70vh] lg:h-[80vh]",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("img",{src:(O=(R=(P=r.images)==null?void 0:P[0])==null?void 0:R.url)!=null&&O.startsWith("http")?dr(r.images[0].url):(C=(U=r.images)==null?void 0:U[0])!=null&&C.url?dr(`${$d}${r.images[0].url}`):"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1200&h=600&fit=crop",alt:r.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"})]}),e.jsx("div",{className:"relative z-10 h-full flex flex-col justify-end p-4 sm:p-6 lg:p-8",children:e.jsx("div",{className:"max-w-7xl mx-auto w-full",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-white/20 backdrop-blur-sm px-2 py-1 rounded-full",children:[e.jsx("span",{className:"text-amber-400 text-sm",children:"⭐"}),e.jsx("span",{className:"font-bold text-white font-['DM_Sans'] text-sm",children:((q=r.stats)==null?void 0:q.rating)||4.9}),e.jsxs("span",{className:"text-xs text-white/90 font-['Poppins']",children:["(",((X=r.stats)==null?void 0:X.reviewCount)||127,")"]})]}),r.featured&&e.jsx("span",{className:"px-2 py-1 bg-amber-500 text-white rounded-full text-xs font-bold font-['DM_Sans']",children:"🏆 Premium"}),e.jsxs("span",{className:"px-2 py-1 bg-white/20 backdrop-blur-sm text-white rounded-full text-xs font-medium font-['DM_Sans']",children:["📍 ",((N=r.destinations)==null?void 0:N.map(ye=>ye.name).join(", "))||((D=r.primaryDestination)==null?void 0:D.name)||"Amazing Destination"]})]}),e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-5xl font-black text-white mb-4 font-['DM_Sans'] leading-tight drop-shadow-lg",children:Ys(r.title)}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 text-white/90 bg-white/10 backdrop-blur-sm px-2 py-1 rounded-full",children:[e.jsx("span",{children:"👥"}),e.jsxs("span",{className:"font-medium font-['DM_Sans']",children:[((G=r.groupSize)==null?void 0:G.min)||1,"-",(($=r.groupSize)==null?void 0:$.max)||20]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-white/90 bg-white/10 backdrop-blur-sm px-2 py-1 rounded-full",children:[e.jsx("span",{children:"📅"}),e.jsxs("span",{className:"font-medium font-['DM_Sans']",children:[((J=r.duration)==null?void 0:J.days)||5,"d/",((E=r.duration)==null?void 0:E.nights)||4,"n"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-white/90 bg-white/10 backdrop-blur-sm px-2 py-1 rounded-full",children:[e.jsx("span",{children:"🏨"}),e.jsx("span",{className:"font-medium font-['DM_Sans']",children:((_=r.pricing)==null?void 0:_.priceRange)||"Quality"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between lg:justify-end gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/20 backdrop-blur-sm hover:bg-white/30 rounded-full flex items-center justify-center transition-all text-white hover:scale-105 active:scale-95",title:"View on Map",children:"📍"}),e.jsx("button",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/20 backdrop-blur-sm hover:bg-white/30 rounded-full flex items-center justify-center transition-all text-white hover:scale-105 active:scale-95",title:"Share Trip",children:"📤"}),e.jsx("button",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/20 backdrop-blur-sm hover:bg-white/30 rounded-full flex items-center justify-center transition-all text-white hover:scale-105 active:scale-95",title:"Save to Favorites",children:"❤️"})]}),e.jsxs("button",{onClick:()=>{m(0),o(!0)},className:"px-3 py-2 sm:px-4 bg-white text-primary-900 rounded-lg font-bold font-['DM_Sans'] text-xs sm:text-sm hover:bg-white/90 transition-colors flex items-center gap-1 shadow-lg active:scale-95",children:["🖼️ ",e.jsx("span",{className:"hidden sm:inline",children:"Photos"}),e.jsx("span",{className:"sm:hidden",children:((H=r.images)==null?void 0:H.length)||5})]})]})]})})})]}),e.jsx("section",{className:"py-6 sm:py-12 bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8 relative",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6 lg:space-y-10",children:[e.jsxs("div",{className:"bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-primary-900 font-['DM_Sans'] leading-tight",children:Ys((V=r.category)!=null&&V.name?`${r.category.name} Package`:"Complete Adventure Package")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-2xl font-black text-emerald font-['DM_Sans']",children:[((ae=r.pricing)==null?void 0:ae.currency)==="INR"?"₹":"$",((F=(me=r.pricing)==null?void 0:me.estimated)==null?void 0:F.toLocaleString())||"999"]}),e.jsx("span",{className:"text-sm text-primary-600 font-['Poppins']",children:"/person"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("span",{className:"text-sm text-primary-600 font-['Poppins']",children:"Organized by"}),e.jsx("img",{src:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=24&h=24&fit=crop&crop=face",alt:"Host",className:"w-6 h-6 rounded-full"}),e.jsx("span",{className:"font-medium text-primary-900 font-['DM_Sans']",children:"Adventure Tours"})]}),e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsx("h4",{className:"font-bold text-primary-900 mb-3 sm:mb-4 font-['DM_Sans'] text-base sm:text-lg",children:"Perfect For"}),e.jsxs("div",{className:"grid grid-cols-2 sm:flex sm:flex-wrap gap-2 sm:gap-3",children:[((ee=r.suitableFor)==null?void 0:ee.couples)&&e.jsxs("span",{className:"px-3 py-2 bg-pink-100 text-pink-700 rounded-full text-xs sm:text-sm font-medium font-['DM_Sans'] flex items-center justify-center gap-1 sm:gap-2",children:["💕 ",e.jsx("span",{className:"hidden sm:inline",children:"Couples"}),e.jsx("span",{className:"sm:hidden",children:"Couple"})]}),((ue=r.suitableFor)==null?void 0:ue.families)&&e.jsxs("span",{className:"px-3 py-2 bg-green-100 text-green-700 rounded-full text-xs sm:text-sm font-medium font-['DM_Sans'] flex items-center justify-center gap-1 sm:gap-2",children:["👨👩👧👦 ",e.jsx("span",{className:"hidden sm:inline",children:"Families"}),e.jsx("span",{className:"sm:hidden",children:"Family"})]}),((S=r.suitableFor)==null?void 0:S.soloTravelers)&&e.jsxs("span",{className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-full text-xs sm:text-sm font-medium font-['DM_Sans'] flex items-center justify-center gap-1 sm:gap-2",children:["🎒 ",e.jsx("span",{className:"hidden sm:inline",children:"Solo Travelers"}),e.jsx("span",{className:"sm:hidden",children:"Solo"})]}),((ne=r.suitableFor)==null?void 0:ne.groups)&&e.jsxs("span",{className:"px-3 py-2 bg-purple-100 text-purple-700 rounded-full text-xs sm:text-sm font-medium font-['DM_Sans'] flex items-center justify-center gap-1 sm:gap-2",children:["👥 ",e.jsx("span",{className:"hidden sm:inline",children:"Groups"}),e.jsx("span",{className:"sm:hidden",children:"Group"})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"font-bold text-primary-900 mb-4 font-['DM_Sans']",children:"Trip Details"}),e.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[r.category&&e.jsxs("span",{className:"px-4 py-2 rounded-lg text-sm font-medium font-['DM_Sans'] flex items-center gap-2",style:{backgroundColor:`${r.category.color}20`,color:r.category.color},children:[r.category.icon," ",r.category.name]}),r.travelStyle&&e.jsxs("span",{className:"px-4 py-2 bg-indigo-50 text-indigo-700 rounded-lg text-sm font-medium font-['DM_Sans'] flex items-center gap-2",children:["🌎 ",r.travelStyle.charAt(0).toUpperCase()+r.travelStyle.slice(1)]}),r.difficulty&&e.jsxs("span",{className:`px-4 py-2 rounded-lg text-sm font-medium font-['DM_Sans'] flex items-center gap-2 ${r.difficulty==="easy"?"bg-green-50 text-green-700":r.difficulty==="moderate"?"bg-yellow-50 text-yellow-700":"bg-red-50 text-red-700"}`,children:["🏃 ",r.difficulty.charAt(0).toUpperCase()+r.difficulty.slice(1)]})]}),r.tags&&r.tags.length>0&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-primary-900 mb-2 font-['DM_Sans']",children:"Tags"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.tags&&r.tags.slice(0,8).map((ye,we)=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs font-medium",children:ye},we)),r.tags&&r.tags.length>8&&e.jsxs("span",{className:"px-2 py-1 bg-gray-200 text-gray-600 rounded text-xs font-medium",children:["+",r.tags&&r.tags.length-8," more"]})]})]})]}),r.customizable&&Object.values(r.customizable).some(Boolean)&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"font-bold text-primary-900 mb-4 font-['DM_Sans']",children:"Customization Options"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.customizable.duration&&e.jsx("span",{className:"px-4 py-2 bg-blue-50 text-blue-700 rounded-lg text-sm font-medium font-['DM_Sans'] flex items-center gap-2",children:"📅 Duration"}),r.customizable.activities&&e.jsx("span",{className:"px-4 py-2 bg-emerald-50 text-emerald-700 rounded-lg text-sm font-medium font-['DM_Sans'] flex items-center gap-2",children:"🎯 Activities"}),r.customizable.accommodation&&e.jsx("span",{className:"px-4 py-2 bg-purple-50 text-purple-700 rounded-lg text-sm font-medium font-['DM_Sans'] flex items-center gap-2",children:"🏨 Accommodation"}),r.customizable.dates&&e.jsx("span",{className:"px-4 py-2 bg-amber-50 text-amber-700 rounded-lg text-sm font-medium font-['DM_Sans'] flex items-center gap-2",children:"📆 Dates"}),r.customizable.groupSize&&e.jsx("span",{className:"px-4 py-2 bg-pink-50 text-pink-700 rounded-lg text-sm font-medium font-['DM_Sans'] flex items-center gap-2",children:"👥 Group Size"})]})]})]}),e.jsx("div",{children:e.jsx("p",{className:"text-primary-700 leading-relaxed font-['Poppins'] text-base mb-6",children:Ys(r.description||"Experience the ultimate adventure with our carefully curated package. From thrilling activities to luxury accommodations, this comprehensive package includes all meals, premium accommodations, guided tours, and exclusive access to the best attractions and hidden gems.")})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-primary-900 mb-4 sm:mb-6 font-['DM_Sans']",children:"Day-by-Day Itinerary"}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:((Z=r.itinerary)==null?void 0:Z.length)>0?r.itinerary.map((ye,we)=>{var tt,Nt;return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 sm:p-6 hover:shadow-md transition-shadow active:scale-[0.99] touch-manipulation",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-ocean text-white rounded-full flex items-center justify-center font-bold font-['DM_Sans'] text-sm sm:text-base flex-shrink-0",children:ye.day||we+1}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"text-base sm:text-lg font-bold text-primary-900 font-['DM_Sans'] leading-tight",children:ye.title||`Day ${we+1} Activities`}),e.jsx("span",{className:"text-xs sm:text-sm text-primary-600 font-['Poppins']",children:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]}),e.jsxs("button",{className:"text-blue-ocean hover:text-emerald font-medium font-['DM_Sans'] text-xs sm:text-sm px-2 py-1 rounded-lg hover:bg-blue-50 active:scale-95 touch-manipulation flex-shrink-0",children:[e.jsx("span",{className:"hidden sm:inline",children:"View Details"}),e.jsx("span",{className:"sm:hidden",children:"›"})]})]}),e.jsx("p",{className:"text-primary-600 font-['Poppins'] mb-3 sm:mb-4 text-sm sm:text-base leading-relaxed",children:ye.description||"Exciting activities and experiences planned for this day"}),e.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:[((tt=ye.activities)==null?void 0:tt.slice(0,3).map((zt,Os)=>e.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs font-medium",children:zt.title||zt},Os)))||[e.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs font-medium",children:"Adventure"},"1"),e.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs font-medium",children:"Sightseeing"},"2"),e.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs font-medium",children:"Local Experience"},"3")],e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs font-medium",children:["+",Math.max(0,(((Nt=ye.activities)==null?void 0:Nt.length)||3)-3)," more"]})]})]},we)}):[...Array.from({length:((K=r.duration)==null?void 0:K.days)||7},(ye,we)=>{var tt,Nt,zt;return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-ocean text-white rounded-full flex items-center justify-center font-bold font-['DM_Sans']",children:we+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-primary-900 font-['DM_Sans']",children:we===0?"🛬 Arrival & Welcome":we===(((tt=r.duration)==null?void 0:tt.days)||7)-1?"✈️ Departure":`🎆 Day ${we+1} Adventure`}),e.jsx("span",{className:"text-sm text-primary-600 font-['Poppins']",children:new Date(Date.now()+we*24*60*60*1e3).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]}),e.jsx("button",{className:"text-blue-ocean hover:text-emerald font-medium font-['DM_Sans'] text-sm",children:"View Details"})]}),e.jsx("p",{className:"text-primary-600 font-['Poppins'] mb-4",children:we===0?"Airport pickup, luxury accommodation check-in, welcome dinner with local cuisine":we===(((Nt=r.duration)==null?void 0:Nt.days)||7)-1?"Breakfast, souvenir shopping, airport transfer":"Exciting activities, local experiences, and cultural immersion planned for today"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:we===0?[e.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs font-medium",children:"Transfer"},"1"),e.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs font-medium",children:"Check-in"},"2"),e.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs font-medium",children:"Dinner"},"3")]:we===(((zt=r.duration)==null?void 0:zt.days)||7)-1?[e.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs font-medium",children:"Breakfast"},"1"),e.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs font-medium",children:"Shopping"},"2"),e.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs font-medium",children:"Transfer"},"3")]:[e.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs font-medium",children:"Adventure"},"1"),e.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs font-medium",children:"Culture"},"2"),e.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs font-medium",children:"Local Food"},"3")]})]},we)})]}),e.jsx("button",{className:"mt-6 text-blue-ocean hover:text-emerald font-bold font-['DM_Sans'] text-sm",children:"View full itinerary"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-primary-900 mb-4 sm:mb-6 font-['DM_Sans']",children:"What's Included"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[(be=(se=r.includedServices)==null?void 0:se.transport)==null?void 0:be.map((ye,we)=>e.jsxs("div",{className:"flex items-center gap-3 text-primary-700 font-['Poppins']",children:[e.jsx("span",{className:"text-emerald",children:"✓"}),e.jsxs("span",{children:["🚐 ",ye]})]},`transport-${we}`)),(Ae=(Se=r.includedServices)==null?void 0:Se.meals)==null?void 0:Ae.map((ye,we)=>e.jsxs("div",{className:"flex items-center gap-3 text-primary-700 font-['Poppins']",children:[e.jsx("span",{className:"text-emerald",children:"✓"}),e.jsxs("span",{children:["🍽️ ",ye]})]},`meal-${we}`)),((Le=r.includedServices)==null?void 0:Le.guides)&&e.jsxs("div",{className:"flex items-center gap-3 text-primary-700 font-['Poppins']",children:[e.jsx("span",{className:"text-emerald",children:"✓"}),e.jsx("span",{children:"👨🏫 Professional Guide"})]}),(Te=r.includes)==null?void 0:Te.map((ye,we)=>e.jsxs("div",{className:"flex items-center gap-3 text-primary-700 font-['Poppins']",children:[e.jsx("span",{className:"text-emerald",children:"✓"}),e.jsx("span",{children:ye})]},`include-${we}`)),e.jsxs("div",{className:"flex items-center gap-3 text-primary-700 font-['Poppins']",children:[e.jsx("span",{className:"text-emerald",children:"✓"}),e.jsxs("span",{children:["🏨 ",((Fe=r.pricing)==null?void 0:Fe.priceRange)||"Quality"," accommodation (",((Me=r.duration)==null?void 0:Me.nights)||4," nights)"]})]})]}),((Be=r.excludes)==null?void 0:Be.length)>0&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h4",{className:"text-lg font-bold text-primary-900 mb-4 font-['DM_Sans']",children:"What's NOT Included"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.excludes.map((ye,we)=>e.jsxs("div",{className:"flex items-center gap-3 text-primary-700 font-['Poppins']",children:[e.jsx("span",{className:"text-red-500",children:"✗"}),e.jsx("span",{children:ye})]},we))})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-primary-900 mb-4 sm:mb-6 font-['DM_Sans']",children:"Travel Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[(($e=r.travelInfo)==null?void 0:$e.bestTimeToVisit)&&e.jsxs("div",{className:"bg-blue-50 p-3 sm:p-4 rounded-xl",children:[e.jsxs("h4",{className:"font-bold text-primary-900 mb-2 font-['DM_Sans'] flex items-center gap-2 text-sm sm:text-base",children:["🌡️ ",e.jsx("span",{className:"hidden sm:inline",children:"Best Time to Visit"}),e.jsx("span",{className:"sm:hidden",children:"Best Time"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[((A=r.travelInfo.bestTimeToVisit.months)==null?void 0:A.length)>0&&e.jsxs("p",{className:"font-['Poppins']",children:[e.jsx("span",{className:"font-medium",children:"Months:"})," ",r.travelInfo.bestTimeToVisit.months.join(", ")]}),r.travelInfo.bestTimeToVisit.weather&&e.jsxs("p",{className:"font-['Poppins']",children:[e.jsx("span",{className:"font-medium",children:"Weather:"})," ",r.travelInfo.bestTimeToVisit.weather]}),r.travelInfo.bestTimeToVisit.temperature&&e.jsxs("p",{className:"font-['Poppins']",children:[e.jsx("span",{className:"font-medium",children:"Temperature:"})," ",r.travelInfo.bestTimeToVisit.temperature.min,"°C - ",r.travelInfo.bestTimeToVisit.temperature.max,"°C"]})]})]}),r.physicalRequirements&&e.jsxs("div",{className:"bg-emerald-50 p-4 rounded-xl",children:[e.jsx("h4",{className:"font-bold text-primary-900 mb-2 font-['DM_Sans'] flex items-center gap-2",children:"🏃 Physical Requirements"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{className:"font-['Poppins']",children:[e.jsx("span",{className:"font-medium",children:"Fitness Level:"}),e.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${r.physicalRequirements.fitnessLevel==="low"?"bg-green-100 text-green-700":r.physicalRequirements.fitnessLevel==="moderate"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:((z=r.physicalRequirements.fitnessLevel)==null?void 0:z.charAt(0).toUpperCase())+((w=r.physicalRequirements.fitnessLevel)==null?void 0:w.slice(1))})]}),r.physicalRequirements.walkingDistance>0&&e.jsxs("p",{className:"font-['Poppins']",children:[e.jsx("span",{className:"font-medium",children:"Walking:"})," ",r.physicalRequirements.walkingDistance," km/day"]}),r.physicalRequirements.altitude>0&&e.jsxs("p",{className:"font-['Poppins']",children:[e.jsx("span",{className:"font-medium",children:"Max Altitude:"})," ",r.physicalRequirements.altitude,"m"]})]})]}),((W=r.travelInfo)==null?void 0:W.localCulture)&&e.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl",children:[e.jsx("h4",{className:"font-bold text-primary-900 mb-2 font-['DM_Sans'] flex items-center gap-2",children:"🌍 Local Culture"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[((B=r.travelInfo.localCulture.language)==null?void 0:B.length)>0&&e.jsxs("p",{className:"font-['Poppins']",children:[e.jsx("span",{className:"font-medium",children:"Languages:"})," ",r.travelInfo.localCulture.language.join(", ")]}),r.travelInfo.localCulture.currency&&e.jsxs("p",{className:"font-['Poppins']",children:[e.jsx("span",{className:"font-medium",children:"Currency:"})," ",r.travelInfo.localCulture.currency]})]})]}),((k=r.travelInfo)==null?void 0:k.safetyInformation)&&e.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl",children:[e.jsx("h4",{className:"font-bold text-primary-900 mb-2 font-['DM_Sans'] flex items-center gap-2",children:"🛡️ Safety Information"}),e.jsx("div",{className:"space-y-2 text-sm",children:e.jsxs("p",{className:"font-['Poppins']",children:[e.jsx("span",{className:"font-medium",children:"Safety Level:"}),e.jsxs("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${r.travelInfo.safetyInformation.level==="low"?"bg-green-100 text-green-700":r.travelInfo.safetyInformation.level==="moderate"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[((L=r.travelInfo.safetyInformation.level)==null?void 0:L.charAt(0).toUpperCase())+((ce=r.travelInfo.safetyInformation.level)==null?void 0:ce.slice(1))," Risk"]})]})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-primary-900 mb-6 font-['DM_Sans']",children:"Booking Details"}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 p-8 rounded-2xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-primary-900 mb-3 font-['DM_Sans']",children:"Booking Policy"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600 font-['Poppins']",children:"Booking Type:"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${(xe=r.bookingInfo)!=null&&xe.instantBook?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:(ie=r.bookingInfo)!=null&&ie.instantBook?"⚡ Instant Book":"✅ Requires Approval"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600 font-['Poppins']",children:"Advance Booking:"}),e.jsxs("span",{className:"font-medium",children:[((le=r.bookingInfo)==null?void 0:le.advanceBooking)||7," days"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600 font-['Poppins']",children:"Deposit Required:"}),e.jsxs("span",{className:"font-medium",children:[((te=r.bookingInfo)==null?void 0:te.depositRequired)||50,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600 font-['Poppins']",children:"Final Payment:"}),e.jsxs("span",{className:"font-medium",children:[((ve=r.bookingInfo)==null?void 0:ve.finalPaymentDue)||30," days before"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-primary-900 mb-3 font-['DM_Sans']",children:"Trip Capacity"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600 font-['Poppins']",children:"Group Size:"}),e.jsxs("span",{className:"font-medium",children:[((Oe=r.groupSize)==null?void 0:Oe.min)||1,"-",((Ie=r.groupSize)==null?void 0:Ie.max)||20," people"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600 font-['Poppins']",children:"Recommended:"}),e.jsxs("span",{className:"font-medium",children:[((Je=r.groupSize)==null?void 0:Je.recommended)||4," people"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600 font-['Poppins']",children:"Max Bookings:"}),e.jsxs("span",{className:"font-medium",children:[((ct=r.availability)==null?void 0:ct.maxBookings)||20," total"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600 font-['Poppins']",children:"Trip Type:"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${(Lt=r.availability)!=null&&Lt.seasonal?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:(Tt=r.availability)!=null&&Tt.seasonal?"🌿 Seasonal":"📅 Year-round"})]})]})]})]}),((ls=r.bookingInfo)==null?void 0:ls.cancellationPolicy)&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"font-bold text-primary-900 mb-2 font-['DM_Sans']",children:"Cancellation Policy"}),e.jsx("p",{className:"text-sm text-primary-600 font-['Poppins']",children:r.bookingInfo.cancellationPolicy})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-primary-900 mb-6 font-['DM_Sans']",children:"Pricing Breakdown"}),e.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 p-8 rounded-2xl border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[((Mt=r.pricing)==null?void 0:Mt.breakdown)&&Object.entries(r.pricing.breakdown).map(([ye,we])=>{var tt;return we>0&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[e.jsx("span",{className:"capitalize text-primary-600 font-['Poppins'] font-medium",children:ye}),e.jsxs("span",{className:"font-bold text-primary-900 font-['DM_Sans']",children:[((tt=r.pricing)==null?void 0:tt.currency)==="INR"?"₹":"$",we.toLocaleString()]})]},ye)}),e.jsxs("div",{className:"col-span-full border-t-2 border-primary-200 pt-4 mt-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xl font-black text-primary-900 font-['DM_Sans']",children:"Total per person"}),e.jsxs("span",{className:"text-2xl font-black text-emerald font-['DM_Sans']",children:[((At=r.pricing)==null?void 0:At.currency)==="INR"?"₹":"$",(os=(Jt=r.pricing)==null?void 0:Jt.estimated)==null?void 0:os.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("span",{className:"text-sm text-primary-500 font-['Poppins']",children:"Original price"}),e.jsxs("span",{className:"text-sm text-primary-500 line-through font-['Poppins']",children:[((Ne=r.pricing)==null?void 0:Ne.currency)==="INR"?"₹":"$",((((Xt=r.pricing)==null?void 0:Xt.estimated)||0)+(((Br=r.pricing)==null?void 0:Br.discountAmount)||0)||999).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-emerald font-['DM_Sans']",children:"You save"}),e.jsxs("span",{className:"text-sm font-bold text-emerald font-['DM_Sans']",children:["-",((zr=r.pricing)==null?void 0:zr.currency)==="INR"?"₹":"$",Math.abs(((Ur=r.pricing)==null?void 0:Ur.discountAmount)||0)," (",((Vr=r.pricing)==null?void 0:Vr.discountPercent)||10,"% OFF)"]})]})]})]})})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"lg:sticky lg:top-8 z-10 space-y-6",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 sm:p-6 shadow-lg",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-baseline justify-between mb-2",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-3xl font-black text-primary-900 font-['DM_Sans']",children:[((qr=r.pricing)==null?void 0:qr.currency)==="INR"?"₹":"$",((Gr=(Wr=r.pricing)==null?void 0:Wr.estimated)==null?void 0:Gr.toLocaleString())||"999"]}),e.jsx("span",{className:"text-primary-600 font-['Poppins'] ml-2",children:"/person"})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-sm text-primary-500 line-through font-['Poppins']",children:[e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:"👨‍👩‍👧‍👦 Families"}),((Hr=r.suitableFor)==null?void 0:Hr.soloTravelers)&&e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:"🧳 Solo"}),((Qr=r.suitableFor)==null?void 0:Qr.groups)&&e.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:"👥 Groups"})]})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-amber-400",children:"⭐"}),e.jsx("span",{className:"font-bold text-primary-900 font-['DM_Sans']",children:((Zr=r.stats)==null?void 0:Zr.rating)||4.9}),e.jsxs("span",{className:"text-sm text-primary-600 font-['Poppins']",children:["(",((Yr=r.stats)==null?void 0:Yr.reviewCount)||127," reviews)"]})]}),e.jsx("img",{src:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=48&h=48&fit=crop&crop=face",alt:"Host",className:"w-12 h-12 rounded-full"})]})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-primary-700 mb-1 sm:mb-2 font-['DM_Sans']",children:"Start Date"}),e.jsx("input",{type:"date",className:"w-full px-2 sm:px-3 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-blue-ocean font-['Poppins'] text-sm",defaultValue:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-primary-700 mb-1 sm:mb-2 font-['DM_Sans']",children:"End Date"}),e.jsx("input",{type:"date",className:"w-full px-2 sm:px-3 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-blue-ocean font-['Poppins'] text-sm",defaultValue:new Date(Date.now()+(((Kr=r.duration)==null?void 0:Kr.days)||7)*24*60*60*1e3).toISOString().split("T")[0]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-primary-700 mb-1 sm:mb-2 font-['DM_Sans']",children:"Travelers"}),e.jsxs("select",{className:"w-full px-2 sm:px-3 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-blue-ocean font-['Poppins'] text-sm",defaultValue:"2",children:[e.jsx("option",{value:"1",children:"1 adult"}),e.jsx("option",{value:"2",children:"2 adults"}),e.jsx("option",{value:"3",children:"3 adults"}),e.jsx("option",{value:"4",children:"4 adults"}),e.jsx("option",{value:"5",children:"5 adults"}),e.jsx("option",{value:"6",children:"6 adults"}),e.jsx("option",{value:"7",children:"7 adults"}),e.jsx("option",{value:"8",children:"8 adults"})]})]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("button",{className:"w-full bg-blue-ocean text-white py-3 sm:py-4 rounded-xl font-bold font-['DM_Sans'] hover:bg-emerald transition-colors active:scale-95 touch-manipulation",children:"🔖 Save for Later"}),e.jsx("button",{onClick:T,className:"w-full bg-emerald text-white py-3 sm:py-4 rounded-xl font-bold font-['DM_Sans'] hover:bg-blue-ocean transition-colors active:scale-95 touch-manipulation text-base sm:text-lg",children:"🎆 Book Now"})]}),e.jsxs("div",{className:"space-y-2 mb-6 text-sm",children:[e.jsxs("div",{className:"flex justify-between font-['Poppins']",children:[e.jsxs("span",{children:[((Jr=r.pricing)==null?void 0:Jr.currency)==="INR"?"₹":"$",((ea=(Xr=r.pricing)==null?void 0:Xr.estimated)==null?void 0:ea.toLocaleString())||"999"," x 2 travelers"]}),e.jsxs("span",{children:[((ta=r.pricing)==null?void 0:ta.currency)==="INR"?"₹":"$",((((sa=r.pricing)==null?void 0:sa.estimated)||999)*2).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-emerald font-['Poppins']",children:[e.jsx("span",{children:"Early bird discount"}),e.jsxs("span",{children:["-",((ra=r.pricing)==null?void 0:ra.currency)==="INR"?"₹":"$",((aa=r.pricing)==null?void 0:aa.discountAmount)||300]})]}),e.jsxs("div",{className:"flex justify-between font-['Poppins']",children:[e.jsx("span",{children:"Service fee"}),e.jsxs("span",{children:[((na=r.pricing)==null?void 0:na.currency)==="INR"?"₹":"$","99"]})]}),e.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2 font-['DM_Sans']",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:[((ia=r.pricing)==null?void 0:ia.currency)==="INR"?"₹":"$",Math.max(0,(((la=r.pricing)==null?void 0:la.estimated)||999)*2-(((oa=r.pricing)==null?void 0:oa.discountAmount)||0)+99).toLocaleString()]})]})]}),e.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-emerald font-['Poppins']",children:[e.jsx("span",{children:"✅"}),e.jsx("span",{children:((ca=r.bookingInfo)==null?void 0:ca.cancellationPolicy)||"Free cancellation up to 48h"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-emerald font-['Poppins']",children:[e.jsx("span",{children:"✅"}),e.jsx("span",{children:"Best price guarantee"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-emerald font-['Poppins']",children:[e.jsx("span",{children:"✅"}),e.jsx("span",{children:(da=r.bookingInfo)!=null&&da.instantBook?"Instant confirmation":"Quick approval process"})]})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"text-sm text-primary-500 hover:text-primary-700 font-['Poppins']",children:"🚩 Report this package"})})]})})})]})})}),e.jsx("section",{className:"py-8 sm:py-12 bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-black text-primary-900 font-['DM_Sans']",children:"Guest Reviews"}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"text-center sm:text-right",children:[e.jsx("div",{className:"text-2xl sm:text-3xl font-black text-primary-900 font-['DM_Sans']",children:((ma=r.stats)==null?void 0:ma.rating)||4.9}),e.jsx("div",{className:"flex items-center justify-center sm:justify-end gap-1",children:e.jsx("div",{className:"flex text-amber-400 text-sm sm:text-base",children:e.jsx("span",{children:"⭐⭐⭐⭐⭐"})})}),e.jsxs("div",{className:"text-xs sm:text-sm text-primary-600 font-['Poppins']",children:[((ua=r.stats)==null?void 0:ua.reviewCount)||127," reviews"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow active:scale-[0.99] touch-manipulation",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=48&h=48&fit=crop&crop=face",alt:"Reviewer",className:"w-12 h-12 rounded-full"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-primary-900 font-['DM_Sans']",children:"Sarah Johnson"}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{className:"text-amber-400",children:"⭐⭐⭐⭐⭐"})})]})]}),e.jsxs("p",{className:"text-primary-600 font-['Poppins'] text-sm leading-relaxed mb-3",children:['"Absolutely incredible experience! The ',((xa=(pa=r.category)==null?void 0:pa.name)==null?void 0:xa.toLowerCase())||"adventure",' was breathtaking and the guides were fantastic. Every detail was perfectly planned."']}),e.jsx("span",{className:"text-xs text-primary-500 font-['Poppins']",children:"2 weeks ago"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=48&h=48&fit=crop&crop=face",alt:"Reviewer",className:"w-12 h-12 rounded-full"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-primary-900 font-['DM_Sans']",children:"Mike Chen"}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{className:"text-amber-400",children:"⭐⭐⭐⭐⭐"})})]})]}),e.jsxs("p",{className:"text-primary-600 font-['Poppins'] text-sm leading-relaxed mb-3",children:['"Perfect blend of ',r.travelStyle||"adventure"," and luxury. The ",((ha=r.duration)==null?void 0:ha.days)||7,'-day itinerary was well-paced and every moment was memorable. Highly recommend!"']}),e.jsx("span",{className:"text-xs text-primary-500 font-['Poppins']",children:"1 month ago"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=48&h=48&fit=crop&crop=face",alt:"Reviewer",className:"w-12 h-12 rounded-full"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-primary-900 font-['DM_Sans']",children:"Emma Wilson"}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{className:"text-amber-400",children:"⭐⭐⭐⭐⭐"})})]})]}),e.jsxs("p",{className:"text-primary-600 font-['Poppins'] text-sm leading-relaxed mb-3",children:['"Best vacation ever! The trip to ',((fa=r.primaryDestination)==null?void 0:fa.name)||((ya=(ga=r.destinations)==null?void 0:ga[0])==null?void 0:ya.name)||"this destination"," exceeded all expectations. The ",((ba=r.pricing)==null?void 0:ba.priceRange)||"luxury",' accommodations were perfect."']}),e.jsx("span",{className:"text-xs text-primary-500 font-['Poppins']",children:"3 weeks ago"})]})]}),e.jsx("div",{className:"text-center mt-6 sm:mt-8",children:e.jsxs("button",{className:"bg-white text-blue-ocean border-2 border-blue-ocean px-4 sm:px-6 py-2 sm:py-3 rounded-xl font-bold font-['DM_Sans'] hover:bg-blue-ocean hover:text-white transition-colors active:scale-95 touch-manipulation text-sm sm:text-base",children:["View all ",((va=r.stats)==null?void 0:va.reviewCount)||127," reviews"]})})]})})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-95 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[e.jsx("button",{onClick:()=>o(!1),className:"absolute top-4 right-4 text-white hover:text-gray-300 text-2xl sm:text-3xl z-10 w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center rounded-full bg-black bg-opacity-60 hover:bg-opacity-80 transition-all active:scale-90 touch-manipulation",children:"×"}),r.images&&r.images.length>1&&c>0&&e.jsx("button",{onClick:()=>m(c-1),className:"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:text-gray-300 text-4xl z-10 w-12 h-12 flex items-center justify-center rounded-full bg-black bg-opacity-50 hover:bg-opacity-70 transition-all",children:"‹"}),r.images&&r.images.length>1&&c<r.images.length-1&&e.jsx("button",{onClick:()=>m(c+1),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:text-gray-300 text-4xl z-10 w-12 h-12 flex items-center justify-center rounded-full bg-black bg-opacity-50 hover:bg-opacity-70 transition-all",children:"›"}),e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",onTouchStart:y,onTouchMove:h,onTouchEnd:f,children:[e.jsx("img",{src:(wa=(Na=(ja=r.images)==null?void 0:ja[c])==null?void 0:Na.url)!=null&&wa.startsWith("http")?dr(r.images[c].url):(ka=(Sa=r.images)==null?void 0:Sa[c])!=null&&ka.url?dr(`${$d}${r.images[c].url}`):"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop",alt:`${r.title} - Image ${c+1}`,className:"max-w-full max-h-full object-contain rounded-lg select-none",draggable:!1}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black bg-opacity-60 text-white px-3 sm:px-4 py-1 sm:py-2 rounded-full text-xs sm:text-sm font-medium",children:[c+1," / ",((Ca=r.images)==null?void 0:Ca.length)||1]}),e.jsx("div",{className:"lg:hidden absolute bottom-16 left-1/2 -translate-x-1/2 flex gap-1",children:((I=r.images)==null?void 0:I.map((ye,we)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${we===c?"bg-white":"bg-white/40"}`},we)))||Array.from({length:5},(ye,we)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${we===c?"bg-white":"bg-white/40"}`},we))})]}),r.images&&r.images.length>1&&e.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 bg-black bg-opacity-50 p-2 rounded-lg",children:r.images.map((ye,we)=>{var tt;return e.jsx("button",{onClick:()=>m(we),className:`w-12 h-12 rounded overflow-hidden border-2 transition-all ${c===we?"border-white":"border-transparent opacity-60 hover:opacity-100"}`,children:e.jsx("img",{src:(tt=ye.url)!=null&&tt.startsWith("http")?dr(ye.url):dr(`${$d}${ye.url}`),alt:`Thumbnail ${we+1}`,className:"w-full h-full object-cover"})},we)})})]})}),e.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-30 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-around py-2 border-b border-gray-100",children:[e.jsxs("button",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50 active:scale-95 touch-manipulation",children:[e.jsx("span",{className:"text-lg",children:"🗺️"}),e.jsx("span",{className:"text-xs font-medium text-primary-600 font-['DM_Sans']",children:"Map"})]}),e.jsxs("button",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50 active:scale-95 touch-manipulation",children:[e.jsx("span",{className:"text-lg",children:"📤"}),e.jsx("span",{className:"text-xs font-medium text-primary-600 font-['DM_Sans']",children:"Share"})]}),e.jsxs("button",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50 active:scale-95 touch-manipulation",children:[e.jsx("span",{className:"text-lg",children:"❤️"}),e.jsx("span",{className:"text-xs font-medium text-primary-600 font-['DM_Sans']",children:"Save"})]}),e.jsxs("button",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50 active:scale-95 touch-manipulation",children:[e.jsx("span",{className:"text-lg",children:"📞"}),e.jsx("span",{className:"text-xs font-medium text-primary-600 font-['DM_Sans']",children:"Call"})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4 p-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-xl font-black text-primary-900 font-['DM_Sans']",children:[((Q=r.pricing)==null?void 0:Q.currency)==="INR"?"₹":"$",((Ce=(pe=r.pricing)==null?void 0:pe.estimated)==null?void 0:Ce.toLocaleString())||"999"]}),e.jsx("span",{className:"text-sm text-primary-600 font-['Poppins']",children:"/person"})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-primary-500",children:[e.jsx("span",{className:"text-amber-400",children:"⭐"}),e.jsx("span",{children:((He=r.stats)==null?void 0:He.rating)||4.9}),e.jsxs("span",{children:["(",((Re=r.stats)==null?void 0:Re.reviewCount)||127,")"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"bg-blue-ocean text-white px-4 py-3 rounded-xl font-bold font-['DM_Sans'] hover:bg-emerald transition-colors active:scale-95 touch-manipulation text-sm",children:"🔖 Save"}),e.jsx("button",{onClick:T,className:"bg-emerald text-white px-6 py-3 rounded-xl font-bold font-['DM_Sans'] hover:bg-blue-ocean transition-colors active:scale-95 touch-manipulation flex items-center gap-2",children:"🎆 Book"})]})]})]})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#FCFCFD] to-white px-4",children:e.jsxs("div",{className:"text-center max-w-md mx-auto",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-8 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-4xl",children:g?"⚠️":"🏔️"})}),e.jsx("h2",{className:"text-3xl sm:text-4xl font-black text-[#23262F] mb-4 font-['DM_Sans'] leading-tight",children:g?"Connection Error":"Trip Not Found"}),e.jsx("p",{className:"text-[#777E90] mb-8 font-['Poppins'] text-base leading-relaxed",children:g||"The trip you're looking for doesn't exist or has been removed."}),e.jsxs("div",{className:"space-y-4",children:[g&&e.jsx("button",{onClick:()=>{u(null),v()},className:"w-full bg-[#58C27D] text-white py-4 rounded-2xl font-bold font-['DM_Sans'] hover:bg-[#3B71FE] transition-all duration-300 hover:shadow-lg active:scale-95 touch-manipulation",children:"🔄 Try Again"}),e.jsx("button",{onClick:()=>s("/trips"),className:"w-full bg-[#3B71FE] text-white py-4 rounded-2xl font-bold font-['DM_Sans'] hover:bg-[#58C27D] transition-all duration-300 hover:shadow-lg active:scale-95 touch-manipulation",children:"Browse All Trips"}),e.jsx("button",{onClick:()=>s(-1),className:"w-full text-[#777E90] py-4 font-medium font-['DM_Sans'] hover:text-[#23262F] transition-colors active:scale-95 touch-manipulation",children:"← Go Back"})]})]})})},el=Ke.BASE_URL.replace("/api",""),k4=()=>{var ae,me,F,ee,ue,S,ne,Z,K,se,be,Se,Ae,Le,Te,Fe,Me,Be,$e,A,z,w,W,B,k,L,ce,xe,ie,le,te,ve,Oe,Ie,Je,ct,Lt,Tt,ls,Mt,At,Jt,os,Ne,Xt,Br,zr,Ur,Vr,qr,Wr,Gr,Hr,Qr,Zr,Yr,Kr,Jr,Xr,ea,ta,sa,ra,aa,na,ia,la,oa,ca,da,ma,ua,pa,xa,ha,fa,ga,ya,ba,va,ja,Na,wa,Sa,ka,Ca;const{id:t}=tr(),s=rt(),{isAuthenticated:r}=Ps(),[a,i]=b.useState(!1),[n,l]=b.useState(null),[o,c]=b.useState(!0),[m,d]=b.useState(!0),[x,p]=b.useState(new Set),[j,g]=b.useState(0);b.useEffect(()=>{if(Array.isArray(n==null?void 0:n.images)&&n.images.length>0){const I=n.images.length-1;j>I&&g(0)}else g(0)},[(ae=n==null?void 0:n.images)==null?void 0:ae.length,j]);const[u,y]=b.useState(!1),[h,f]=b.useState(2),[v,T]=b.useState(new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0]),[P,R]=b.useState(new Date(Date.now()+8*24*60*60*1e3).toISOString().split("T")[0]),[O,U]=b.useState(""),[C,q]=b.useState([]),[X,N]=b.useState(!1),[D,G]=b.useState([]);b.useEffect(()=>{t&&$()},[t]),b.useEffect(()=>{if(r&&a){i(!1);const I=(n==null?void 0:n._id)||(n==null?void 0:n.id);I&&s(`/trip-booking/${I}`)}},[r,a,n,s]);const $=async()=>{var I;if(t){c(!0);try{const Q=await et.get(`/trips/${t}`);if(Q.success){const pe=Q.data.trip||Q.data;if(l(pe),(I=pe.duration)!=null&&I.days){const Ce=new Date(v),He=new Date(Ce.getTime()+pe.duration.days*24*60*60*1e3);R(He.toISOString().split("T")[0])}}else console.error("API returned error:",Q.error)}catch(Q){console.error("Failed to load trip details:",Q)}finally{c(!1)}}},J=b.useCallback(C4(I=>{I.length>=2?E(I):(q([]),N(!1))},300),[n==null?void 0:n._id]);b.useEffect(()=>()=>{J.cancel&&J.cancel(),q([]),N(!1)},[J]);const E=I=>{var He,Re;const Q=I.toLowerCase(),pe=[];n!=null&&n.destinations&&n.destinations.forEach(ye=>{var we;(we=ye.name)!=null&&we.toLowerCase().includes(Q)&&pe.push(`📍 ${ye.name}`)}),(Re=(He=n==null?void 0:n.category)==null?void 0:He.name)!=null&&Re.toLowerCase().includes(Q)&&pe.push(`${n.category.icon} ${n.category.name}`),n!=null&&n.itinerary&&n.itinerary.forEach(ye=>{var we;(we=ye.activities)==null||we.forEach(tt=>{var Nt;(Nt=tt.title)!=null&&Nt.toLowerCase().includes(Q)&&pe.push(`🎯 ${tt.title}`)})}),["Similar trips","Same destination","Same category","Customize trip"].forEach(ye=>{ye.toLowerCase().includes(Q)&&pe.push(`🔍 ${ye}`)}),q([...new Set(pe)].slice(0,6)),N(!0)},_=I=>{I.preventDefault(),O.trim()&&s(`/trips?search=${encodeURIComponent(O.trim())}`)},H=I=>{var pe,Ce,He,Re;const Q=I.replace(/^[📍🎯🔍]\s/,"");s(Q==="Similar trips"?`/trips?category=${((pe=n==null?void 0:n.category)==null?void 0:pe.name)||""}&destination=${((Ce=n==null?void 0:n.primaryDestination)==null?void 0:Ce.name)||""}`:Q==="Same destination"?`/trips?destination=${((He=n==null?void 0:n.primaryDestination)==null?void 0:He.name)||""}`:Q==="Same category"?`/trips?category=${((Re=n==null?void 0:n.category)==null?void 0:Re.name)||""}`:Q==="Customize trip"?`/trips/${t}/customize`:`/trips?search=${encodeURIComponent(Q)}`),N(!1)},V=b.useMemo(()=>{var I,Q,pe,Ce,He;try{const Re=new Date(v),ye=new Date(P);if(isNaN(Re.getTime())||isNaN(ye.getTime())||ye<=Re)return 798.97;const we=Math.max(1,Math.ceil((ye.getTime()-Re.getTime())/(1e3*60*60*24))),tt=Math.max(1,((I=n==null?void 0:n.duration)==null?void 0:I.days)||5);if(tt<=0)return 798.97;const Nt=Math.max(1,Math.ceil(we/tt)),zt=Math.max(0,((Q=n==null?void 0:n.pricing)==null?void 0:Q.finalPrice)||((pe=n==null?void 0:n.pricing)==null?void 0:pe.estimated)||699.97),Os=Math.max(1,Math.min(h,((Ce=n==null?void 0:n.groupSize)==null?void 0:Ce.max)||20));if(zt<0)return 798.97;const fr=Math.round(zt*Nt*Os*100)/100,Bs=99,gr=Math.max(0,((He=n==null?void 0:n.pricing)==null?void 0:He.discountAmount)||0),Es=Math.max(Bs,fr+Bs-gr);return Math.round(Es*100)/100}catch(Re){return console.error("Price calculation error:",Re),798.97}},[v,P,h,(me=n==null?void 0:n.duration)==null?void 0:me.days,(F=n==null?void 0:n.pricing)==null?void 0:F.finalPrice,(ee=n==null?void 0:n.pricing)==null?void 0:ee.estimated,(ue=n==null?void 0:n.pricing)==null?void 0:ue.discountAmount,(S=n==null?void 0:n.groupSize)==null?void 0:S.max]);return o?e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#FCFCFD] to-white",children:[e.jsx("nav",{className:"bg-white/95 backdrop-blur-sm border-b border-[#E6E8EC]",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"w-24 h-8 bg-gray-200 rounded-full animate-pulse"}),e.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[e.jsx("div",{className:"w-12 h-4 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"w-2 h-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"w-16 h-4 bg-gray-200 rounded animate-pulse"})]})]})})}),e.jsxs("div",{className:"animate-pulse",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-8 lg:h-12 bg-gray-200 rounded-lg w-3/4 mb-4"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-16 h-6 bg-gray-200 rounded-full"}),e.jsx("div",{className:"w-20 h-6 bg-gray-200 rounded-full"}),e.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full"})]})]}),e.jsxs("div",{className:"w-full h-[300px] sm:h-[400px] lg:h-[500px] flex gap-4",children:[e.jsxs("div",{className:"flex-1 bg-gray-200 rounded-2xl relative",children:[e.jsx("div",{className:"absolute bottom-4 left-4 w-32 h-8 bg-white/20 rounded-full"}),e.jsx("div",{className:"absolute bottom-4 right-4 w-16 h-6 bg-black/20 rounded-full"})]}),e.jsxs("div",{className:"hidden lg:flex flex-col gap-3 w-[200px]",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-xl"}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-xl"}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-xl"})]})]})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("div",{className:"w-full lg:w-2/3 space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded-lg w-1/2"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/5"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded-lg w-1/3"}),[1,2,3].map(I=>e.jsxs("div",{className:"bg-white border border-[#E6E8EC] rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]},I))]})]}),e.jsx("div",{className:"w-full lg:w-1/3",children:e.jsxs("div",{className:"bg-[#FCFCFD] border border-[#E6E8EC] rounded-3xl p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-baseline gap-3 mb-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-20"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-12"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"})]}),e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full"})]})]}),e.jsxs("div",{className:"bg-[#F4F5F6] rounded-2xl p-6 mb-8",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-16 mb-2"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-16 mb-2"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-12 mb-2"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded-lg"})]})]}),e.jsxs("div",{className:"flex gap-2 mb-8",children:[e.jsx("div",{className:"w-20 h-12 bg-gray-200 rounded-3xl"}),e.jsx("div",{className:"flex-1 h-12 bg-gray-200 rounded-3xl"})]})]})})]})})]}),e.jsx("div",{className:"fixed bottom-8 right-8 bg-white shadow-lg rounded-full p-4 border border-[#E6E8EC]",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-[#3B71FE] border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium text-[#777E90] font-['Poppins']",children:"Loading trip details..."})]})})]}):n?e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#FCFCFD] to-white",children:[e.jsx("nav",{className:"bg-white/95 backdrop-blur-sm border-b border-[#E6E8EC]",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsxs("button",{onClick:()=>s("/"),className:"flex items-center gap-2 bg-white border border-[#E6E8EC] px-3 py-2 rounded-full hover:border-[#3B71FE] transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),e.jsx("span",{className:"hidden sm:inline font-bold text-[#23262F] font-['DM_Sans']",children:"Go home"})]}),e.jsx("div",{className:"flex-1 max-w-md mx-4 relative hidden sm:block",children:e.jsxs("form",{onSubmit:_,className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search similar trips...",value:O,onChange:I=>{const Q=I.target.value.replace(/[<>"'&]/g,"").substring(0,100);U(Q),Q.length>=2?J(Q):N(!1)},onKeyDown:I=>{I.key==="Escape"&&(N(!1),I.currentTarget.blur())},onFocus:()=>{O.length>=2&&E(O)},onBlur:()=>{setTimeout(()=>N(!1),200)},className:"w-full pl-10 pr-4 py-2 border border-[#E6E8EC] rounded-full focus:ring-2 focus:ring-[#3B71FE] focus:border-[#3B71FE] transition-all text-sm font-['Poppins'] placeholder:text-[#B1B5C3]",maxLength:100,autoComplete:"off",role:"searchbox","aria-label":"Search similar trips","aria-expanded":X,"aria-haspopup":"listbox"}),e.jsx("button",{type:"submit",className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#B1B5C3] hover:text-[#3B71FE] transition-colors","aria-label":"Search",children:"🔍"}),O&&e.jsx("button",{type:"button",onClick:()=>{U(""),N(!1)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#B1B5C3] hover:text-[#777E90] text-sm","aria-label":"Clear search",children:"✕"}),X&&C.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-[#E6E8EC] rounded-xl shadow-xl z-50 max-h-48 overflow-y-auto",role:"listbox","aria-label":"Search suggestions",children:C.map((I,Q)=>e.jsx("button",{type:"button",onClick:()=>H(I),onKeyDown:pe=>{(pe.key==="Enter"||pe.key===" ")&&(pe.preventDefault(),H(I))},className:"w-full px-3 py-2 text-left hover:bg-[#F4F5F6] focus:bg-[#F4F5F6] transition-colors font-['Poppins'] text-[#23262F] border-b border-[#E6E8EC] last:border-b-0 text-sm focus:outline-none",role:"option","aria-selected":!1,children:Ys(I)},Q))})]})}),e.jsxs("div",{className:"hidden md:flex items-center gap-2 text-xs lg:text-sm font-bold font-['DM_Sans']",children:[e.jsx("button",{onClick:()=>s("/"),className:"text-[#777E90] hover:text-[#3B71FE] transition-colors",children:"Home"}),e.jsx("svg",{className:"w-2 h-2 text-[#777E90]",fill:"currentColor",viewBox:"0 0 6 10",children:e.jsx("path",{d:"M1 1l4 4-4 4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("button",{onClick:()=>s("/trips"),className:"text-[#777E90] hover:text-[#3B71FE] transition-colors",children:"Trips"}),e.jsx("svg",{className:"w-2 h-2 text-[#777E90]",fill:"currentColor",viewBox:"0 0 6 10",children:e.jsx("path",{d:"M1 1l4 4-4 4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsxs("span",{className:"text-[#777E90]",children:[(()=>{var I,Q,pe;return(I=n==null?void 0:n.primaryDestination)!=null&&I.name?n.primaryDestination.name:Array.isArray(n==null?void 0:n.destinations)&&n.destinations.length>0?((Q=n.destinations[0])==null?void 0:Q.name)||"Destination":Array.isArray(n==null?void 0:n.countries)&&n.countries.length>0?((pe=n.countries[0])==null?void 0:pe.name)||"Destination":"Multiple Destinations"})(),Array.isArray(n==null?void 0:n.destinations)&&n.destinations.length>1&&e.jsxs("span",{className:"text-xs ml-1 opacity-75",children:["+",n.destinations.length-1," more"]}),(()=>{const Q=(Array.isArray(n==null?void 0:n.countries)?n.countries:[]).length,pe=Array.isArray(n==null?void 0:n.destinations)&&n.destinations.length>0;return Q>1&&!pe?e.jsxs("span",{className:"text-xs ml-1 opacity-75",children:["+",Q-1," countries"]}):null})()]}),e.jsx("svg",{className:"w-2 h-2 text-[#777E90]",fill:"currentColor",viewBox:"0 0 6 10",children:e.jsx("path",{d:"M1 1l4 4-4 4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("span",{className:"text-[#B1B5C3]",title:(n==null?void 0:n.title)||"Trip Details",children:(()=>{var Q;const I=((Q=n==null?void 0:n.title)==null?void 0:Q.replace(/<[^>]*>/g,""))||"Trip Details";return I.length>12?`${I.substring(0,12)}...`:I})()})]})]})})}),e.jsx("section",{className:"relative",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 py-4 lg:py-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4 lg:gap-6 mb-4 lg:mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold text-[#23262F] mb-3 lg:mb-4 font-['DM_Sans'] leading-tight",children:Ys((n==null?void 0:n.title)||"Trip Details")}),e.jsxs("div",{className:"flex items-center flex-wrap gap-2 lg:gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"text-[#FFD166] text-sm",children:"⭐"}),e.jsx("span",{className:"font-medium text-[#23262F] font-['Poppins'] text-sm",children:((ne=n.stats)==null?void 0:ne.rating)||"New"}),((Z=n.stats)==null?void 0:Z.reviewCount)>0&&e.jsxs("span",{className:"hidden sm:inline text-[#777E90] font-['Poppins'] text-sm",children:["(",n.stats.reviewCount," reviews)"]})]}),n.featured&&e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-[#58C27D] text-white rounded-full",children:[e.jsx("span",{className:"text-white text-xs",children:"🏆"}),e.jsx("span",{className:"text-white font-['Poppins'] text-xs font-medium",children:"Featured"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-[#F4F5F6] rounded-full",children:[e.jsx("span",{className:"text-[#777E90] text-xs",children:"📍"}),e.jsxs("span",{className:"text-[#777E90] font-['Poppins'] text-xs",children:[((K=n.primaryDestination)==null?void 0:K.name)||((be=(se=n.destinations)==null?void 0:se[0])==null?void 0:be.name)||((Ae=(Se=n.countries)==null?void 0:Se[0])==null?void 0:Ae.name)||"Amazing Destination",n.destinations&&n.destinations.length>1&&e.jsxs("span",{className:"ml-1",children:["& ",n.destinations.length-1," more"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 self-start",children:[e.jsx("button",{className:"w-8 h-8 lg:w-9 lg:h-9 bg-white border border-[#E6E8EC] rounded-full flex items-center justify-center hover:border-[#3B71FE] transition-colors","aria-label":"View on map",title:"View on map",children:e.jsx("span",{className:"text-[#777E90] text-xs lg:text-sm",children:"📍"})}),e.jsx("button",{className:"w-8 h-8 lg:w-9 lg:h-9 bg-white border border-[#E6E8EC] rounded-full flex items-center justify-center hover:border-[#3B71FE] transition-colors","aria-label":"Share trip",title:"Share trip",children:e.jsx("span",{className:"text-[#777E90] text-xs lg:text-sm",children:"📤"})}),e.jsx("button",{className:"w-8 h-8 lg:w-9 lg:h-9 bg-white border border-[#E6E8EC] rounded-full flex items-center justify-center hover:border-[#3B71FE] transition-colors","aria-label":"Add to favorites",title:"Add to favorites",children:e.jsx("span",{className:"text-[#777E90] text-xs lg:text-sm",children:"❤️"})})]})]}),e.jsxs("div",{className:"w-full h-[300px] sm:h-[400px] lg:h-[500px] xl:h-[600px] flex gap-2 lg:gap-4 relative",children:[e.jsxs("div",{className:"flex-1 relative group",children:[e.jsxs("div",{className:"relative w-full h-full",children:[m&&e.jsx("div",{className:"absolute inset-0 bg-gray-200 rounded-2xl animate-pulse flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-2 border-[#3B71FE] border-t-transparent rounded-full animate-spin"})}),e.jsx("img",{src:(Te=(Le=n.images)==null?void 0:Le[j])!=null&&Te.url?n.images[j].url.startsWith("http")?dr(n.images[j].url):`${el}${n.images[j].url}`:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop",alt:((Me=(Fe=n.images)==null?void 0:Fe[j])==null?void 0:Me.alt)||n.title,className:`w-full h-full object-cover rounded-2xl shadow-lg transition-opacity duration-300 ${m?"opacity-0":"opacity-100"}`,onLoad:()=>d(!1),onError:I=>{d(!1),I.currentTarget.src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop"}})]}),n.images&&n.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>g(j>0?j-1:n.images.length-1),className:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg opacity-0 group-hover:opacity-100 transition-opacity hover:bg-white",children:e.jsx("svg",{className:"w-5 h-5 text-[#23262F]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:()=>g(j<n.images.length-1?j+1:0),className:"absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg opacity-0 group-hover:opacity-100 transition-opacity hover:bg-white",children:e.jsx("svg",{className:"w-5 h-5 text-[#23262F]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsxs("button",{onClick:()=>y(!0),className:"absolute bottom-4 left-4 bg-white/90 backdrop-blur-sm text-[#23262F] px-4 py-2 rounded-full font-bold font-['DM_Sans'] text-sm hover:bg-white transition-colors flex items-center gap-2 shadow-lg",children:[e.jsx("span",{className:"text-sm",children:"🖼️"}),e.jsx("span",{children:"Show all photos"})]}),e.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm font-['Poppins']",children:[j+1," / ",((Be=n.images)==null?void 0:Be.length)||1]})]}),e.jsx("div",{className:"hidden lg:flex flex-col gap-2 lg:gap-3 w-[160px] lg:w-[200px]",children:((($e=n.images)==null?void 0:$e.length)>0?n.images.slice(0,3):[{url:"https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=200&h=180&fit=crop",alt:"Travel destination"},{url:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=200&h=180&fit=crop",alt:"Beautiful landscape"},{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=200&h=180&fit=crop",alt:"Adventure scene"}]).map((I,Q)=>{var pe;return e.jsxs("button",{className:"flex-1 relative group focus:outline-none focus:ring-2 focus:ring-[#3B71FE] rounded-xl",onClick:()=>{g(Q),d(!0)},onKeyDown:Ce=>{(Ce.key==="Enter"||Ce.key===" ")&&(Ce.preventDefault(),g(Q),d(!0))},"aria-label":`View image ${Q+1}`,children:[e.jsx("img",{src:typeof I=="string"?I:(pe=I.url)!=null&&pe.startsWith("http")?dr(I.url):`${el}${I.url}`,alt:typeof I=="string"?`${n.title} ${Q+1}`:I.alt||`${n.title} ${Q+1}`,className:`w-full h-full object-cover rounded-xl transition-all duration-200 ${j===Q?"ring-2 ring-[#3B71FE] shadow-lg":"hover:shadow-md hover:scale-[1.02] shadow-sm"}`,onError:Ce=>{Ce.currentTarget.src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=200&h=180&fit=crop"},loading:"lazy"}),j===Q&&e.jsx("div",{className:"absolute inset-0 bg-[#3B71FE]/10 rounded-xl pointer-events-none"})]},Q)})})]})]})}),e.jsx("section",{className:"py-8 lg:py-12 border-b border-[#E6E8EC]",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 lg:px-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-8",children:[e.jsxs("div",{className:"w-full lg:w-2/3 space-y-6 lg:space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-[#23262F] mb-3 font-['DM_Sans'] leading-tight",children:((A=n.category)==null?void 0:A.name)||"Adventure Trip"}),e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx("span",{className:"text-[#777E90] font-['Poppins'] text-sm leading-6",children:"Organized by"}),e.jsx("span",{className:"font-medium text-[#23262F] font-['Poppins'] text-base leading-6",children:We.APP_NAME}),e.jsx("span",{className:"px-2 py-1 bg-[#58C27D] text-white rounded-full text-xs font-medium",children:"Verified"})]}),e.jsxs("div",{className:"border-t border-[#E6E8EC] pt-3 lg:pt-4 flex flex-wrap gap-3 lg:gap-4 mb-6 lg:mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[#777E90] text-base",children:"👥"}),e.jsxs("span",{className:"text-[#777E90] font-['Poppins'] text-sm",children:[((z=n.groupSize)==null?void 0:z.min)||1,"-",((w=n.groupSize)==null?void 0:w.max)||20," guests"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[#777E90] text-base",children:"📅"}),e.jsxs("span",{className:"text-[#777E90] font-['Poppins'] text-sm",children:[((W=n.duration)==null?void 0:W.days)||5," days, ",((B=n.duration)==null?void 0:B.nights)||4," nights"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[#777E90] text-base",children:"🏨"}),e.jsxs("span",{className:"text-[#777E90] font-['Poppins'] text-sm capitalize",children:[((k=n.pricing)==null?void 0:k.priceRange)||"Quality"," accommodation"]})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#777E90] font-['Poppins'] text-sm lg:text-base leading-relaxed mb-4 lg:mb-6",children:Ys(n.description)}),e.jsxs("div",{className:"text-[#777E90] font-['Poppins'] text-sm lg:text-base leading-relaxed mb-4 lg:mb-6",children:["This ",(()=>{var pe;const I=["adventure","luxury","cultural","relaxed","business"],Q=(pe=n==null?void 0:n.travelStyle)==null?void 0:pe.toLowerCase();return I.includes(Q)?Q:"adventure"})()," experience offers ",(()=>{var pe;const I=["easy","moderate","challenging"],Q=(pe=n==null?void 0:n.difficulty)==null?void 0:pe.toLowerCase();return I.includes(Q)?Q:"easy"})()," activities perfect for ",(L=n==null?void 0:n.suitableFor)!=null&&L.couples?"couples":"",(ce=n==null?void 0:n.suitableFor)!=null&&ce.families?(xe=n==null?void 0:n.suitableFor)!=null&&xe.couples?" and families":"families":"",". Best time to visit: ",Array.isArray((le=(ie=n==null?void 0:n.travelInfo)==null?void 0:ie.bestTimeToVisit)==null?void 0:le.months)?n.travelInfo.bestTimeToVisit.months.join(", "):"Year-round","."]}),(n.primaryDestination||((te=n.destinations)==null?void 0:te.length)>0)&&e.jsxs("div",{className:"mb-4 lg:mb-6 bg-[#F4F5F6] rounded-xl p-4",children:[e.jsx("h4",{className:"font-bold text-[#23262F] mb-3 font-['DM_Sans'] text-sm lg:text-base flex items-center gap-2",children:"🗺️ Trip Destinations"}),e.jsxs("div",{className:"space-y-2",children:[n.primaryDestination&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-2 py-1 bg-[#3B71FE] text-white rounded-full text-xs font-medium",children:"Primary"}),e.jsx("span",{className:"text-[#23262F] font-['Poppins'] text-sm font-medium",children:n.primaryDestination.name})]}),(Array.isArray(n==null?void 0:n.destinations)?n.destinations:[]).filter((pe,Ce,He)=>{var we;const Re=He.findIndex(tt=>tt._id===pe._id)!==Ce,ye=pe._id===((we=n==null?void 0:n.primaryDestination)==null?void 0:we._id);return!Re&&!ye}).map((pe,Ce)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"px-2 py-1 bg-[#58C27D]/20 text-[#58C27D] rounded-full text-xs font-medium",children:["Stop ",Ce+1]}),e.jsx("span",{className:"text-[#777E90] font-['Poppins'] text-sm",children:(pe==null?void 0:pe.name)||"Destination"})]},`dest-${pe._id}-${Ce}-${pe.name||"unknown"}`)),((ve=n.countries)==null?void 0:ve.length)>0&&e.jsxs("div",{className:"mt-3 pt-2 border-t border-[#E6E8EC]",children:[e.jsx("span",{className:"text-xs text-[#777E90] font-['Poppins'] block mb-1",children:"Countries visited:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:n.countries.map((I,Q)=>e.jsx("span",{className:"px-2 py-0.5 bg-white text-[#777E90] rounded text-xs",children:typeof I=="string"?`Country ${Q+1}`:(I==null?void 0:I.name)||`Country ${Q+1}`},`country-${typeof I=="string"?I:I._id||"unknown"}-${Q}`))})]})]})]}),Array.isArray(n==null?void 0:n.highlights)&&n.highlights.length>0&&e.jsxs("div",{className:"mb-4 lg:mb-6",children:[e.jsx("h4",{className:"font-bold text-[#23262F] mb-2 lg:mb-3 font-['DM_Sans'] text-sm lg:text-base",children:"Trip Highlights"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.highlights.slice(0,5).map((I,Q)=>e.jsxs("span",{className:"px-2 lg:px-3 py-1 bg-[#58C27D]/10 text-[#58C27D] rounded-full text-xs lg:text-sm font-medium",children:["✨ ",typeof I=="string"?I:"Highlight"]},`highlight-${Q}`))})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl lg:text-2xl font-bold text-[#23262F] mb-4 lg:mb-6 font-['DM_Sans']",children:"Daily Itinerary"}),Array.isArray(n==null?void 0:n.itinerary)&&n.itinerary.length>0?e.jsx("div",{className:"space-y-3 lg:space-y-4",children:n.itinerary.map((I,Q)=>{var pe,Ce,He;return e.jsxs("div",{className:"bg-white border border-[#E6E8EC] rounded-xl lg:rounded-2xl p-4 lg:p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 lg:gap-4 mb-3 lg:mb-4",children:[e.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-gradient-to-r from-[#3B71FE] to-[#58C27D] text-white rounded-full flex items-center justify-center font-bold font-['DM_Sans'] text-sm lg:text-base shadow-lg",children:I.day||Q+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base lg:text-lg font-bold text-[#23262F] font-['DM_Sans'] leading-tight",children:I.title||`Day ${I.day||Q+1}`}),(I.locationName||I.location)&&e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:"text-xs lg:text-sm text-[#58C27D] font-['Poppins'] font-medium",children:["📍 ",I.locationName||I.location]}),I.locationName&&I.locationName!==((pe=n.primaryDestination)==null?void 0:pe.name)&&e.jsx("span",{className:"text-xs bg-[#FFD166]/20 text-[#FFD166] px-2 py-0.5 rounded-full font-medium",children:"Local Stop"})]})]})]}),I.description&&e.jsx("p",{className:"text-[#777E90] font-['Poppins'] text-sm lg:text-base mb-3 lg:mb-4 leading-relaxed",children:I.description}),Array.isArray(I==null?void 0:I.activities)&&I.activities.length>0?e.jsxs("div",{className:"mb-3 lg:mb-4",children:[e.jsx("h5",{className:"font-bold text-[#23262F] font-['DM_Sans'] mb-2 text-sm lg:text-base",children:"Activities"}),e.jsx("div",{className:"space-y-2 lg:space-y-3",children:I.activities.map((Re,ye)=>{var we,tt;return e.jsx("div",{className:"bg-[#F4F5F6] rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-[#58C27D] text-sm mt-0.5",children:"✓"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-[#23262F] font-['Poppins'] text-sm font-medium",children:Re.customTitle||Re.title}),(Re==null?void 0:Re.time)&&e.jsxs("span",{className:"text-[#777E90] font-['Poppins'] text-xs bg-white px-2 py-0.5 rounded border border-[#E6E8EC]",children:["⏰ ",typeof Re.time=="string"&&Re.time.match(/^\d{1,2}:\d{2}$/)?Re.time:"Time TBD"]}),Re.type&&e.jsx("span",{className:"text-[#3B71FE] font-['Poppins'] text-xs bg-[#3B71FE]/10 px-2 py-0.5 rounded capitalize",children:Re.type})]}),Re.description&&e.jsx("p",{className:"text-[#777E90] font-['Poppins'] text-xs leading-relaxed mb-1",children:Re.description}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[Re.location&&e.jsxs("span",{className:"text-[#777E90] font-['Poppins'] flex items-center gap-1",children:["📍 ",Re.location]}),((we=Re.estimatedCost)==null?void 0:we.amount)>0&&e.jsxs("span",{className:"text-[#58C27D] font-['Poppins'] font-medium bg-[#58C27D]/10 px-2 py-1 rounded",children:[(Re.estimatedCost.currency||((tt=n.pricing)==null?void 0:tt.currency))==="INR"?"₹":"$",Re.estimatedCost.amount,Re.estimatedCost.perPerson?"/person":""]})]})]})]})},ye)})})]}):e.jsxs("div",{className:"mb-3 lg:mb-4 p-3 bg-[#F4F5F6] rounded-lg border border-[#E6E8EC]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-[#3B71FE]",children:"📝"}),e.jsx("span",{className:"text-[#23262F] font-['DM_Sans'] font-medium text-sm",children:"Activities Coming Soon"})]}),e.jsxs("div",{className:"text-[#777E90] font-['Poppins'] text-sm leading-relaxed",children:["Our travel experts are crafting amazing ",((He=(Ce=n.category)==null?void 0:Ce.name)==null?void 0:He.toLowerCase())||"adventure"," experiences for Day ",I.day||Q+1,".",e.jsx("div",{className:"text-[#3B71FE] font-medium",children:"Check back soon for updates!"})]})]}),Array.isArray(I==null?void 0:I.tips)&&I.tips.length>0&&e.jsxs("div",{className:"mt-3 lg:mt-4 p-3 bg-[#FFD166]/10 rounded-lg",children:[e.jsx("h6",{className:"font-bold text-[#23262F] font-['DM_Sans'] text-sm mb-2",children:"💡 Tips"}),e.jsx("ul",{className:"text-[#777E90] font-['Poppins'] text-xs lg:text-sm space-y-1 leading-relaxed",children:I.tips.map((Re,ye)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-[#FFD166] mt-0.5",children:"•"}),e.jsx("span",{className:"flex-1",children:typeof Re=="string"?Re:"Travel tip"})]},`tip-${ye}`))})]})]},`day-${(I==null?void 0:I.day)||Q}-${(I==null?void 0:I._id)||Q}`)})}):e.jsx("div",{className:"space-y-3 lg:space-y-4",children:Array.from({length:((Oe=n.duration)==null?void 0:Oe.days)||5},(I,Q)=>{var pe,Ce;return e.jsxs("div",{className:"bg-[#F4F5F6] rounded-xl lg:rounded-2xl p-4 lg:p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 lg:gap-4 mb-3",children:[e.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-[#B1B5C3] text-white rounded-full flex items-center justify-center font-bold font-['DM_Sans'] text-sm lg:text-base",children:Q+1}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"text-base lg:text-lg font-bold text-[#23262F] font-['DM_Sans'] leading-tight",children:["Day ",Q+1," - Itinerary Coming Soon"]}),e.jsx("span",{className:"text-xs lg:text-sm text-[#777E90] font-['Poppins'] mt-1 block",children:"Our travel experts are crafting detailed activities"})]})]}),e.jsxs("p",{className:"text-[#777E90] font-['Poppins'] text-sm leading-relaxed",children:["Exciting ",n.travelStyle||"cultural"," experiences and ",((Ce=(pe=n.category)==null?void 0:pe.name)==null?void 0:Ce.toLowerCase())||"adventure"," activities planned for this day."]})]},Q)})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl lg:text-2xl font-bold text-[#23262F] mb-4 lg:mb-6 font-['DM_Sans']",children:"What's Included"}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 lg:gap-4 mb-6 lg:mb-8",children:[e.jsxs("div",{className:"flex items-start gap-3 text-[#777E90] font-['Poppins'] text-sm",children:[e.jsx("span",{className:"text-[#58C27D] mt-0.5",children:"✓"}),e.jsxs("span",{className:"flex-1",children:["🏨 ",((Ie=n.pricing)==null?void 0:Ie.priceRange)||"Quality"," accommodation (",((Je=n.duration)==null?void 0:Je.nights)||4," nights)"]})]}),(Lt=(ct=n.includedServices)==null?void 0:ct.transport)==null?void 0:Lt.map((I,Q)=>e.jsxs("div",{className:"flex items-start gap-3 text-[#777E90] font-['Poppins'] text-sm",children:[e.jsx("span",{className:"text-[#58C27D] mt-0.5",children:"✓"}),e.jsxs("span",{className:"flex-1",children:["🚐 ",I]})]},`transport-${Q}`)),(ls=(Tt=n.includedServices)==null?void 0:Tt.meals)==null?void 0:ls.map((I,Q)=>e.jsxs("div",{className:"flex items-start gap-3 text-[#777E90] font-['Poppins'] text-sm",children:[e.jsx("span",{className:"text-[#58C27D] mt-0.5",children:"✓"}),e.jsxs("span",{className:"flex-1",children:["🍽️ ",I]})]},`meal-${Q}`)),((Mt=n.includedServices)==null?void 0:Mt.guides)&&e.jsxs("div",{className:"flex items-start gap-3 text-[#777E90] font-['Poppins'] text-sm",children:[e.jsx("span",{className:"text-[#58C27D] mt-0.5",children:"✓"}),e.jsx("span",{className:"flex-1",children:"👨🏫 Professional Guide"})]}),(At=n.includes)==null?void 0:At.slice(0,4).map((I,Q)=>e.jsxs("div",{className:"flex items-start gap-3 text-[#777E90] font-['Poppins'] text-sm",children:[e.jsx("span",{className:"text-[#58C27D] mt-0.5",children:"✓"}),e.jsx("span",{className:"flex-1",children:I})]},`include-${Q}`))]}),((Jt=n.excludes)==null?void 0:Jt.length)>0&&e.jsxs("div",{className:"mt-6 lg:mt-8",children:[e.jsx("h4",{className:"text-base lg:text-lg font-bold text-[#23262F] mb-3 lg:mb-4 font-['DM_Sans']",children:"What's NOT Included"}),e.jsx("div",{className:"grid grid-cols-1 gap-3 lg:gap-4",children:n.excludes.slice(0,6).map((I,Q)=>e.jsxs("div",{className:"flex items-start gap-3 text-[#777E90] font-['Poppins'] text-sm",children:[e.jsx("span",{className:"text-red-500 mt-0.5",children:"✗"}),e.jsx("span",{className:"flex-1",children:I})]},Q))})]})]})]}),e.jsx("div",{className:"w-full lg:w-1/3 mt-6 lg:mt-0",children:e.jsxs("div",{className:"lg:sticky lg:top-8 bg-[#FCFCFD] border border-[#E6E8EC] rounded-2xl lg:rounded-3xl p-4 lg:p-8 shadow-lg lg:shadow-[0px_64px_64px_-48px_rgba(15,15,15,0.08)]",children:[e.jsx("div",{className:"mb-6 lg:mb-8",children:e.jsxs("div",{className:"flex items-baseline gap-2 lg:gap-3 mb-2",children:[((os=n.pricing)==null?void 0:os.discountAmount)>0&&e.jsxs("span",{className:"text-lg lg:text-2xl text-[#B1B5C3] line-through font-bold font-['DM_Sans']",children:[((Ne=n.pricing)==null?void 0:Ne.currency)==="INR"?"₹":"$",(((Xt=n.pricing)==null?void 0:Xt.sellPrice)||((Br=n.pricing)==null?void 0:Br.finalPrice)+((zr=n.pricing)==null?void 0:zr.discountAmount)).toLocaleString()]}),e.jsx("span",{className:"text-2xl lg:text-3xl font-bold text-[#23262F] font-['DM_Sans']",children:(()=>{var Ce,He,Re;const I=((Ce=n==null?void 0:n.pricing)==null?void 0:Ce.currency)||"USD",Q=I==="INR"?"₹":I==="EUR"?"€":I==="GBP"?"£":"$",pe=((He=n==null?void 0:n.pricing)==null?void 0:He.finalPrice)||((Re=n==null?void 0:n.pricing)==null?void 0:Re.estimated)||699.97;return`${Q}${pe.toLocaleString()}`})()}),e.jsx("span",{className:"text-[#777E90] font-['Poppins'] text-sm lg:text-base",children:"per person"})]})}),e.jsxs("div",{className:"bg-[#F4F5F6] rounded-xl lg:rounded-2xl p-4 lg:p-6 mb-6 lg:mb-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 lg:gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"checkin-date",className:"block text-xs lg:text-sm font-medium text-[#777E90] mb-1.5 lg:mb-2 font-['Poppins']",children:"Check-in"}),e.jsx("input",{id:"checkin-date",type:"date",value:v,min:new Date().toISOString().split("T")[0],max:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],required:!0,onChange:I=>{var pe;const Q=I.target.value;if(Q){T(Q);try{const Ce=new Date(Q),He=new Date(P),Re=Math.max(1,((pe=n==null?void 0:n.duration)==null?void 0:pe.days)||5);if(isNaN(Ce.getTime()))return;if(isNaN(He.getTime())||He<=Ce){const ye=new Date(Ce);ye.setDate(ye.getDate()+Re),isNaN(ye.getTime())||R(ye.toISOString().split("T")[0])}}catch(Ce){console.error("Date adjustment error:",Ce)}}},className:"w-full px-3 py-2.5 lg:py-3 border border-[#E6E8EC] rounded-lg focus:ring-2 focus:ring-[#3B71FE] focus:border-[#3B71FE] font-['Poppins'] text-sm","aria-describedby":"checkin-help"}),e.jsx("div",{id:"checkin-help",className:"sr-only",children:"Select your trip start date"}),(()=>{const I=new Date;I.setHours(0,0,0,0);const Q=new Date(v);return Q.setHours(0,0,0,0),Q<I?e.jsx("div",{className:"text-red-500 text-xs mt-1",role:"alert","aria-live":"polite",children:"Start date cannot be in the past"}):null})()]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"checkout-date",className:"block text-xs lg:text-sm font-medium text-[#777E90] mb-1.5 lg:mb-2 font-['Poppins']",children:"Check-out"}),e.jsx("input",{id:"checkout-date",type:"date",value:P,onChange:I=>{var pe;const Q=I.target.value;if(Q)try{const Ce=new Date(Q),He=new Date(v),Re=Math.max(1,((pe=n==null?void 0:n.duration)==null?void 0:pe.days)||5);if(isNaN(Ce.getTime())||isNaN(He.getTime()))return;const ye=new Date(He);if(ye.setDate(ye.getDate()+Re),isNaN(ye.getTime())){R(Q);return}Ce<ye?R(ye.toISOString().split("T")[0]):R(Q)}catch(Ce){console.error("End date validation error:",Ce),R(I.target.value)}},min:(()=>{var Q;const I=new Date(v);return I.setDate(I.getDate()+Math.max(1,((Q=n==null?void 0:n.duration)==null?void 0:Q.days)||5)),I.toISOString().split("T")[0]})(),max:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],className:"w-full px-3 py-2.5 lg:py-3 border border-[#E6E8EC] rounded-lg focus:ring-2 focus:ring-[#3B71FE] focus:border-[#3B71FE] font-['Poppins'] text-sm","aria-describedby":"checkout-help"}),e.jsx("div",{id:"checkout-help",className:"sr-only",children:"Select your trip end date"}),(()=>{var Ce;const I=new Date(v),Q=new Date(P),pe=Math.max(1,((Ce=n==null?void 0:n.duration)==null?void 0:Ce.days)||5);return!isNaN(I.getTime())&&!isNaN(Q.getTime())&&Math.ceil((Q.getTime()-I.getTime())/864e5)<pe?e.jsxs("div",{className:"text-red-500 text-xs mt-1",role:"alert","aria-live":"polite",children:["Trip must be at least ",pe," days long"]}):null})()]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"guest-select",className:"block text-xs lg:text-sm font-medium text-[#777E90] mb-1.5 lg:mb-2 font-['Poppins']",children:"Guests"}),e.jsx("select",{id:"guest-select",value:h,onChange:I=>f(Number(I.target.value)),className:"w-full px-3 py-2.5 lg:py-3 border border-[#E6E8EC] rounded-lg focus:ring-2 focus:ring-[#3B71FE] focus:border-[#3B71FE] font-['Poppins'] text-sm",children:Array.from({length:((Ur=n.groupSize)==null?void 0:Ur.max)||8},(I,Q)=>Q+1).map(I=>e.jsxs("option",{value:I,children:[I," guest",I>1?"s":""]},I))})]})]}),e.jsxs("div",{className:"space-y-3 mb-6 lg:mb-8",children:[e.jsxs("button",{onClick:I=>{if(I.preventDefault(),I.stopPropagation(),!r){i(!0);return}const Q=(n==null?void 0:n._id)||(n==null?void 0:n.id);console.log("Individual booking clicked, tripId:",Q),Q?s(`/trip-booking/${Q}`):(console.error("Trip ID not available for booking"),alert("Trip information not available. Please try again."))},className:"w-full bg-gradient-to-r from-[#3B71FE] to-[#58C27D] text-white py-3 lg:py-3 px-6 rounded-2xl lg:rounded-3xl font-bold font-['DM_Sans'] hover:shadow-lg hover:scale-[1.02] transition-all duration-200 text-sm lg:text-base flex items-center justify-center gap-2","aria-label":"Book individual consultation for this trip",disabled:!(n!=null&&n._id)&&!(n!=null&&n.id),children:[e.jsx("span",{children:"📞"}),e.jsx("span",{children:"Individual Booking"})]}),e.jsxs("button",{onClick:I=>{if(I.preventDefault(),I.stopPropagation(),!r){i(!0);return}const Q=(n==null?void 0:n._id)||(n==null?void 0:n.id);console.log("Corporate booking clicked, tripId:",Q),Q?s(`/corporate-booking/trip/${Q}`):(console.error("Trip ID not available for corporate booking"),alert("Trip information not available. Please try again."))},className:"w-full bg-white border-2 border-[#3B71FE] text-[#3B71FE] py-3 lg:py-3 px-6 rounded-2xl lg:rounded-3xl font-bold font-['DM_Sans'] hover:bg-[#3B71FE] hover:text-white transition-all duration-200 text-sm lg:text-base flex items-center justify-center gap-2","aria-label":"Book corporate trip for your team",disabled:!(n!=null&&n._id)&&!(n!=null&&n.id),children:[e.jsx("span",{children:"🏢"}),e.jsx("span",{children:"Group Booking (2+ People)"})]}),e.jsxs("button",{className:"w-full bg-white border border-[#E6E8EC] text-[#23262F] py-2.5 lg:py-3 px-4 lg:px-6 rounded-2xl lg:rounded-3xl font-bold font-['DM_Sans'] hover:border-[#3B71FE] hover:bg-[#3B71FE]/5 transition-all duration-200 flex items-center justify-center gap-2 text-sm lg:text-base",children:[e.jsx("span",{children:"❤️"}),e.jsx("span",{children:"Save Trip"})]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[(()=>{var I,Q,pe,Ce,He,Re,ye,we,tt;try{const Nt=new Date(v),zt=new Date(P);if(isNaN(Nt.getTime())||isNaN(zt.getTime()))return e.jsxs("div",{className:"flex justify-between font-['Poppins'] text-sm",children:[e.jsxs("span",{children:["Trip package × 1 × ",h," traveler",h>1?"s":""]}),e.jsxs("span",{children:[((I=n==null?void 0:n.pricing)==null?void 0:I.currency)==="INR"?"₹":"$",((((Q=n==null?void 0:n.pricing)==null?void 0:Q.finalPrice)||((pe=n==null?void 0:n.pricing)==null?void 0:pe.estimated)||699.97)*h).toLocaleString()]})]});const Os=Math.max(1,Math.ceil((zt.getTime()-Nt.getTime())/(1e3*60*60*24))),fr=Math.max(1,((Ce=n==null?void 0:n.duration)==null?void 0:Ce.days)||5),Bs=Math.max(1,Math.ceil(Os/fr)),gr=((He=n==null?void 0:n.pricing)==null?void 0:He.finalPrice)||((Re=n==null?void 0:n.pricing)==null?void 0:Re.estimated)||699.97;return e.jsxs("div",{className:"flex justify-between font-['Poppins'] text-sm",children:[e.jsxs("span",{children:["Trip package × ",Bs," × ",h," traveler",h>1?"s":""]}),e.jsx("span",{children:(()=>{var Oi;const Es=((Oi=n==null?void 0:n.pricing)==null?void 0:Oi.currency)||"USD";return`${Es==="INR"?"₹":Es==="EUR"?"€":Es==="GBP"?"£":"$"}${(gr*Bs*h).toLocaleString()}`})()})]})}catch(Nt){return console.error("Price breakdown calculation error:",Nt),e.jsxs("div",{className:"flex justify-between font-['Poppins'] text-sm",children:[e.jsxs("span",{children:["Trip package × 1 × ",h," traveler",h>1?"s":""]}),e.jsxs("span",{children:[((ye=n==null?void 0:n.pricing)==null?void 0:ye.currency)==="INR"?"₹":"$",((((we=n==null?void 0:n.pricing)==null?void 0:we.finalPrice)||((tt=n==null?void 0:n.pricing)==null?void 0:tt.estimated)||699.97)*h).toLocaleString()]})]})}})(),(()=>{var pe,Ce;const I=((pe=n==null?void 0:n.pricing)==null?void 0:pe.discountAmount)||0,Q=((Ce=n==null?void 0:n.pricing)==null?void 0:Ce.discountPercent)||0;return I>0&&Q>0?e.jsxs("div",{className:"flex justify-between text-[#58C27D] font-['Poppins'] text-sm",children:[e.jsxs("span",{children:[Math.min(100,Math.max(0,Q)),"% campaign discount"]}),e.jsxs("span",{children:["-",(()=>{var ye;const He=((ye=n==null?void 0:n.pricing)==null?void 0:ye.currency)||"USD";return`${He==="INR"?"₹":He==="EUR"?"€":He==="GBP"?"£":"$"}${Math.abs(I).toLocaleString()}`})()]})]}):null})(),e.jsxs("div",{className:"flex justify-between font-['Poppins'] text-sm",children:[e.jsx("span",{children:"Service fee"}),e.jsx("span",{children:(()=>{var pe;const I=((pe=n==null?void 0:n.pricing)==null?void 0:pe.currency)||"USD";return`${I==="INR"?"₹":I==="EUR"?"€":I==="GBP"?"£":"$"}99`})()})]}),e.jsxs("div",{className:"flex justify-between font-['Poppins'] text-sm text-[#777E90]",children:[e.jsx("span",{children:"Taxes & fees"}),e.jsx("span",{children:"Included"})]}),e.jsx("div",{className:"bg-[#F4F5F6] rounded-lg p-3",children:e.jsxs("div",{className:"flex justify-between font-bold text-lg font-['DM_Sans']",children:[e.jsxs("span",{children:["Total (",h," traveler",h>1?"s":"",")"]}),e.jsx("span",{children:(()=>{var pe;const I=((pe=n==null?void 0:n.pricing)==null?void 0:pe.currency)||"USD";return`${I==="INR"?"₹":I==="EUR"?"€":I==="GBP"?"£":"$"}${V.toLocaleString()}`})()})]})})]}),e.jsxs("div",{className:"space-y-2 mb-4 lg:mb-6",children:[e.jsxs("div",{className:"flex items-start gap-2 text-[#58C27D] font-['Poppins'] text-xs lg:text-sm",children:[e.jsx("span",{className:"mt-0.5",children:"✅"}),e.jsx("span",{className:"flex-1",children:((Vr=n.bookingInfo)==null?void 0:Vr.cancellationPolicy)||"Free cancellation available"})]}),e.jsxs("div",{className:"flex items-start gap-2 text-[#58C27D] font-['Poppins'] text-xs lg:text-sm",children:[e.jsx("span",{className:"mt-0.5",children:"✅"}),e.jsx("span",{className:"flex-1",children:(qr=n.bookingInfo)!=null&&qr.instantBook?"Instant confirmation":"Requires approval"})]}),e.jsxs("div",{className:"flex items-start gap-2 text-[#58C27D] font-['Poppins'] text-xs lg:text-sm",children:[e.jsx("span",{className:"mt-0.5",children:"✅"}),e.jsx("span",{className:"flex-1",children:"Free consultation call"})]})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"text-xs lg:text-sm text-[#777E90] hover:text-[#23262F] font-['Poppins'] flex items-center gap-1 mx-auto",children:"💬 Need help? Contact support"})})]})})]})})}),e.jsx("section",{className:"py-8 lg:py-12 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-12",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-[#23262F] font-['DM_Sans'] mb-4 lg:mb-6",children:"Trip Details"}),e.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 lg:gap-4",children:[e.jsxs("div",{className:"bg-[#F4F5F6] rounded-lg p-3 lg:p-4",children:[e.jsx("h4",{className:"font-bold text-[#23262F] mb-1 lg:mb-2 font-['DM_Sans'] text-sm lg:text-base",children:"Duration"}),e.jsxs("p",{className:"text-[#777E90] font-['Poppins'] text-sm",children:[((Wr=n.duration)==null?void 0:Wr.days)||5," days, ",((Gr=n.duration)==null?void 0:Gr.nights)||4," nights"]})]}),e.jsxs("div",{className:"bg-[#F4F5F6] rounded-lg p-3 lg:p-4",children:[e.jsx("h4",{className:"font-bold text-[#23262F] mb-1 lg:mb-2 font-['DM_Sans'] text-sm lg:text-base",children:"Group Size"}),e.jsxs("p",{className:"text-[#777E90] font-['Poppins'] text-sm",children:[(Hr=n.groupSize)==null?void 0:Hr.min,"-",(Qr=n.groupSize)==null?void 0:Qr.max," travelers"]})]}),e.jsxs("div",{className:"bg-[#F4F5F6] rounded-lg p-3 lg:p-4",children:[e.jsx("h4",{className:"font-bold text-[#23262F] mb-1 lg:mb-2 font-['DM_Sans'] text-sm lg:text-base",children:"Difficulty"}),e.jsxs("p",{className:"text-[#777E90] font-['Poppins'] text-sm capitalize",children:[(()=>{var pe;const I=["easy","moderate","challenging"],Q=(pe=n==null?void 0:n.difficulty)==null?void 0:pe.toLowerCase();return I.includes(Q)?Q:"easy"})()," • ",(()=>{var pe,Ce;const I=["low","moderate","high"],Q=(Ce=(pe=n==null?void 0:n.physicalRequirements)==null?void 0:pe.fitnessLevel)==null?void 0:Ce.toLowerCase();return I.includes(Q)?Q:"low"})()," fitness"]})]}),e.jsxs("div",{className:"bg-[#F4F5F6] rounded-lg p-3 lg:p-4",children:[e.jsx("h4",{className:"font-bold text-[#23262F] mb-1 lg:mb-2 font-['DM_Sans'] text-sm lg:text-base",children:"Best Time"}),e.jsxs("p",{className:"text-[#777E90] font-['Poppins'] text-sm",children:[((Kr=(Yr=(Zr=n.travelInfo)==null?void 0:Zr.bestTimeToVisit)==null?void 0:Yr.months)==null?void 0:Kr.slice(0,2).join(", "))||"Year-round",((Xr=(Jr=n.travelInfo)==null?void 0:Jr.bestTimeToVisit)==null?void 0:Xr.weather)&&e.jsxs("span",{className:"block text-xs mt-1",children:[n.travelInfo.bestTimeToVisit.weather," weather"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-[#23262F] mb-2 font-['DM_Sans'] text-sm lg:text-base",children:"Perfect For"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const I=(n==null?void 0:n.suitableFor)||{},Q=Object.entries(I).filter(([pe,Ce])=>!!Ce);return Q.length>0?Q.map(([pe,Ce])=>Ce&&e.jsx("span",{className:"px-2 lg:px-3 py-1 bg-[#58C27D]/10 text-[#58C27D] rounded-full text-xs lg:text-sm font-medium",children:pe==="soloTravelers"?"Solo Travelers":pe==="couples"?"Couples":pe==="families"?"Families":pe==="groups"?"Groups":typeof pe=="string"?pe.charAt(0).toUpperCase()+pe.slice(1):"Travelers"},`suitable-${pe}`)):e.jsx("span",{className:"px-2 lg:px-3 py-1 bg-[#F4F5F6] text-[#777E90] rounded-full text-xs lg:text-sm",children:"All Travelers"})})()})]}),((ea=n.pricing)==null?void 0:ea.breakdown)&&Object.values(n.pricing.breakdown).some(I=>I>0)&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-[#23262F] mb-2 font-['DM_Sans'] text-sm lg:text-base",children:"Price Breakdown"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[Object.entries(n.pricing.breakdown).filter(([I,Q])=>Q>0).map(([I,Q])=>{var pe;return e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#777E90] font-['Poppins'] capitalize",children:I==="accommodation"?"Hotels":I==="transport"?"Transport":I==="food"?"Meals":I==="activities"?"Activities":I==="flights"?"Flights":I}),e.jsxs("span",{className:"text-[#23262F] font-['Poppins']",children:[((pe=n.pricing)==null?void 0:pe.currency)==="INR"?"₹":"$",Q]})]},I)}),e.jsxs("div",{className:"flex justify-between font-bold border-t border-[#E6E8EC] pt-2 mt-3",children:[e.jsx("span",{className:"text-[#23262F] font-['DM_Sans']",children:"Total"}),e.jsxs("span",{className:"text-[#23262F] font-['DM_Sans']",children:[((ta=n.pricing)==null?void 0:ta.currency)==="INR"?"₹":"$",((sa=n.pricing)==null?void 0:sa.finalPrice)||((ra=n.pricing)==null?void 0:ra.estimated)||699]})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-[#23262F] font-['DM_Sans'] mb-4 lg:mb-6",children:"Safety & Requirements"}),e.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[e.jsxs("div",{className:"bg-[#F4F5F6] rounded-lg p-3 lg:p-4",children:[e.jsx("h4",{className:"font-bold text-[#23262F] mb-1 lg:mb-2 font-['DM_Sans'] text-sm lg:text-base",children:"Safety Level"}),e.jsxs("p",{className:"text-[#777E90] font-['Poppins'] text-sm capitalize",children:[((aa=n.safetyInformation)==null?void 0:aa.level)||"Low"," risk • Professional guides included"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-[#23262F] mb-2 font-['DM_Sans'] text-sm lg:text-base",children:"Physical Requirements"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-[#58C27D] mt-0.5",children:"✓"}),e.jsxs("span",{className:"text-[#777E90] font-['Poppins'] text-sm capitalize flex-1",children:[((na=n.physicalRequirements)==null?void 0:na.fitnessLevel)||"Low"," fitness level required"]})]}),((ia=n.physicalRequirements)==null?void 0:ia.walkingDistance)&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-[#58C27D] mt-0.5",children:"✓"}),e.jsxs("span",{className:"text-[#777E90] font-['Poppins'] text-sm flex-1",children:["Walking: ",n.physicalRequirements.walkingDistance,"km per day"]})]}),((la=n.physicalRequirements)==null?void 0:la.altitude)&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-[#58C27D] mt-0.5",children:"✓"}),e.jsxs("span",{className:"text-[#777E90] font-['Poppins'] text-sm flex-1",children:["Max altitude: ",n.physicalRequirements.altitude,"m"]})]}),((oa=n.physicalRequirements)==null?void 0:oa.specialNeeds)&&n.physicalRequirements.specialNeeds.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{className:"text-[#777E90] font-['Poppins'] text-sm font-medium block mb-1",children:"Special requirements:"}),e.jsx("ul",{className:"text-[#777E90] font-['Poppins'] text-sm space-y-1",children:n.physicalRequirements.specialNeeds.map((I,Q)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-[#FFD166] mt-0.5",children:"•"}),e.jsx("span",{className:"flex-1",children:I})]},Q))})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-[#23262F] mb-2 font-['DM_Sans'] text-sm lg:text-base",children:"Booking Policy"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-[#58C27D] mt-0.5",children:"✓"}),e.jsx("span",{className:"text-[#777E90] font-['Poppins'] text-sm flex-1",children:((ca=n.bookingInfo)==null?void 0:ca.cancellationPolicy)||"Free cancellation available"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-[#3B71FE] mt-0.5",children:"💳"}),e.jsxs("span",{className:"text-[#777E90] font-['Poppins'] text-sm flex-1",children:[((da=n.bookingInfo)==null?void 0:da.depositRequired)||50,"% deposit required, balance due ",((ma=n.bookingInfo)==null?void 0:ma.finalPaymentDue)||30," days before departure"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-[#FFD166] mt-0.5",children:"⏱️"}),e.jsxs("span",{className:"text-[#777E90] font-['Poppins'] text-sm flex-1",children:[(ua=n.bookingInfo)!=null&&ua.instantBook?"Instant booking available":"Requires approval",((pa=n.bookingInfo)==null?void 0:pa.advanceBooking)&&` • Book ${n.bookingInfo.advanceBooking} days in advance`]})]}),((xa=n.availability)==null?void 0:xa.maxBookings)&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-[#777E90] mt-0.5",children:"👥"}),e.jsxs("span",{className:"text-[#777E90] font-['Poppins'] text-sm flex-1",children:["Limited to ",n.availability.maxBookings," bookings per departure"]})]})]})]})]})]})]}),e.jsxs("div",{className:"text-center mt-12 p-8 bg-gradient-to-r from-[#3B71FE]/5 to-[#58C27D]/5 rounded-2xl border border-[#E6E8EC]",children:[e.jsx("span",{className:"text-4xl mb-4 block",children:((ha=n.category)==null?void 0:ha.icon)||"🎆"}),e.jsxs("h3",{className:"text-xl font-bold text-[#23262F] font-['DM_Sans'] mb-2",children:["Ready for Your ",((fa=n.category)==null?void 0:fa.name)||"Adventure","?"]}),e.jsxs("p",{className:"text-[#777E90] font-['Poppins'] mb-4 text-center",children:[((ga=n.stats)==null?void 0:ga.views)>0?`Join ${n.stats.views}+ travelers who have viewed this ${((ba=(ya=n.category)==null?void 0:ya.name)==null?void 0:ba.toLowerCase())||"adventure"}!`:`Be the first to experience this amazing ${((ja=(va=n.category)==null?void 0:va.name)==null?void 0:ja.toLowerCase())||"adventure"} in ${((Na=n.primaryDestination)==null?void 0:Na.name)||((Sa=(wa=n.countries)==null?void 0:wa[0])==null?void 0:Sa.name)||"beautiful destinations"}!`,((ka=n.stats)==null?void 0:ka.bookings)>0&&e.jsxs("span",{className:"block text-[#58C27D] font-medium mt-2",children:["✓ ",n.stats.bookings," travelers have already booked this trip"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3 sm:gap-4",children:[e.jsxs("button",{onClick:I=>{if(I.preventDefault(),I.stopPropagation(),!r){i(!0);return}const Q=(n==null?void 0:n._id)||(n==null?void 0:n.id);console.log("Bottom individual button clicked, tripId:",Q),Q?s(`/trip-booking/${Q}`):(console.error("Trip ID not available for booking"),alert("Trip information not available. Please try again."))},className:"bg-gradient-to-r from-[#3B71FE] to-[#58C27D] text-white py-4 px-6 sm:px-8 rounded-2xl font-bold font-['DM_Sans'] hover:shadow-xl hover:scale-[1.02] transition-all duration-300 text-base sm:text-lg flex items-center justify-center gap-2",children:[e.jsx("span",{children:"📞"}),e.jsx("span",{children:"Individual Booking"})]}),e.jsxs("button",{onClick:I=>{if(I.preventDefault(),I.stopPropagation(),!r){i(!0);return}const Q=(n==null?void 0:n._id)||(n==null?void 0:n.id);console.log("Bottom corporate button clicked, tripId:",Q),Q?s(`/corporate-booking/trip/${Q}`):(console.error("Trip ID not available for corporate booking"),alert("Trip information not available. Please try again."))},className:"bg-white border-2 border-[#3B71FE] text-[#3B71FE] py-4 px-6 sm:px-8 rounded-2xl font-bold font-['DM_Sans'] hover:bg-[#3B71FE] hover:text-white transition-all duration-300 text-base sm:text-lg flex items-center justify-center gap-2",children:[e.jsx("span",{children:"🏢"}),e.jsx("span",{children:"Group Booking"})]}),((Ca=n.sharing)==null?void 0:Ca.allowCopy)&&e.jsxs("button",{className:"bg-white border-2 border-[#E6E8EC] text-[#23262F] py-4 px-6 rounded-2xl font-bold font-['DM_Sans'] hover:border-[#3B71FE] hover:bg-[#3B71FE]/5 transition-all duration-200 text-sm sm:text-base flex items-center gap-2",children:[e.jsx("span",{children:"📎"}),e.jsx("span",{children:"Share Trip"})]})]})]})]})}),D.length>0&&e.jsx("section",{className:"py-16 bg-gradient-to-br from-[#F4F5F6] to-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-2xl lg:text-3xl font-black text-[#23262F] font-['DM_Sans'] mb-4",children:"You might also like"}),e.jsx("p",{className:"text-[#777E90] font-['Poppins']",children:"Similar adventures waiting for you"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.slice(0,3).map((I,Q)=>{var pe,Ce,He,Re,ye,we,tt,Nt,zt,Os,fr,Bs,gr;return e.jsxs("div",{className:"group cursor-pointer bg-white rounded-2xl overflow-hidden shadow-[0_4px_20px_rgba(0,0,0,0.08)] hover:shadow-[0_8px_40px_rgba(0,0,0,0.12)] transition-all duration-500 hover:-translate-y-2",onClick:()=>s(`/trips/${I.slug||I._id}`),children:[e.jsxs("div",{className:"relative overflow-hidden h-48",children:[e.jsx("img",{src:(He=(Ce=(pe=I.images)==null?void 0:pe[0])==null?void 0:Ce.url)!=null&&He.startsWith("http")?I.images[0].url:(ye=(Re=I.images)==null?void 0:Re[0])!=null&&ye.url?`${el}${I.images[0].url}`:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop",alt:I.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",onError:Es=>{Es.currentTarget.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),e.jsxs("div",{className:"absolute bottom-3 left-3 right-3",children:[e.jsx("h3",{className:"text-lg font-black text-white mb-1 drop-shadow-lg font-['DM_Sans'] leading-tight",children:((we=I.title)==null?void 0:we.replace(/<[^>]*>/g,""))||"Amazing Trip"}),e.jsxs("p",{className:"text-white/90 text-sm drop-shadow font-['Poppins']",children:["📍 ",((tt=I.primaryDestination)==null?void 0:tt.name)||"Beautiful Destination"]})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("div",{className:"text-lg font-black text-[#23262F] font-['DM_Sans']",children:[((Nt=I.pricing)==null?void 0:Nt.currency)==="INR"?"₹":"$",((Os=(zt=I.pricing)==null?void 0:zt.finalPrice)==null?void 0:Os.toLocaleString())||((Bs=(fr=I.pricing)==null?void 0:fr.estimated)==null?void 0:Bs.toLocaleString())||"1,999"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-[#FFD166]",children:"⭐"}),e.jsx("span",{className:"font-bold text-[#23262F] font-['DM_Sans'] text-sm",children:((gr=I.stats)==null?void 0:gr.rating)||4.8})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{className:"flex-1 bg-gradient-to-r from-[#3B71FE] to-[#58C27D] text-white py-2 px-3 rounded-xl font-bold font-['DM_Sans'] text-sm hover:shadow-lg transition-all duration-300",onClick:Es=>{Es.stopPropagation(),s(`/trips/${I.slug||I._id}`)},children:"View Trip"})})]})]},I._id||Q)})})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-95 z-50 flex items-center justify-center p-4",onClick:I=>{I.target===I.currentTarget&&y(!1)},onFocus:()=>{const I=document.querySelector('[aria-label="Close gallery"]');I&&I.focus()},onKeyDown:I=>{if(I.key==="Escape")y(!1);else if(I.key==="ArrowLeft"&&Array.isArray(n==null?void 0:n.images)&&n.images.length>1){const Q=j>0?j-1:n.images.length-1;g(Math.max(0,Math.min(Q,n.images.length-1)))}else if(I.key==="ArrowRight"&&Array.isArray(n==null?void 0:n.images)&&n.images.length>1){const Q=j<n.images.length-1?j+1:0;g(Math.max(0,Math.min(Q,n.images.length-1)))}},tabIndex:0,role:"dialog","aria-modal":"true","aria-label":"Image gallery",children:e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[e.jsx("button",{onClick:()=>y(!1),className:"absolute top-4 right-4 text-white text-2xl z-10 w-10 h-10 flex items-center justify-center rounded-full bg-black/60 hover:bg-black/80 transition-colors focus:outline-none focus:ring-2 focus:ring-white","aria-label":"Close gallery",children:"×"}),Array.isArray(n==null?void 0:n.images)&&n.images.length>1&&e.jsx("button",{onClick:()=>{const I=j>0?j-1:n.images.length-1;g(Math.max(0,Math.min(I,n.images.length-1)))},className:"absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 w-10 h-10 sm:w-12 sm:h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-colors z-10 focus:outline-none focus:ring-2 focus:ring-white","aria-label":"Previous image",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),Array.isArray(n==null?void 0:n.images)&&n.images.length>1&&e.jsx("button",{onClick:()=>{const I=j<n.images.length-1?j+1:0;g(Math.max(0,Math.min(I,n.images.length-1)))},className:"absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 w-10 h-10 sm:w-12 sm:h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-colors z-10 focus:outline-none focus:ring-2 focus:ring-white","aria-label":"Next image",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsx("img",{src:(()=>{const Q=(Array.isArray(n==null?void 0:n.images)?n.images:[])[j];return Q!=null&&Q.url?Q.url.startsWith("http")?dr(Q.url):`${el}${Q.url}`:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop"})(),alt:`${(n==null?void 0:n.title)||"Trip"} - Image ${j+1} of ${Array.isArray(n==null?void 0:n.images)?n.images.length:1}`,className:"max-w-full max-h-full object-contain rounded-lg",onError:I=>{I.currentTarget.src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop"}}),e.jsxs("div",{className:"absolute bottom-2 sm:bottom-4 left-1/2 -translate-x-1/2 bg-black/60 text-white px-3 sm:px-4 py-1 sm:py-2 rounded-full text-xs sm:text-sm font-['Poppins']",role:"status","aria-live":"polite",children:[j+1," / ",Array.isArray(n==null?void 0:n.images)?n.images.length:1]}),Array.isArray(n==null?void 0:n.images)&&n.images.length>1&&e.jsx("div",{className:"hidden sm:flex absolute bottom-12 sm:bottom-16 left-1/2 -translate-x-1/2 gap-2 max-w-full overflow-x-auto px-4",children:n.images.map((I,Q)=>e.jsx("button",{onClick:()=>{Q>=0&&Q<n.images.length&&g(Q)},className:`flex-shrink-0 w-12 h-9 sm:w-16 sm:h-12 rounded-lg overflow-hidden transition-all focus:outline-none focus:ring-2 focus:ring-white ${j===Q?"ring-2 ring-white opacity-100":"opacity-60 hover:opacity-80"}`,"aria-label":`View image ${Q+1} of ${n.images.length}`,children:e.jsx("img",{src:I!=null&&I.url?I.url.startsWith("http")?dr(I.url):`${el}${I.url}`:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=64&h=48&fit=crop",alt:`Thumbnail ${Q+1}`,className:"w-full h-full object-cover",onError:pe=>{pe.currentTarget.src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=64&h=48&fit=crop"}})},`thumb-${Q}`))})]})}),e.jsx(Jy,{isOpen:a,onClose:()=>i(!1),initialMode:"login"})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#FCFCFD] to-white px-4",children:e.jsxs("div",{className:"text-center max-w-md mx-auto",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-8 bg-gradient-to-br from-red-100 to-red-200 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-4xl",children:"⚠️"})}),e.jsx("h2",{className:"text-3xl font-black text-[#23262F] mb-4 font-['DM_Sans']",children:"Connection Error"}),e.jsx("p",{className:"text-[#777E90] mb-4 font-['Poppins']",children:"Unable to connect to the server. Please check if the backend is running."}),e.jsxs("div",{className:"bg-[#F4F5F6] rounded-lg p-4 mb-6 text-left",children:[e.jsx("p",{className:"text-sm text-[#777E90] font-['Poppins'] mb-2",children:"Development Info:"}),e.jsxs("p",{className:"text-xs text-[#777E90] font-mono",children:["Backend: ",Ke.BASE_URL]}),e.jsx("p",{className:"text-xs text-[#777E90] font-mono",children:"Frontend: http://localhost:3001"}),e.jsxs("p",{className:"text-xs text-[#777E90] font-mono",children:["Trip ID: ",t]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-[#3B71FE] text-white py-3 rounded-2xl font-bold font-['DM_Sans'] hover:bg-[#58C27D] transition-all duration-300",children:"Retry"}),e.jsx("button",{onClick:()=>s("/"),className:"flex-1 bg-white border-2 border-[#E6E8EC] text-[#23262F] py-3 rounded-2xl font-bold font-['DM_Sans'] hover:border-[#3B71FE] transition-colors",children:"Go Home"})]})]})})};function C4(t,s){let r;const a=(...i)=>{clearTimeout(r),r=window.setTimeout(()=>t.apply(null,i),s)};return a.cancel=()=>clearTimeout(r),a}class _4{async getTrips(s){return et.get("/trips",s)}async getFeaturedTrips(){return et.getFeaturedTrips()}async getTripById(s){return et.get(`/trips/${s}`)}async searchTrips(s,r){const a={q:s,...r};return et.get("/trips",a)}}const P4=new _4;class E4{async getTripFlights(s,r){return et.get(`/trips/${s}/flights`,r)}async getTripHotels(s,r){return et.get(`/trips/${s}/hotels`,r)}async customizeTrip(s,r){return et.post(`/trips/${s}/customize`,r)}async getTripQuote(s){return et.post("/trips/quote",s)}}const Od=new E4,D4=({tripTitle:t,tripId:s})=>{const r=rt();return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl p-8 text-center shadow-lg",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("span",{className:"text-3xl",children:"🛠️"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Customization Coming Soon"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:['Trip customization for "',t||"this trip",`" is not available yet. We're working hard to bring you personalized travel experiences.`]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(M,{onClick:()=>r(`/trips/${s}`),className:"w-full",children:"View Trip Details"}),e.jsx(M,{variant:"outline",onClick:()=>r("/trips"),className:"w-full",children:"Browse Other Trips"})]}),e.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"What's Coming:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"• Custom flight selection"}),e.jsx("li",{children:"• Hotel preferences"}),e.jsx("li",{children:"• Activity customization"}),e.jsx("li",{children:"• Flexible dates"})]})]})]})})},T4=()=>{const{id:t}=tr(),s=rt(),[r,a]=b.useState(null),[i,n]=b.useState(!0),[l,o]=b.useState(1),[c,m]=b.useState([]),[d,x]=b.useState([]),[p,j]=b.useState([]),[g,u]=b.useState([]),[y,h]=b.useState({adults:2,children:0}),[f,v]=b.useState({departure:"",return:""});b.useEffect(()=>{t&&T()},[t]);const T=async()=>{if(t){n(!0);try{const C=await P4.getTripById(t);C.success&&C.data&&a(C.data)}catch(C){console.error("Failed to load trip details:",C)}finally{n(!1)}}},P=async()=>{if(!(!r||!f.departure||!f.return))try{const C=await Od.getTripFlights(r._id,{departureDate:f.departure,returnDate:f.return,passengers:y.adults+y.children});C.success&&C.data&&m(C.data.flightOptions||[])}catch(C){console.error("Failed to load flight options:",C)}},R=async()=>{if(!(!r||!f.departure||!f.return))try{const C=await Od.getTripHotels(r._id,{checkIn:f.departure,checkOut:f.return,guests:y.adults+y.children});C.success&&C.data&&x(C.data.hotelOptions||[])}catch(C){console.error("Failed to load hotel options:",C)}},O=async()=>{if(r)try{const C=await Od.getTripQuote({tripId:r._id,selectedFlights:p.map(q=>({flightId:q,class:"economy"})),selectedHotels:g,travelers:y,departureDate:f.departure});C.success&&s(`/booking/trip/${r._id}`,{state:{quote:C.data.quote,customizations:{selectedFlights:p,selectedHotels:g,travelers:y,travelDates:f}}})}catch(C){console.error("Failed to get quote:",C)}};if(i)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Xe,{size:"lg",text:"Loading trip details..."})});if(!r)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Trip Not Found"}),e.jsx(M,{onClick:()=>s("/trips"),children:"Browse Trips"})]})});if(!r.customizable||Object.values(r.customizable).every(C=>!C))return e.jsx(D4,{tripTitle:r.title,tripId:r._id});const U=[{id:1,title:"Travel Details",icon:"📅"},{id:2,title:"Flights",icon:"✈️"},{id:3,title:"Hotels",icon:"🏨"},{id:4,title:"Review",icon:"📋"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("section",{className:"bg-white border-b",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customize Your Trip"}),e.jsx("p",{className:"text-gray-600",children:r.title})]}),e.jsx(M,{variant:"outline",onClick:()=>s(`/trips/${r._id}`),children:"Back to Trip"})]}),e.jsx("div",{className:"flex items-center justify-between",children:U.map((C,q)=>e.jsxs(ht.Fragment,{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ${l>=C.id?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:C.icon}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:`text-sm font-semibold ${l>=C.id?"text-gray-900":"text-gray-500"}`,children:C.title})})]}),q<U.length-1&&e.jsx("div",{className:`flex-1 h-1 mx-4 ${l>C.id?"bg-blue-600":"bg-gray-200"}`})]},C.id))})]})}),e.jsx("section",{className:"py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[l===1&&e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Travel Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Departure Date"}),e.jsx("input",{type:"date",value:f.departure,onChange:C=>v(q=>({...q,departure:C.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Return Date"}),e.jsx("input",{type:"date",value:f.return,onChange:C=>v(q=>({...q,return:C.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Adults"}),e.jsx("select",{value:y.adults,onChange:C=>h(q=>({...q,adults:parseInt(C.target.value)})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",children:[1,2,3,4,5,6,7,8].map(C=>e.jsxs("option",{value:C,children:[C," Adult",C>1?"s":""]},C))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Children"}),e.jsx("select",{value:y.children,onChange:C=>h(q=>({...q,children:parseInt(C.target.value)})),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",children:[0,1,2,3,4].map(C=>e.jsxs("option",{value:C,children:[C," Child",C!==1?"ren":""]},C))})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(M,{onClick:()=>{P(),o(2)},disabled:!f.departure||!f.return,children:"Next: Select Flights"})})]}),l===2&&e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Select Flights"}),c.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx(Xe,{size:"lg",text:"Loading flight options..."})}):e.jsx("div",{className:"space-y-6",children:c.map((C,q)=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:C.route}),e.jsx("div",{className:"space-y-3",children:C.flights.map(X=>e.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${p.includes(X.id)?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{j(N=>N.includes(X.id)?N.filter(D=>D!==X.id):[...N,X.id])},children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold",children:[X.airline.name," ",X.flightNumber]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[X.departure.scheduledTime," - ",X.arrival.scheduledTime]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[X.departure.airport.name," → ",X.arrival.airport.name]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-emerald-600",children:["$",X.pricing.economy]}),e.jsx("div",{className:"text-sm text-gray-500",children:"per person"})]})]})},X.id))})]},q))}),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx(M,{variant:"outline",onClick:()=>o(1),children:"Back"}),e.jsx(M,{onClick:()=>{R(),o(3)},children:"Next: Select Hotels"})]})]}),l===3&&e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Select Hotels"}),d.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx(Xe,{size:"lg",text:"Loading hotel options..."})}):e.jsx("div",{className:"space-y-8",children:d.map((C,q)=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:C.destination}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.hotels.map(X=>e.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${g.some(N=>N.hotelId===X.id)?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{u(N=>{var G;return N.find($=>$.hotelId===X.id)?N.filter($=>$.hotelId!==X.id):[...N,{hotelId:X.id,nights:((G=r.duration)==null?void 0:G.nights)||3,rooms:1}]})},children:e.jsxs("div",{className:"flex gap-4",children:[X.images[0]&&e.jsx("img",{src:X.images[0],alt:X.name,className:"w-20 h-20 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:X.name}),e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx("span",{className:"text-amber-500",children:"⭐"}),e.jsx("span",{className:"text-sm",children:X.rating}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",X.reviewCount," reviews)"]})]}),e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:X.amenities.slice(0,3).join(", ")}),e.jsxs("div",{className:"text-lg font-bold text-emerald-600",children:["$",X.priceRange.min," - $",X.priceRange.max]}),e.jsx("div",{className:"text-sm text-gray-500",children:"per night"})]})]})},X.id))})]},q))}),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx(M,{variant:"outline",onClick:()=>o(2),children:"Back"}),e.jsx(M,{onClick:()=>o(4),children:"Review & Get Quote"})]})]}),l===4&&e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Review Your Customization"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Travel Details"}),e.jsxs("p",{className:"text-gray-600",children:[f.departure," to ",f.return," • ",y.adults," adults, ",y.children," children"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Selected Flights"}),e.jsxs("p",{className:"text-gray-600",children:[p.length," flights selected"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Selected Hotels"}),e.jsxs("p",{className:"text-gray-600",children:[g.length," hotels selected"]})]})]}),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx(M,{variant:"outline",onClick:()=>o(3),children:"Back"}),e.jsx(M,{onClick:O,children:"Get Quote & Book"})]})]})]})})]})},ff=()=>{const t=rt(),[s]=Li(),[r,a]=b.useState(1),[i,n]=b.useState(!1),[l,o]=b.useState([]),[c,m]=b.useState([]),[d,x]=b.useState(""),p={description:s.get("description")||"",destination:s.get("destination")||"",type:s.get("type")||"",date:s.get("date")||"",travelers:s.get("travelers")||"couple",budget:s.get("budget")||"mid-range"};b.useEffect(()=>{(p.description||p.destination)&&j()},[]);const j=async()=>{a(2),n(!0);const v=g();m([v]),setTimeout(()=>{n(!1),u()},2e3)},g=()=>{let v="Hi! I'm your AI travel assistant. ";return p.description&&(v+=`I see you're dreaming of: "${p.description}". `),p.destination&&(v+=`${p.destination} sounds amazing! `),p.type&&(v+=`A ${p.type} experience would be perfect. `),v+="Let me ask a few quick questions to create your perfect trip.",{type:"ai",message:v,timestamp:new Date}},u=()=>{const T={type:"ai",message:["How many days would you like your trip to be?","What's most important to you: adventure, relaxation, culture, or luxury?","Any specific experiences you absolutely want to include?"][0],timestamp:new Date};m(P=>[...P,T])},y=async()=>{a(3),n(!0),setTimeout(()=>{const v=[{id:1,title:`${p.destination||"Amazing"} ${p.type||"Adventure"}`,description:`Perfect ${p.travelers} trip with ${p.budget} budget`,duration:"7 days, 6 nights",price:p.budget==="luxury"?4500:p.budget==="budget"?1200:2500,highlights:["🏨 Handpicked hotels","🎯 Curated experiences","📱 24/7 support"],image:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=250&fit=crop",confidence:95},{id:2,title:`Alternative ${p.destination||"Journey"}`,description:"Different perspective on your dream trip",duration:"5 days, 4 nights",price:(p.budget==="luxury"?4500:p.budget==="budget"?1200:2500)*.8,highlights:["🌟 Unique experiences","🍽️ Local cuisine","🚗 Private transport"],image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=250&fit=crop",confidence:88}];o(v),n(!1)},3e3)},h=()=>{if(!d.trim())return;const v={type:"user",message:d,timestamp:new Date};if(m(T=>[...T,v]),x(""),c.length>=4){const T={type:"ai",message:"Perfect! I have everything I need. Let me create some amazing trip options for you...",timestamp:new Date};m(P=>[...P,T]),setTimeout(()=>{y()},2e3)}else setTimeout(()=>{const T=["Great choice! What's your ideal budget range per person?","Excellent! Any specific activities or experiences you want to include?","Perfect! Let me create some options for you..."],P={type:"ai",message:T[Math.floor(Math.random()*T.length)],timestamp:new Date};m(R=>[...R,P])},1500)},f=v=>{t("/trips?ai-generated=true")};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"🤖 AI Trip Planner"}),e.jsx("p",{className:"text-xl opacity-90",children:"Your personal travel assistant"}),p.destination&&e.jsxs("div",{className:"mt-4 bg-white/20 rounded-lg px-4 py-2 inline-block",children:["Planning your trip to ",p.destination]})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[r===1&&e.jsxs(oe,{className:"p-8 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"✨"}),e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-4",children:"Let's plan your perfect trip!"}),e.jsx("p",{className:"text-primary-600 mb-8",children:"Tell me about your dream destination and I'll create personalized recommendations"}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("textarea",{value:d,onChange:v=>x(v.target.value),placeholder:"e.g., I want a romantic getaway in Paris with great food and art...",rows:4,className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent mb-4"}),e.jsx(M,{onClick:()=>{d.trim()&&(m([{type:"user",message:d,timestamp:new Date}]),x(""),j())},size:"lg",className:"w-full",disabled:!d.trim(),children:"Start Planning 🚀"})]}),e.jsx("div",{className:"mt-8 text-sm text-primary-500",children:e.jsx("p",{children:'💡 Try: "Beach vacation in Bali", "Cultural tour of Japan", "Adventure in New Zealand"'})})]}),r===2&&e.jsx("div",{className:"space-y-6",children:e.jsxs(oe,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 text-white rounded-full flex items-center justify-center",children:"🤖"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-primary-900",children:"AI Travel Assistant"}),e.jsx("p",{className:"text-sm text-primary-600",children:"Understanding your preferences..."})]})]}),e.jsxs("div",{className:"space-y-4 mb-6 max-h-96 overflow-y-auto",children:[c.map((v,T)=>e.jsx("div",{className:`flex ${v.type==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-xs lg:max-w-md px-4 py-3 rounded-lg ${v.type==="user"?"bg-blue-600 text-white":"bg-gray-100 text-primary-900"}`,children:v.message})},T)),i&&e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"bg-gray-100 px-4 py-3 rounded-lg flex items-center gap-2",children:[e.jsx(Xe,{size:"sm"}),e.jsx("span",{children:"Thinking..."})]})})]}),!i&&e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:d,onChange:v=>x(v.target.value),onKeyPress:v=>v.key==="Enter"&&h(),placeholder:"Type your response...",className:"flex-1 px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"}),e.jsx(M,{onClick:h,disabled:!d.trim(),children:"Send"})]})]})}),r===3&&e.jsx("div",{className:"space-y-6",children:i?e.jsxs(oe,{className:"p-12 text-center",children:[e.jsx(Xe,{size:"lg"}),e.jsx("h3",{className:"text-xl font-bold text-primary-900 mt-4 mb-2",children:"Creating your perfect trip options..."}),e.jsx("p",{className:"text-primary-600",children:"Analyzing destinations, activities, and accommodations"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-primary-900 mb-2",children:"🎉 Your Perfect Trips"}),e.jsx("p",{className:"text-primary-600",children:"AI has created these personalized options for you"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.map(v=>e.jsxs(oe,{className:"overflow-hidden hover:shadow-xl transition-shadow",children:[e.jsx("img",{src:v.image,alt:v.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900",children:v.title}),e.jsxs("div",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-bold",children:[v.confidence,"% match"]})]}),e.jsx("p",{className:"text-primary-600 mb-4",children:v.description}),e.jsx("div",{className:"space-y-2 mb-4",children:v.highlights.map((T,P)=>e.jsx("div",{className:"text-sm text-primary-700",children:T},P))}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",v.price.toLocaleString()]}),e.jsx("div",{className:"text-sm text-primary-500",children:v.duration})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{fullWidth:!0,onClick:()=>f(v.id),children:"Choose This Trip"}),e.jsx(M,{fullWidth:!0,variant:"outline",onClick:()=>t("/trips"),children:"View Similar Trips"})]})]})]},v.id))}),e.jsx("div",{className:"text-center mt-8",children:e.jsx(M,{variant:"outline",onClick:()=>{a(1),m([]),o([]),x("")},children:"↻ Start Over"})})]})}),e.jsx("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg text-center",children:e.jsxs("p",{className:"text-sm text-blue-800",children:["🚧 ",e.jsx("strong",{children:"AI Features Coming Soon!"})," Currently showing demo results. Real AI integration with personalized recommendations will be available soon."]})})]})]})},A4=()=>{const t=rt(),[s,r]=b.useState(1),[a,i]=b.useState({destination:"",duration:"",budget:"",travelStyle:"",interests:[],accommodation:"",transportation:"",groupSize:1,specialRequests:""}),[n,l]=b.useState([]),[o,c]=b.useState([]),[m,d]=b.useState([]),[x,p]=b.useState(!1),j=[{id:1,title:"Destination",icon:"🌍"},{id:2,title:"Duration & Budget",icon:"📅"},{id:3,title:"Travel Style",icon:"✨"},{id:4,title:"Interests",icon:"🎯"},{id:5,title:"Preferences",icon:"⚙️"},{id:6,title:"Review",icon:"📋"}];b.useEffect(()=>{g()},[]);const g=async()=>{try{const[O,U]=await Promise.all([St.getCountries(),St.getCategories("trip")]);l(O.countries||[]),d(U.categories||[])}catch(O){console.error("Failed to load master data:",O)}},u=async O=>{try{const U=await St.getCities({countryId:O});c(U.cities||[])}catch(U){console.error("Failed to load cities:",U)}},y=[{id:"luxury",name:"Luxury",desc:"Premium experiences, 5-star hotels",icon:"💎"},{id:"adventure",name:"Adventure",desc:"Outdoor activities, unique experiences",icon:"🏔️"},{id:"cultural",name:"Cultural",desc:"Museums, history, local traditions",icon:"🎭"},{id:"relaxation",name:"Relaxation",desc:"Beaches, spas, peaceful settings",icon:"🧘"},{id:"budget",name:"Budget",desc:"Affordable options, local experiences",icon:"💰"}],h=[{id:"food",name:"Food & Dining",icon:"🍽️"},{id:"nature",name:"Nature & Wildlife",icon:"🌿"},{id:"history",name:"History & Museums",icon:"🏛️"},{id:"nightlife",name:"Nightlife & Entertainment",icon:"🎉"},{id:"shopping",name:"Shopping",icon:"🛍️"},{id:"photography",name:"Photography",icon:"📸"},{id:"wellness",name:"Wellness & Spa",icon:"💆"},{id:"sports",name:"Sports & Activities",icon:"⚽"}],f=()=>{s<j.length&&r(s+1)},v=()=>{s>1&&r(s-1)},T=O=>{i(U=>({...U,interests:U.interests.includes(O)?U.interests.filter(C=>C!==O):[...U.interests,O]}))},P=async()=>{p(!0);try{const O={title:"Custom Trip",description:`A personalized ${a.duration} trip`,destination:a.destination,duration:{days:parseInt(a.duration.split(" ")[0])||7,nights:(parseInt(a.duration.split(" ")[0])||7)-1},travelStyle:a.travelStyle,interests:a.interests,budget:a.budget,groupSize:a.groupSize,specialRequests:a.specialRequests};t("/trips",{state:{customTrip:O}})}catch(O){console.error("Failed to generate trip:",O)}finally{p(!1)}},R=()=>{var O,U;switch(s){case 1:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-primary-900 mb-4",children:"Where do you want to go?"}),e.jsx("p",{className:"text-primary-600",children:"Choose your dream destination"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(C=>e.jsx(oe,{className:`p-4 cursor-pointer transition-all hover:shadow-lg ${a.destination===C._id?"ring-2 ring-blue-ocean bg-blue-50":""}`,onClick:()=>{i(q=>({...q,destination:C._id})),u(C._id)},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:C.flag||"🌍"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-primary-900",children:C.name}),e.jsx("p",{className:"text-sm text-primary-600",children:C.continent})]})]})},C._id))}),e.jsx("div",{className:"text-center",children:e.jsx("input",{type:"text",placeholder:"Or type a specific destination...",className:"w-full max-w-md px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",value:a.destination.startsWith("custom:")?a.destination.slice(7):"",onChange:C=>i(q=>({...q,destination:`custom:${C.target.value}`}))})})]});case 2:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-primary-900 mb-4",children:"Duration & Budget"}),e.jsx("p",{className:"text-primary-600",children:"How long and how much?"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-semibold text-primary-900 mb-4",children:"Trip Duration"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["3-5 days","1 week","2 weeks","3+ weeks"].map(C=>e.jsx("button",{onClick:()=>i(q=>({...q,duration:C})),className:`p-4 border rounded-lg text-center transition-all ${a.duration===C?"border-blue-ocean bg-blue-50 text-blue-ocean":"border-primary-200 hover:border-primary-300"}`,children:C},C))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-semibold text-primary-900 mb-4",children:"Budget per person"}),e.jsx("div",{className:"space-y-3",children:[{id:"budget",label:"Budget",range:"$500 - ₹1,500"},{id:"mid",label:"Mid-range",range:"$1,500 - ₹3,000"},{id:"luxury",label:"Luxury",range:"$3,000 - ₹6,000"},{id:"ultra",label:"Ultra Luxury",range:"$6,000+"}].map(C=>e.jsxs("button",{onClick:()=>i(q=>({...q,budget:C.id})),className:`w-full p-4 border rounded-lg text-left transition-all ${a.budget===C.id?"border-blue-ocean bg-blue-50":"border-primary-200 hover:border-primary-300"}`,children:[e.jsx("div",{className:"font-semibold",children:C.label}),e.jsx("div",{className:"text-sm text-primary-600",children:C.range})]},C.id))})]})]})]});case 3:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-primary-900 mb-4",children:"What's your travel style?"}),e.jsx("p",{className:"text-primary-600",children:"Choose the style that best describes you"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(C=>e.jsxs(oe,{className:`p-6 cursor-pointer transition-all hover:shadow-lg ${a.travelStyle===C._id?"ring-2 ring-blue-ocean bg-blue-50":""}`,onClick:()=>i(q=>({...q,travelStyle:C._id})),children:[e.jsx("div",{className:"text-4xl mb-3",children:C.icon}),e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-2",children:C.name}),e.jsx("p",{className:"text-primary-600",children:C.description})]},C._id))})]});case 4:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-primary-900 mb-4",children:"What interests you most?"}),e.jsx("p",{className:"text-primary-600",children:"Select all that apply (3-5 recommended)"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:h.map(C=>e.jsxs("button",{onClick:()=>T(C.id),className:`p-4 border rounded-lg text-center transition-all ${a.interests.includes(C.id)?"border-blue-ocean bg-blue-50 text-blue-ocean":"border-primary-200 hover:border-primary-300"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:C.icon}),e.jsx("div",{className:"text-sm font-semibold",children:C.name})]},C.id))}),e.jsxs("div",{className:"text-center text-sm text-primary-600",children:["Selected: ",a.interests.length," interests"]})]});case 5:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-primary-900 mb-4",children:"Final preferences"}),e.jsx("p",{className:"text-primary-600",children:"A few more details to perfect your trip"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-semibold text-primary-900 mb-4",children:"Accommodation"}),e.jsx("div",{className:"space-y-3",children:[{id:"hotel",label:"Hotels",desc:"Traditional hotel experience"},{id:"boutique",label:"Boutique",desc:"Unique, smaller properties"},{id:"resort",label:"Resorts",desc:"All-inclusive experiences"},{id:"local",label:"Local Stays",desc:"B&Bs, guesthouses"}].map(C=>e.jsxs("button",{onClick:()=>i(q=>({...q,accommodation:C.id})),className:`w-full p-3 border rounded-lg text-left transition-all ${a.accommodation===C.id?"border-blue-ocean bg-blue-50":"border-primary-200 hover:border-primary-300"}`,children:[e.jsx("div",{className:"font-semibold",children:C.label}),e.jsx("div",{className:"text-sm text-primary-600",children:C.desc})]},C.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-semibold text-primary-900 mb-4",children:"Group Size"}),e.jsx("select",{value:a.groupSize,onChange:C=>i(q=>({...q,groupSize:parseInt(C.target.value)})),className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent mb-6",children:[1,2,3,4,5,6,7,8].map(C=>e.jsxs("option",{value:C,children:[C," traveler",C>1?"s":""]},C))}),e.jsx("label",{className:"block text-lg font-semibold text-primary-900 mb-4",children:"Special Requests"}),e.jsx("textarea",{value:a.specialRequests,onChange:C=>i(q=>({...q,specialRequests:C.target.value})),placeholder:"Any special requirements, dietary restrictions, accessibility needs, or specific requests...",rows:4,className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent resize-none"})]})]})]});case 6:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-primary-900 mb-4",children:"Review your preferences"}),e.jsx("p",{className:"text-primary-600",children:"Everything looks good? Let's create your perfect itinerary!"})]}),e.jsxs(oe,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-primary-900 mb-2",children:"Destination"}),e.jsx("p",{className:"text-primary-600 mb-4",children:a.destination.startsWith("custom:")?a.destination.slice(7):((O=n.find(C=>C._id===a.destination))==null?void 0:O.name)||"Not selected"}),e.jsx("h3",{className:"font-semibold text-primary-900 mb-2",children:"Duration"}),e.jsx("p",{className:"text-primary-600 mb-4",children:a.duration||"Not selected"}),e.jsx("h3",{className:"font-semibold text-primary-900 mb-2",children:"Budget"}),e.jsx("p",{className:"text-primary-600 mb-4",children:a.budget?a.budget.charAt(0).toUpperCase()+a.budget.slice(1):"Not selected"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-primary-900 mb-2",children:"Travel Style"}),e.jsx("p",{className:"text-primary-600 mb-4",children:((U=y.find(C=>C.id===a.travelStyle))==null?void 0:U.name)||"Not selected"}),e.jsx("h3",{className:"font-semibold text-primary-900 mb-2",children:"Interests"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:a.interests.map(C=>{const q=h.find(X=>X.id===C);return q?e.jsxs("span",{className:"px-2 py-1 bg-blue-50 text-blue-ocean rounded text-sm",children:[q.icon," ",q.name]},C):null})}),e.jsx("h3",{className:"font-semibold text-primary-900 mb-2",children:"Group Size"}),e.jsxs("p",{className:"text-primary-600",children:[a.groupSize," traveler",a.groupSize>1?"s":""]})]})]}),a.specialRequests&&e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsx("h3",{className:"font-semibold text-primary-900 mb-2",children:"Special Requests"}),e.jsx("p",{className:"text-primary-600",children:a.specialRequests})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(M,{size:"lg",onClick:P,className:"px-8",disabled:x,children:x?e.jsx(Xe,{size:"sm"}):"🎯 Generate My Perfect Trip"}),e.jsx("p",{className:"text-sm text-primary-600 mt-2",children:"This will take 30-60 seconds to create your custom itinerary"})]})]});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"bg-primary-50 py-6 border-b",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("button",{onClick:()=>t("/trips"),className:"flex items-center gap-2 text-primary-600 hover:text-primary-900 transition-colors mb-4",children:[e.jsx("span",{children:"←"}),e.jsx("span",{children:"Back to Trips"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>t("/ai-itinerary"),className:"px-4 py-2 bg-primary-100 text-primary-700 rounded-lg font-semibold hover:bg-primary-200",children:"🤖 AI Builder"}),e.jsx("button",{onClick:()=>t("/trips"),className:"px-4 py-2 bg-primary-100 text-primary-700 rounded-lg font-semibold hover:bg-primary-200",children:"🧳 Trips"}),e.jsx("button",{className:"px-4 py-2 bg-blue-ocean text-white rounded-lg font-semibold",children:"🛠️ Custom"})]})]})}),e.jsx("section",{className:"py-6 bg-white border-b",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-primary-900",children:"Custom Trip Builder"}),e.jsxs("span",{className:"text-sm text-primary-600",children:["Step ",s," of ",j.length]})]}),e.jsx("div",{className:"flex items-center",children:j.map((O,U)=>e.jsxs(ht.Fragment,{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ${s>=O.id?"bg-blue-ocean text-white":"bg-primary-200 text-primary-600"}`,children:O.icon}),e.jsx("div",{className:"ml-2 hidden md:block",children:e.jsx("div",{className:`text-sm font-semibold ${s>=O.id?"text-primary-900":"text-primary-500"}`,children:O.title})})]}),U<j.length-1&&e.jsx("div",{className:`flex-1 h-1 mx-4 ${s>O.id?"bg-blue-ocean":"bg-primary-200"}`})]},O.id))})]})}),e.jsx("section",{className:"py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[R(),e.jsxs("div",{className:"flex justify-between mt-12",children:[e.jsx(M,{variant:"outline",onClick:v,disabled:s===1,children:"Previous"}),s<j.length&&e.jsx(M,{onClick:f,disabled:s===1&&!a.destination||s===2&&(!a.duration||!a.budget)||s===3&&!a.travelStyle||s===4&&a.interests.length===0,children:"Next"})]})]})})]})},R4={globalSearch:(t,s)=>qe.get("/search",{params:{q:t,...s}}),getSearchSuggestions:t=>qe.get("/search/suggestions",{params:{q:t}}),getPopularSearches:()=>qe.get("/search/popular")},F4=()=>{const[t]=Li(),s=rt(),[r,a]=b.useState([]),[i,n]=b.useState(!0),[l,o]=b.useState({type:"all",priceRange:"all",rating:0}),c=t.get("q")||"",m=[{id:"flight-1",type:"flight",title:"NYC → Paris",description:"Delta Airlines • Nonstop • 7h 15m",price:599,rating:4.8,image:"https://images.unsplash.com/photo-1502602898536-47ad22581b52?w=300&h=200&fit=crop"},{id:"hotel-1",type:"hotel",title:"Paris Luxury Hotel",description:"Downtown Paris • 5-star • Spa included",price:299,rating:4.9,image:"https://images.unsplash.com/photo-1564501049412-61c2a3083791?w=300&h=200&fit=crop",location:"Paris, France"},{id:"package-1",type:"package",title:"Paris Romance Package",description:"Flight + Hotel + Tours • 7 days",price:2499,rating:4.7,image:"https://images.unsplash.com/photo-1502602898536-47ad22581b52?w=300&h=200&fit=crop",location:"Paris, France",duration:7}];b.useEffect(()=>{c&&d()},[c,l]);const d=async()=>{n(!0);try{const u=await R4.globalSearch(c,{type:l.type==="all"?void 0:l.type});a(u.data.results||m)}catch{a(m)}finally{n(!1)}},x=u=>{switch(u){case"flight":return"✈️";case"hotel":return"🏨";case"package":return"📦";case"itinerary":return"🗺️";default:return"🔍"}},p=u=>{switch(u){case"flight":return"bg-blue-100 text-blue-700";case"hotel":return"bg-emerald/20 text-emerald";case"package":return"bg-purple-100 text-purple-700";case"itinerary":return"bg-amber-100 text-amber-700";default:return"bg-primary-100 text-primary-700"}},j=u=>{switch(u.type){case"flight":s(`/flights/${u.id}`);break;case"hotel":s(`/hotels/${u.id}`);break;case"package":case"trip":s(`/trips/${u.id}`);break;case"itinerary":s(`/trips/${u.id}`);break}},g=r.filter(u=>{if(l.type!=="all"&&u.type!==l.type||l.rating>0&&(!u.rating||u.rating<l.rating))return!1;if(l.priceRange!=="all"){const[y,h]=l.priceRange.split("-").map(Number);if(u.price<y||h&&u.price>h)return!1}return!0});return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"bg-primary-50 py-8 border-b",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"flex items-center gap-4 mb-4",children:e.jsxs("button",{onClick:()=>s(-1),className:"flex items-center gap-2 text-primary-600 hover:text-primary-900 transition-colors",children:[e.jsx("span",{children:"←"}),e.jsx("span",{children:"Back"})]})}),e.jsxs("h1",{className:"text-3xl font-bold text-primary-900 mb-2",children:['Search Results for "',c,'"']}),e.jsxs("p",{className:"text-primary-600",children:[g.length," results found"]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(oe,{className:"p-6 sticky top-4",children:[e.jsx("h3",{className:"text-lg font-bold text-primary-900 mb-4",children:"Filters"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-3",children:"Type"}),e.jsx("div",{className:"space-y-2",children:[{id:"all",label:"All Results"},{id:"flight",label:"Flights"},{id:"hotel",label:"Hotels"},{id:"trip",label:"Trips"}].map(u=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"type",value:u.id,checked:l.type===u.id,onChange:y=>o(h=>({...h,type:y.target.value})),className:"accent-blue-ocean"}),e.jsx("span",{className:"text-sm",children:u.label})]},u.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-3",children:"Price Range"}),e.jsxs("select",{value:l.priceRange,onChange:u=>o(y=>({...y,priceRange:u.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Prices"}),e.jsx("option",{value:"0-500",children:"Under $500"}),e.jsx("option",{value:"500-1000",children:"$500 - $1,000"}),e.jsx("option",{value:"1000-2500",children:"$1,000 - $2,500"}),e.jsx("option",{value:"2500-999999",children:"$2,500+"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-3",children:"Minimum Rating"}),e.jsx("div",{className:"space-y-2",children:[0,3,4,4.5].map(u=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"rating",value:u,checked:l.rating===u,onChange:y=>o(h=>({...h,rating:parseFloat(y.target.value)})),className:"accent-blue-ocean"}),e.jsx("span",{className:"text-sm",children:u===0?"Any Rating":`${u}+ stars`})]},u))})]}),e.jsx(M,{variant:"outline",fullWidth:!0,onClick:()=>o({type:"all",priceRange:"all",rating:0}),children:"Clear Filters"})]})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-primary-900",children:[g.length," results"]}),e.jsxs("select",{className:"px-4 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{children:"Sort by: Relevance"}),e.jsx("option",{children:"Price: Low to High"}),e.jsx("option",{children:"Price: High to Low"}),e.jsx("option",{children:"Rating"})]})]}),i?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Xe,{size:"lg"})}):e.jsx("div",{className:"space-y-4",children:g.map(u=>e.jsx(oe,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>j(u),children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("img",{src:u.image,alt:u.title,className:"w-full md:w-48 h-32 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-lg",children:x(u.type)}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${p(u.type)}`,children:u.type.toUpperCase()})]}),e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-1",children:u.title}),e.jsx("p",{className:"text-primary-600 mb-2",children:u.description}),u.location&&e.jsxs("p",{className:"text-sm text-primary-500",children:["📍 ",u.location]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-emerald",children:["$",u.price]}),u.duration&&e.jsxs("div",{className:"text-xs text-primary-500",children:[u.duration," days"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[u.rating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-amber-premium",children:"⭐"}),e.jsx("span",{className:"font-semibold",children:u.rating})]}),e.jsx(M,{size:"sm",children:"View Details"})]})]})]})},u.id))}),g.length===0&&!i&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-2",children:"No results found"}),e.jsx("p",{className:"text-primary-600 mb-6",children:"Try adjusting your search or filters"}),e.jsx(M,{onClick:()=>s("/"),children:"Back to Home"})]})]})]})})]})},I4=({isOpen:t,onClose:s,title:r,children:a})=>t?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-bold text-primary-900",children:r}),e.jsx("button",{onClick:s,className:"text-2xl text-primary-400 hover:text-primary-600",children:"×"})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:a}),e.jsx("div",{className:"flex justify-end gap-3 p-6 border-t",children:e.jsx(M,{variant:"outline",onClick:s,children:"Close"})})]})}):null,L4=({onCreatePackage:t,onEditPackage:s})=>{const[r,a]=b.useState([]),[i,n]=b.useState(!0),[l,o]=b.useState(""),[c,m]=b.useState("all"),[d,x]=b.useState("all");b.useEffect(()=>{p()},[]);const p=async()=>{try{n(!0);const h=await ge.get("/admin/packages");h.success&&h.data&&a(h.data.packages||h.data)}catch(h){console.error("Failed to fetch packages:",h)}finally{n(!1)}},j=async h=>{if(confirm("Are you sure you want to delete this package?"))try{await ge.delete(`/admin/packages/${h}`),a(r.filter(f=>f._id!==h))}catch{alert("Failed to delete package")}},g=async(h,f)=>{var v;try{const T=await ge.put(`/admin/packages/${h}`,{featured:!f});T.success?a(r.map(P=>P._id===h?{...P,featured:!f}:P)):alert("Failed to update package: "+(((v=T.error)==null?void 0:v.message)||"Unknown error"))}catch(T){console.error("Toggle featured error:",T),alert("Failed to update package")}},u=r.filter(h=>{const f=h.title.toLowerCase().includes(l.toLowerCase())||h.destinations.some(P=>P.toLowerCase().includes(l.toLowerCase())),v=c==="all"||h.status===c,T=d==="all"||h.category===d;return f&&v&&T}),y=h=>{var T;if(!h||h.length===0)return"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop";if(typeof h[0]=="string")return h[0];const f=h,v=f.find(P=>P.isPrimary);return(v==null?void 0:v.url)||((T=f[0])==null?void 0:T.url)||"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop"};return i?e.jsx(oe,{className:"p-6",children:e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Xe,{size:"lg"})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:"Package Management"}),e.jsx("p",{className:"text-primary-600",children:"Manage your travel packages"})]}),e.jsx(M,{onClick:t,children:"+ Add Package"})]}),e.jsx(oe,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Search packages...",value:l,onChange:h=>o(h.target.value),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})}),e.jsx("div",{children:e.jsxs("select",{value:c,onChange:h=>m(h.target.value),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsx("div",{children:e.jsxs("select",{value:d,onChange:h=>x(h.target.value),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"adventure",children:"Adventure"}),e.jsx("option",{value:"luxury",children:"Luxury"}),e.jsx("option",{value:"cultural",children:"Cultural"}),e.jsx("option",{value:"beach",children:"Beach"}),e.jsx("option",{value:"family",children:"Family"})]})}),e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"text-sm text-primary-600",children:[u.length," of ",r.length," packages"]})})]})}),u.length===0?e.jsxs(oe,{className:"p-12 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📦"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No packages found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first package to get started"}),e.jsx(M,{onClick:t,children:"Create Package"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(h=>{var f,v;return e.jsxs(oe,{className:"overflow-hidden",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:y(h.images),alt:h.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"absolute top-2 left-2 flex gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold text-white ${h.status==="active"?"bg-emerald":"bg-red-500"}`,children:h.status.toUpperCase()}),h.featured&&e.jsx("span",{className:"px-2 py-1 rounded text-xs font-bold text-white bg-amber-500",children:"FEATURED"})]}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs("span",{className:"bg-primary-900 text-white px-2 py-1 rounded text-xs font-bold",children:[h.duration," days"]})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs font-semibold",children:h.category})}),e.jsx("h3",{className:"text-lg font-bold text-primary-900 mb-2",children:h.title}),e.jsxs("p",{className:"text-primary-600 mb-2",children:["📍 ",h.destinations.join(", ")]}),e.jsx("p",{className:"text-primary-600 text-sm mb-4 line-clamp-2",children:h.description}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"text-xl font-bold text-emerald",children:["$",h.price.amount," ",h.price.currency]}),e.jsxs("div",{className:"text-sm text-primary-500",children:[((f=h.images)==null?void 0:f.length)||0," image",(((v=h.images)==null?void 0:v.length)||0)!==1?"s":""]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{size:"sm",variant:"outline",onClick:()=>g(h._id,h.featured),className:"flex-1",children:h.featured?"Unfeature":"Feature"}),e.jsx(M,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>s?s(h._id):alert("Edit functionality coming soon"),children:"Edit"}),e.jsx(M,{size:"sm",variant:"outline",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:()=>j(h._id),children:"Delete"})]})]})]},h._id)})})]})},Bd=({options:t,value:s,onChange:r,placeholder:a="Select options...",searchable:i=!0,maxHeight:n="max-h-60",disabled:l=!1})=>{const[o,c]=b.useState(!1),[m,d]=b.useState(""),x=b.useRef(null),p=i?t.filter(y=>{var h;return y.label.toLowerCase().includes(m.toLowerCase())||((h=y.subtitle)==null?void 0:h.toLowerCase().includes(m.toLowerCase()))}):t,j=t.filter(y=>s.includes(y.value));b.useEffect(()=>{const y=h=>{x.current&&!x.current.contains(h.target)&&c(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const g=y=>{s.includes(y)?r(s.filter(h=>h!==y)):r([...s,y])},u=y=>{r(s.filter(h=>h!==y))};return e.jsxs("div",{className:"relative",ref:x,children:[e.jsxs("div",{className:`min-h-[42px] w-full px-3 py-2 border border-primary-300 rounded-md focus-within:ring-2 focus-within:ring-blue-ocean focus-within:border-blue-ocean cursor-pointer ${l?"bg-gray-100 cursor-not-allowed":"bg-white"}`,onClick:()=>!l&&c(!o),children:[j.length===0?e.jsx("span",{className:"text-primary-400",children:a}):e.jsx("div",{className:"flex flex-wrap gap-1",children:j.map(y=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-ocean text-white",children:[y.label,!l&&e.jsx("button",{type:"button",onClick:h=>{h.stopPropagation(),u(y.value)},className:"ml-1 text-white hover:text-gray-200",children:"×"})]},y.value))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-primary-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),o&&!l&&e.jsxs("div",{className:`absolute z-50 w-full mt-1 bg-white border border-primary-300 rounded-md shadow-lg ${n} overflow-hidden`,children:[i&&e.jsx("div",{className:"p-2 border-b border-primary-200",children:e.jsx("input",{type:"text",placeholder:"Search...",value:m,onChange:y=>d(y.target.value),className:"w-full px-2 py-1 text-sm border border-primary-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-ocean",onClick:y=>y.stopPropagation()})}),e.jsx("div",{className:"overflow-y-auto max-h-48",children:p.length===0?e.jsx("div",{className:"px-3 py-2 text-sm text-primary-500",children:"No options found"}):p.map(y=>e.jsxs("div",{className:`px-3 py-2 cursor-pointer hover:bg-primary-50 flex items-center justify-between ${s.includes(y.value)?"bg-blue-50 text-blue-ocean":"text-primary-900"}`,onClick:()=>g(y.value),children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:y.label}),y.subtitle&&e.jsx("div",{className:"text-xs text-primary-500",children:y.subtitle})]}),s.includes(y.value)&&e.jsx("svg",{className:"h-4 w-4 text-blue-ocean",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},y.value))})]})]})},M4=({initialItinerary:t={overview:"",days:[]},tripDuration:s=7,onSave:r})=>{var f,v,T,P,R,O,U,C,q,X;const[a]=b.useState(s),[i,n]=b.useState(1),[l,o]=b.useState(!1),[c,m]=b.useState(null),[d,x]=b.useState(()=>{var D;const N=[];for(let G=1;G<=s;G++){const $=(D=t.days)==null?void 0:D.find(J=>J.day===G);N.push($?{...$,location:$.locationName||$.location||""}:{day:G,title:`Day ${G}`,description:"",location:"",activities:[],estimatedCost:{currency:"USD",amount:0},tips:[]})}return N}),p=d.find(N=>N.day===i)||{title:`Day ${i}`,description:"",location:"",activities:[],tips:[]},j=N=>{const D={...N,time:"09:00"},G=d.map($=>$.day===i?{...$,activities:[...$.activities,D]}:$);x(G),o(!1)},g=N=>{const D=d.map(G=>G.day===i?{...G,...N}:G);x(D)},u=(N,D)=>{const G=d.map($=>$.day===i?{...$,activities:$.activities.map((J,E)=>E===N?{...J,...D}:J)}:$);x(G),m(null),o(!1)},y=N=>{const D=d.map(G=>G.day===i?{...G,activities:G.activities.filter(($,J)=>J!==N)}:G);x(D)},h=async()=>{const N={overview:t.overview||"",days:d.map((D,G)=>({day:D.day||G+1,title:D.title||`Day ${G+1}`,description:D.description||"",locationName:D.location||"",activities:(D.activities||[]).map($=>({...$,location:typeof $.location=="string"?$.location:$.location||""})),estimatedCost:D.estimatedCost||{currency:"USD",amount:0},tips:D.tips||[]}))};await r(N)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-bold text-primary-900",children:["Trip Itinerary (",a," days)"]}),e.jsx(M,{onClick:h,size:"sm",children:"💾 Save Itinerary"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"space-y-2",children:Array.from({length:a},(N,D)=>D+1).map(N=>{var D;return e.jsxs("button",{onClick:()=>n(N),className:`w-full text-left px-4 py-3 rounded-lg border transition-all ${i===N?"bg-blue-ocean text-white border-blue-ocean":"bg-white text-primary-700 border-primary-200 hover:border-blue-ocean"}`,children:[e.jsxs("div",{className:"font-semibold",children:["Day ",N]}),e.jsxs("div",{className:"text-sm opacity-75",children:[((D=d.find(G=>G.day===N))==null?void 0:D.activities.length)||0," activities"]})]},N)})})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(oe,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h4",{className:"text-xl font-bold text-primary-900",children:["Day ",i]}),e.jsx(M,{onClick:()=>o(!0),children:"+ Add Activity"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Day Title"}),e.jsx("input",{type:"text",value:(p==null?void 0:p.title)||"",onChange:N=>g({title:N.target.value}),className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean",placeholder:"e.g., Arrival & City Tour"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Location"}),e.jsx("input",{type:"text",value:(p==null?void 0:p.location)||"",onChange:N=>g({location:N.target.value}),className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean",placeholder:"e.g., Tokyo, Japan"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Description"}),e.jsx("textarea",{value:(p==null?void 0:p.description)||"",onChange:N=>g({description:N.target.value}),rows:2,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean",placeholder:"Brief description of the day's activities..."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"font-semibold text-primary-900",children:"Activities"}),p.activities.length===0?e.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-primary-200 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-2",children:"📅"}),e.jsx("p",{className:"text-primary-600 mb-4",children:"No activities planned for this day"}),e.jsx(M,{onClick:()=>o(!0),children:"Add First Activity"})]}):e.jsx("div",{className:"space-y-3",children:p.activities.map((N,D)=>e.jsxs("div",{className:"flex items-center gap-4 p-4 border border-primary-200 rounded-lg",children:[e.jsx("div",{className:"text-sm font-mono text-primary-600 min-w-[60px]",children:N.time}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-primary-900",children:N.title}),e.jsx("div",{className:"text-sm text-primary-600",children:N.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-xs bg-primary-100 text-primary-700 px-2 py-1 rounded",children:N.type}),e.jsxs("span",{className:"text-xs text-primary-500",children:[N.duration,"min"]}),N.estimatedCost.amount>0&&e.jsxs("span",{className:"text-xs text-emerald",children:["$",N.estimatedCost.amount]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{size:"sm",variant:"outline",onClick:()=>m(D),children:"Edit"}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>y(D),children:"Remove"})]})]},D))})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Tips for this day"}),e.jsx("textarea",{value:p.tips.join(`
`),onChange:N=>g({tips:N.target.value.split(`
`).filter(D=>D.trim())}),rows:3,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean",placeholder:"Enter tips, one per line..."})]})]})})]}),(l||c!==null)&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(oe,{className:"p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h4",{className:"text-lg font-bold text-primary-900",children:c!==null?"Edit Activity":"Add Activity"}),e.jsx("button",{onClick:()=>{o(!1),m(null)},className:"text-2xl text-primary-400",children:"×"})]}),e.jsxs("form",{onSubmit:N=>{N.preventDefault();const D=new FormData(N.currentTarget),G={time:D.get("time")||"09:00",title:D.get("title"),description:D.get("description"),type:D.get("type"),duration:parseInt(D.get("duration")),location:D.get("location"),estimatedCost:{currency:"USD",amount:parseInt(D.get("cost"))||0,perPerson:!0},included:D.get("included")==="on",optional:D.get("optional")==="on"};c!==null?u(c,G):j(G)},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Activity Title"}),e.jsx("input",{name:"title",type:"text",required:!0,defaultValue:c!==null&&((f=p.activities[c])==null?void 0:f.title)||"",className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Type"}),e.jsxs("select",{name:"type",required:!0,defaultValue:c!==null&&((v=p.activities[c])==null?void 0:v.type)||"activity",className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean",children:[e.jsx("option",{value:"activity",children:"Activity"}),e.jsx("option",{value:"sightseeing",children:"Sightseeing"}),e.jsx("option",{value:"adventure",children:"Adventure"}),e.jsx("option",{value:"cultural",children:"Cultural"}),e.jsx("option",{value:"meal",children:"Meal"}),e.jsx("option",{value:"transport",children:"Transport"}),e.jsx("option",{value:"accommodation",children:"Accommodation"}),e.jsx("option",{value:"shopping",children:"Shopping"}),e.jsx("option",{value:"entertainment",children:"Entertainment"}),e.jsx("option",{value:"wellness",children:"Wellness"}),e.jsx("option",{value:"free-time",children:"Free Time"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Description"}),e.jsx("textarea",{name:"description",rows:2,defaultValue:c!==null&&((T=p.activities[c])==null?void 0:T.description)||"",className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Time"}),e.jsx("input",{name:"time",type:"time",defaultValue:c!==null&&((P=p.activities[c])==null?void 0:P.time)||"09:00",className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Duration (min)"}),e.jsx("input",{name:"duration",type:"number",min:"15",step:"15",defaultValue:c!==null&&((R=p.activities[c])==null?void 0:R.duration)||60,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Cost ($)"}),e.jsx("input",{name:"cost",type:"number",min:"0",defaultValue:c!==null&&((U=(O=p.activities[c])==null?void 0:O.estimatedCost)==null?void 0:U.amount)||0,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Location"}),e.jsx("input",{name:"location",type:"text",defaultValue:c!==null&&((C=p.activities[c])==null?void 0:C.location)||"",className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{name:"included",type:"checkbox",defaultChecked:c!==null?((q=p.activities[c])==null?void 0:q.included)!==!1:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Included in price"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{name:"optional",type:"checkbox",defaultChecked:c!==null&&((X=p.activities[c])==null?void 0:X.optional)||!1,className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Optional activity"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>{o(!1),m(null)},children:"Cancel"}),e.jsx(M,{type:"submit",children:c!==null?"Update Activity":"Add Activity"})]})]})]})})]})},$4=({images:t=[],onImagesChange:s,onImagesUploaded:r,maxImages:a=We.MAX_IMAGES,category:i="general",packageId:n})=>{const[l,o]=b.useState(!1),c=async p=>{if(!p.target.files||p.target.files.length===0)return;if(t.length+p.target.files.length>a){alert(`Maximum ${a} images allowed`);return}o(!0);const j=new FormData;Array.from(p.target.files).forEach((g,u)=>{j.append("images",g),j.append(`alt_${u}`,`${i} image ${t.length+u+1}`),j.append(`category_${u}`,i)});try{const g=await fetch(`${Ke.BASE_URL}${Ft.UPLOAD_MULTIPLE}`,{method:"POST",body:j});if(g.ok){const u=await g.json();if(u.success&&u.data.images){const y=[...t,...u.data.images];s==null||s(y),r==null||r(u.data.images)}}else throw new Error("Upload failed")}catch(g){console.error("Upload failed:",g),alert("Failed to upload images. Please try again.")}finally{o(!1)}},m=async p=>{const j=t[p];try{await fetch(`${Ke.BASE_URL}${Ft.UPLOAD_DELETE(j.filename)}`,{method:"DELETE"});const g=t.filter((u,y)=>y!==p);s==null||s(g)}catch(g){console.error("Failed to delete image:",g)}},d=(p,j,g)=>{const u=[...t];u[p]={...u[p],[j]:g},s==null||s(u)},x=p=>{const j=t.map((g,u)=>({...g,isPrimary:u===p}));s==null||s(j)};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-primary-300 rounded-lg p-6 text-center",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:c,disabled:l||t.length>=a,className:"hidden",id:"image-upload"}),e.jsxs("label",{htmlFor:"image-upload",className:`cursor-pointer ${l||t.length>=a?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("div",{className:"text-4xl mb-2",children:"📸"}),e.jsx("div",{className:"text-lg font-medium text-primary-900 mb-2",children:l?"Uploading...":"Upload Images"}),e.jsx("div",{className:"text-sm text-primary-600",children:"Click to select images or drag and drop"}),e.jsxs("div",{className:"text-xs text-primary-500 mt-1",children:[t.length,"/",a," images • Max 5MB per image"]})]})]}),t.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((p,j)=>e.jsxs("div",{className:"relative border border-primary-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"relative aspect-video",children:[e.jsx("img",{src:p.url.startsWith("http")?p.url:`${Ke.BASE_URL.replace("/api","")}${p.url}`,alt:p.alt,className:"w-full h-full object-cover"}),p.isPrimary&&e.jsx("div",{className:"absolute top-2 left-2 bg-blue-ocean text-white px-2 py-1 rounded text-xs font-bold",children:"Primary"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[!p.isPrimary&&e.jsx("button",{onClick:()=>x(j),className:"bg-white bg-opacity-80 hover:bg-opacity-100 text-primary-700 p-1 rounded text-xs",title:"Set as primary",children:"⭐"}),e.jsx("button",{onClick:()=>m(j),className:"bg-red-500 bg-opacity-80 hover:bg-opacity-100 text-white p-1 rounded text-xs",title:"Remove image",children:"✕"})]})]}),e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-primary-700 mb-1",children:"Alt Text"}),e.jsx("input",{type:"text",value:p.alt,onChange:g=>d(j,"alt",g.target.value),className:"w-full px-2 py-1 text-xs border border-primary-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-ocean",placeholder:"Describe this image"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-primary-700 mb-1",children:"Category"}),e.jsxs("select",{value:p.category||"other",onChange:g=>d(j,"category",g.target.value),className:"w-full px-2 py-1 text-xs border border-primary-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-ocean",children:[e.jsx("option",{value:"trip",children:"Trip"}),e.jsx("option",{value:"destination",children:"Destination"}),e.jsx("option",{value:"activity",children:"Activity"}),e.jsx("option",{value:"accommodation",children:"Accommodation"}),e.jsx("option",{value:"food",children:"Food"}),e.jsx("option",{value:"transport",children:"Transport"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"text-xs text-primary-500",children:["Size: ",(p.size/1024).toFixed(1)," KB"]})]})]},j))}),t.length<a&&e.jsx(M,{type:"button",variant:"outline",onClick:()=>{var p;return(p=document.getElementById("image-upload"))==null?void 0:p.click()},disabled:l,className:"w-full",children:l?"Uploading...":`Add More Images (${t.length}/${a})`})]})},O4=({packageId:t,onClose:s})=>{const[r,a]=b.useState(1),[i,n]=b.useState(null),[l,o]=b.useState(!1),[c,m]=b.useState(!1),[d,x]=b.useState({overview:"",days:[]}),[p,j]=b.useState(n4.MIN_DURATION_DAYS),[g,u]=b.useState([]),[y,h]=b.useState([]),[f,v]=b.useState(!1),[T,P]=b.useState([]),[R,O]=b.useState([]),[U,C]=b.useState([]),[q,X]=b.useState([]),[N,D]=b.useState([]),[G,$]=b.useState({flights:[],hotels:[],activities:[],transport:[],meals:[],guides:!1}),J=!!t,E=Lr({defaultValues:{currency:We.DEFAULT_CURRENCY,featured:!1}}),_=b.useCallback(()=>{const S={flights:parseFloat(E.getValues("priceBreakdownFlights"))||0,accommodation:parseFloat(E.getValues("priceBreakdownAccommodation"))||0,activities:parseFloat(E.getValues("priceBreakdownActivities"))||0,food:parseFloat(E.getValues("priceBreakdownFood"))||0,transport:parseFloat(E.getValues("priceBreakdownTransport"))||0,other:parseFloat(E.getValues("priceBreakdownOther"))||0},ne=Object.values(S).reduce((Se,Ae)=>Se+Ae,0);E.setValue("sellPrice",ne);const Z=parseFloat(E.getValues("basePrice"))||0;if(Z>0&&ne>0){const Se=((ne-Z)/Z*100).toFixed(1);E.setValue("profitMargin",parseFloat(Se))}const K=parseFloat(E.getValues("discountPercent"))||0,se=parseFloat(E.getValues("discountAmount"))||0;let be=ne;K>0?(be=ne-ne*K/100,E.setValue("discountAmount",parseFloat((ne*K/100).toFixed(2)))):se>0&&(be=ne-se,E.setValue("discountPercent",parseFloat((se/ne*100).toFixed(1)))),E.setValue("finalPrice",parseFloat(be.toFixed(2)))},[E]),H=[{id:1,title:"Basic Info",icon:"📝"},{id:2,title:"Pricing",icon:"💰"},{id:3,title:"Itinerary",icon:"🗓️"},{id:4,title:"Travel Info",icon:"ℹ️"},{id:5,title:"Settings",icon:"⚙️"},{id:6,title:"Images",icon:"📸"}];b.useEffect(()=>(V(),J&&t&&ae(),()=>{P([]),v(!1)}),[J,t]);const V=async()=>{var S,ne,Z;try{const[K,se,be]=await Promise.all([ge.get(`${Ft.MASTER_CATEGORIES}?type=trip`),ge.get(`/locations/cities?limit=${We.DEFAULT_PAGE_SIZE*10}`),ge.get(Ft.MASTER_COUNTRIES)]);K.success&&h(((S=K.data)==null?void 0:S.categories)||[]),se.success&&O(((ne=se.data)==null?void 0:ne.cities)||[]),be.success&&C(((Z=be.data)==null?void 0:Z.countries)||[])}catch(K){console.error("Failed to load master data:",K)}},ae=async()=>{var S,ne,Z,K,se,be,Se,Ae,Le,Te,Fe,Me,Be,$e,A,z,w,W,B,k,L,ce,xe,ie,le,te,ve,Oe,Ie,Je,ct,Lt,Tt,ls,Mt,At,Jt,os,Ne,Xt,Br,zr,Ur,Vr,qr,Wr,Gr,Hr,Qr,Zr,Yr,Kr,Jr,Xr,ea,ta,sa,ra,aa,na,ia,la,oa,ca,da,ma,ua,pa,xa,ha,fa,ga,ya,ba,va,ja,Na,wa,Sa,ka,Ca,I,Q,pe,Ce,He,Re,ye,we,tt,Nt,zt,Os,fr,Bs,gr,Es,ed,Oi,pp,xp,hp,fp,gp,yp,bp,vp,jp,Np,wp,Sp,kp,Cp,_p,Pp,Ep,Dp,Tp,Ap,Rp,Fp,Ip,Lp,Mp,$p,Op,Bp,zp,Up,Vp,qp,Wp,Gp,Hp,Qp,Zp,Yp,Kp,Jp;o(!0);try{const mn=await ge.get(`${Ft.TRIPS}/${t}`);if(mn.success&&mn.data){const Y=((S=mn.data)==null?void 0:S.trip)||((ne=mn.data)==null?void 0:ne.package)||mn.data,Xy=((Z=Y.highlights)==null?void 0:Z.join(", "))||((K=Y.tags)==null?void 0:K.filter(dt=>["5-star","luxury","villa","spa","resort","private","premium"].some(cs=>dt.toLowerCase().includes(cs))).join(", "))||"",eb=((se=Y.includes)==null?void 0:se.join(", "))||((be=Y.tags)==null?void 0:be.filter(dt=>["flights","hotels","meals","tours","guide","transport","accommodation"].some(cs=>dt.toLowerCase().includes(cs))).join(", "))||"",tb=((Se=Y.excludes)==null?void 0:Se.join(", "))||((Ae=Y.tags)==null?void 0:Ae.filter(dt=>["insurance","personal","visa","tips"].some(cs=>dt.toLowerCase().includes(cs))).join(", "))||"";E.reset({title:Y.title||"",description:Y.description||"",destinations:(()=>{var cs,Bi;const dt=[];return(cs=Y.primaryDestination)!=null&&cs.name&&(dt.push(Y.primaryDestination.name),(Bi=Y.primaryDestination.country)!=null&&Bi.name&&dt.push(Y.primaryDestination.country.name)),Y.destinations&&Y.destinations.length>0&&Y.destinations.forEach(un=>{typeof un=="string"?dt.push(un):un.name&&dt.push(un.name)}),dt.join(", ")})(),duration:((Le=Y.duration)==null?void 0:Le.days)||Y.duration||7,price:((Te=Y.pricing)==null?void 0:Te.estimated)||((Fe=Y.price)==null?void 0:Fe.amount)||Y.price||0,basePrice:((Me=Y.pricing)==null?void 0:Me.basePrice)||0,sellPrice:((Be=Y.pricing)==null?void 0:Be.sellPrice)||0,discountPercent:(($e=Y.pricing)==null?void 0:$e.discountPercent)||0,discountAmount:((A=Y.pricing)==null?void 0:A.discountAmount)||0,finalPrice:((z=Y.pricing)==null?void 0:z.finalPrice)||0,profitMargin:((w=Y.pricing)==null?void 0:w.profitMargin)||0,taxIncluded:((W=Y.pricing)==null?void 0:W.taxIncluded)!==!1,currency:((B=Y.pricing)==null?void 0:B.currency)||((k=Y.price)==null?void 0:k.currency)||"USD",category:((L=Y.category)==null?void 0:L.name)||Y.category||"",highlights:Xy,includes:eb,excludes:tb,featured:Y.featured||!1,quickAccess:Y.quickAccess||!1,template:Y.template||!1,priority:Y.priority||0,status:Y.status||"draft",type:Y.type||"custom",tags:((ce=Y.tags)==null?void 0:ce.join(", "))||"",travelStyle:Y.travelStyle||"cultural",difficulty:Y.difficulty||"moderate",couples:((xe=Y.suitableFor)==null?void 0:xe.couples)||!1,families:((ie=Y.suitableFor)==null?void 0:ie.families)||!1,soloTravelers:((le=Y.suitableFor)==null?void 0:le.soloTravelers)||!1,groups:((te=Y.suitableFor)==null?void 0:te.groups)||!1,minGroupSize:((ve=Y.groupSize)==null?void 0:ve.min)||1,maxGroupSize:((Oe=Y.groupSize)==null?void 0:Oe.max)||20,recommendedGroupSize:((Ie=Y.groupSize)==null?void 0:Ie.recommended)||4,fitnessLevel:((Je=Y.physicalRequirements)==null?void 0:Je.fitnessLevel)||"low",walkingDistance:((ct=Y.physicalRequirements)==null?void 0:ct.walkingDistance)||0,altitude:((Lt=Y.physicalRequirements)==null?void 0:Lt.altitude)||0,specialNeeds:((ls=(Tt=Y.physicalRequirements)==null?void 0:Tt.specialNeeds)==null?void 0:ls.join(", "))||"",priceRange:((Mt=Y.pricing)==null?void 0:Mt.priceRange)||"mid-range",priceBreakdownFlights:((Jt=(At=Y.pricing)==null?void 0:At.breakdown)==null?void 0:Jt.flights)||0,priceBreakdownAccommodation:((Ne=(os=Y.pricing)==null?void 0:os.breakdown)==null?void 0:Ne.accommodation)||0,priceBreakdownActivities:((Br=(Xt=Y.pricing)==null?void 0:Xt.breakdown)==null?void 0:Br.activities)||0,priceBreakdownFood:((Ur=(zr=Y.pricing)==null?void 0:zr.breakdown)==null?void 0:Ur.food)||0,priceBreakdownTransport:((qr=(Vr=Y.pricing)==null?void 0:Vr.breakdown)==null?void 0:qr.transport)||0,priceBreakdownOther:((Gr=(Wr=Y.pricing)==null?void 0:Wr.breakdown)==null?void 0:Gr.other)||0,instantBook:((Hr=Y.bookingInfo)==null?void 0:Hr.instantBook)||!1,requiresApproval:((Qr=Y.bookingInfo)==null?void 0:Qr.requiresApproval)!==!1,advanceBooking:((Zr=Y.bookingInfo)==null?void 0:Zr.advanceBooking)||7,cancellationPolicy:((Yr=Y.bookingInfo)==null?void 0:Yr.cancellationPolicy)||"",paymentTerms:((Kr=Y.bookingInfo)==null?void 0:Kr.paymentTerms)||"",depositRequired:((Jr=Y.bookingInfo)==null?void 0:Jr.depositRequired)||50,finalPaymentDue:((Xr=Y.bookingInfo)==null?void 0:Xr.finalPaymentDue)||30,bestTimeMonths:Array.isArray((ta=(ea=Y.travelInfo)==null?void 0:ea.bestTimeToVisit)==null?void 0:ta.months)?Y.travelInfo.bestTimeToVisit.months.join(", "):((ra=(sa=Y.travelInfo)==null?void 0:sa.bestTimeToVisit)==null?void 0:ra.months)||"",weather:((na=(aa=Y.travelInfo)==null?void 0:aa.bestTimeToVisit)==null?void 0:na.weather)||"",minTemp:((oa=(la=(ia=Y.travelInfo)==null?void 0:ia.bestTimeToVisit)==null?void 0:la.temperature)==null?void 0:oa.min)||0,maxTemp:((ma=(da=(ca=Y.travelInfo)==null?void 0:ca.bestTimeToVisit)==null?void 0:da.temperature)==null?void 0:ma.max)||0,rainfall:((pa=(ua=Y.travelInfo)==null?void 0:ua.bestTimeToVisit)==null?void 0:pa.rainfall)||"",visaRequired:((ha=(xa=Y.travelInfo)==null?void 0:xa.visaRequirements)==null?void 0:ha.required)||!1,visaCountries:Array.isArray((ga=(fa=Y.travelInfo)==null?void 0:fa.visaRequirements)==null?void 0:ga.countries)?Y.travelInfo.visaRequirements.countries.join(", "):((ba=(ya=Y.travelInfo)==null?void 0:ya.visaRequirements)==null?void 0:ba.countries)||"",visaProcessingTime:((ja=(va=Y.travelInfo)==null?void 0:va.visaRequirements)==null?void 0:ja.processingTime)||"",visaCost:((wa=(Na=Y.travelInfo)==null?void 0:Na.visaRequirements)==null?void 0:wa.cost)||0,healthInsurance:((ka=(Sa=Y.travelInfo)==null?void 0:Sa.healthRequirements)==null?void 0:ka.healthInsurance)||!1,vaccinations:Array.isArray((I=(Ca=Y.travelInfo)==null?void 0:Ca.healthRequirements)==null?void 0:I.vaccinations)?Y.travelInfo.healthRequirements.vaccinations.join(", "):((pe=(Q=Y.travelInfo)==null?void 0:Q.healthRequirements)==null?void 0:pe.vaccinations)||"",medicalFacilities:((He=(Ce=Y.travelInfo)==null?void 0:Ce.healthRequirements)==null?void 0:He.medicalFacilities)||"",safetyLevel:((ye=(Re=Y.travelInfo)==null?void 0:Re.safetyInformation)==null?void 0:ye.level)||"low",safetyWarnings:Array.isArray((tt=(we=Y.travelInfo)==null?void 0:we.safetyInformation)==null?void 0:tt.warnings)?Y.travelInfo.safetyInformation.warnings.join(", "):((zt=(Nt=Y.travelInfo)==null?void 0:Nt.safetyInformation)==null?void 0:zt.warnings)||"",emergencyContacts:Array.isArray((fr=(Os=Y.travelInfo)==null?void 0:Os.safetyInformation)==null?void 0:fr.emergencyContacts)?Y.travelInfo.safetyInformation.emergencyContacts.join(", "):((gr=(Bs=Y.travelInfo)==null?void 0:Bs.safetyInformation)==null?void 0:gr.emergencyContacts)||"",languages:Array.isArray((ed=(Es=Y.travelInfo)==null?void 0:Es.localCulture)==null?void 0:ed.language)?Y.travelInfo.localCulture.language.join(", "):((pp=(Oi=Y.travelInfo)==null?void 0:Oi.localCulture)==null?void 0:pp.language)||"",localCurrency:((hp=(xp=Y.travelInfo)==null?void 0:xp.localCulture)==null?void 0:hp.currency)||"",customs:Array.isArray((gp=(fp=Y.travelInfo)==null?void 0:fp.localCulture)==null?void 0:gp.customs)?Y.travelInfo.localCulture.customs.join(", "):((bp=(yp=Y.travelInfo)==null?void 0:yp.localCulture)==null?void 0:bp.customs)||"",etiquette:Array.isArray((jp=(vp=Y.travelInfo)==null?void 0:vp.localCulture)==null?void 0:jp.etiquette)?Y.travelInfo.localCulture.etiquette.join(", "):((wp=(Np=Y.travelInfo)==null?void 0:Np.localCulture)==null?void 0:wp.etiquette)||"",packingEssentials:Array.isArray((kp=(Sp=Y.travelInfo)==null?void 0:Sp.packingList)==null?void 0:kp.essentials)?Y.travelInfo.packingList.essentials.join(", "):((_p=(Cp=Y.travelInfo)==null?void 0:Cp.packingList)==null?void 0:_p.essentials)||"",packingClothing:Array.isArray((Ep=(Pp=Y.travelInfo)==null?void 0:Pp.packingList)==null?void 0:Ep.clothing)?Y.travelInfo.packingList.clothing.join(", "):((Tp=(Dp=Y.travelInfo)==null?void 0:Dp.packingList)==null?void 0:Tp.clothing)||"",packingEquipment:Array.isArray((Rp=(Ap=Y.travelInfo)==null?void 0:Ap.packingList)==null?void 0:Rp.equipment)?Y.travelInfo.packingList.equipment.join(", "):((Ip=(Fp=Y.travelInfo)==null?void 0:Fp.packingList)==null?void 0:Ip.equipment)||"",packingOptional:Array.isArray((Mp=(Lp=Y.travelInfo)==null?void 0:Lp.packingList)==null?void 0:Mp.optional)?Y.travelInfo.packingList.optional.join(", "):((Op=($p=Y.travelInfo)==null?void 0:$p.packingList)==null?void 0:Op.optional)||"",maxBookings:((Bp=Y.availability)==null?void 0:Bp.maxBookings)||20,seasonal:((zp=Y.availability)==null?void 0:zp.seasonal)||!1,isPublic:((Up=Y.sharing)==null?void 0:Up.isPublic)!==!1,allowCopy:((Vp=Y.sharing)==null?void 0:Vp.allowCopy)!==!1,allowComments:((qp=Y.sharing)==null?void 0:qp.allowComments)!==!1,customizableDuration:((Wp=Y.customizable)==null?void 0:Wp.duration)!==!1,customizableActivities:((Gp=Y.customizable)==null?void 0:Gp.activities)!==!1,customizableAccommodation:((Hp=Y.customizable)==null?void 0:Hp.accommodation)!==!1,customizableDates:((Qp=Y.customizable)==null?void 0:Qp.dates)!==!1,customizableGroupSize:((Zp=Y.customizable)==null?void 0:Zp.groupSize)!==!1});const td=[];if(Y.primaryDestination&&td.push(Y.primaryDestination._id||Y.primaryDestination),Y.destinations&&Y.destinations.length>0&&td.push(...Y.destinations.map(dt=>dt._id||dt)),X(td),Y.countries&&Y.countries.length>0&&D(Y.countries.map(dt=>dt._id||dt)),Y.itinerary){let dt;Array.isArray(Y.itinerary)?dt={overview:"",days:Y.itinerary}:Y.itinerary.days?dt=Y.itinerary:dt={overview:"",days:[]},dt.days&&(dt.days=dt.days.map(cs=>{var Bi,un;return{...cs,locationName:cs.locationName||cs.location||"",estimatedCost:{...cs.estimatedCost,currency:((Bi=cs.estimatedCost)==null?void 0:Bi.currency)||((un=Y.pricing)==null?void 0:un.currency)||"USD"}}})),x(dt),j(((Yp=Y.duration)==null?void 0:Yp.days)||((Kp=dt.days)==null?void 0:Kp.length)||7)}else j(((Jp=Y.duration)==null?void 0:Jp.days)||7);Y.includedServices&&$({flights:Y.includedServices.flights||[],hotels:Y.includedServices.hotels||[],activities:Y.includedServices.activities||[],transport:Y.includedServices.transport||[],meals:Y.includedServices.meals||[],guides:Y.includedServices.guides||!1}),Y.images&&u(Y.images)}}catch(mn){console.error("Failed to load package data",{error:mn,packageId:t})}finally{o(!1)}},me=async S=>{var ne,Z,K,se,be,Se,Ae,Le,Te,Fe,Me,Be,$e,A,z,w,W,B,k,L,ce,xe,ie,le,te,ve,Oe,Ie,Je,ct,Lt;m(!0),P([]);try{let Tt=q[0]||null,ls=null;if(!Tt){console.error("Form validation failed: No primary destination selected"),P(["Please select a primary destination"]),m(!1);return}if(S.category&&y.length>0){const Ne=y.find(Xt=>Xt.name.toLowerCase()===S.category.toLowerCase());Ne&&(ls=Ne._id)}const Mt=parseFloat((ne=S.basePrice)==null?void 0:ne.toString())||0,At=parseFloat((Z=S.sellPrice)==null?void 0:Z.toString())||0,Jt=parseFloat((K=S.finalPrice)==null?void 0:K.toString())||0;if(Mt>=At&&Mt>0){console.warn("Pricing validation failed: Sell price not higher than base price",{basePrice:Mt,sellPrice:At}),P(["Sell price must be higher than base price to ensure profit margin"]),m(!1);return}if(Jt>At&&At>0){console.warn("Pricing validation failed: Final price exceeds sell price",{finalPrice:Jt,sellPrice:At}),P(["Final price cannot be higher than sell price (check discount calculation)"]),m(!1);return}const os={title:S.title,description:S.description,primaryDestination:Tt,destinations:q.slice(1),countries:N,duration:{days:parseInt(S.duration.toString()),nights:parseInt(S.duration.toString())-1},pricing:{basePrice:Mt,sellPrice:At,discountPercent:parseFloat((se=S.discountPercent)==null?void 0:se.toString())||0,discountAmount:parseFloat((be=S.discountAmount)==null?void 0:be.toString())||0,finalPrice:Jt,profitMargin:parseFloat((Se=S.profitMargin)==null?void 0:Se.toString())||(At-Mt)/Mt*100,taxIncluded:S.taxIncluded!==!1,estimated:parseFloat((Ae=S.price)==null?void 0:Ae.toString())||parseFloat((Le=S.finalPrice)==null?void 0:Le.toString())||0,currency:S.currency||"USD",priceRange:S.priceRange||(parseFloat(((Te=S.price)==null?void 0:Te.toString())||"0")<1e3?"budget":parseFloat(((Fe=S.price)==null?void 0:Fe.toString())||"0")<3e3?"mid-range":"luxury"),breakdown:{flights:parseFloat((Me=S.priceBreakdownFlights)==null?void 0:Me.toString())||0,accommodation:parseFloat((Be=S.priceBreakdownAccommodation)==null?void 0:Be.toString())||0,activities:parseFloat(($e=S.priceBreakdownActivities)==null?void 0:$e.toString())||0,food:parseFloat((A=S.priceBreakdownFood)==null?void 0:A.toString())||0,transport:parseFloat((z=S.priceBreakdownTransport)==null?void 0:z.toString())||0,other:parseFloat((w=S.priceBreakdownOther)==null?void 0:w.toString())||0}},category:ls,tags:Array.from(new Set([...S.tags?S.tags.split(",").map(Ne=>Ne.trim()).filter(Ne=>Ne):[],...S.highlights?S.highlights.split(",").map(Ne=>Ne.trim()).filter(Ne=>Ne):[],...S.includes?S.includes.split(",").map(Ne=>Ne.trim()).filter(Ne=>Ne):[],...S.excludes?S.excludes.split(",").map(Ne=>Ne.trim()).filter(Ne=>Ne):[]])),highlights:S.highlights?S.highlights.split(",").map(Ne=>Ne.trim()).filter(Ne=>Ne):[],includes:S.includes?S.includes.split(",").map(Ne=>Ne.trim()).filter(Ne=>Ne):[],excludes:S.excludes?S.excludes.split(",").map(Ne=>Ne.trim()).filter(Ne=>Ne):[],featured:S.featured||!1,quickAccess:S.quickAccess||!1,template:S.template||!1,priority:parseInt((W=S.priority)==null?void 0:W.toString())||0,status:S.status||"published",type:S.type||"custom",suitableFor:{couples:S.couples||!1,families:S.families||!1,soloTravelers:S.soloTravelers||!1,groups:S.groups||!1},travelStyle:S.travelStyle||"cultural",difficulty:S.difficulty||"moderate",groupSize:{min:parseInt((B=S.minGroupSize)==null?void 0:B.toString())||1,max:parseInt((k=S.maxGroupSize)==null?void 0:k.toString())||20,recommended:parseInt((L=S.recommendedGroupSize)==null?void 0:L.toString())||4},physicalRequirements:{fitnessLevel:S.fitnessLevel||"low",walkingDistance:parseFloat((ce=S.walkingDistance)==null?void 0:ce.toString())||0,altitude:parseInt((xe=S.altitude)==null?void 0:xe.toString())||0,specialNeeds:S.specialNeeds?S.specialNeeds.split(",").map(Ne=>Ne.trim()).filter(Ne=>Ne):[]},customizable:{duration:S.customizableDuration!==!1,activities:S.customizableActivities!==!1,accommodation:S.customizableAccommodation!==!1,dates:S.customizableDates!==!1,groupSize:S.customizableGroupSize!==!1},bookingInfo:{instantBook:S.instantBook||!1,requiresApproval:S.requiresApproval!==!1,advanceBooking:parseInt((ie=S.advanceBooking)==null?void 0:ie.toString())||7,cancellationPolicy:S.cancellationPolicy||"",paymentTerms:S.paymentTerms||"",depositRequired:parseInt((le=S.depositRequired)==null?void 0:le.toString())||50,finalPaymentDue:parseInt((te=S.finalPaymentDue)==null?void 0:te.toString())||30},includedServices:G,travelInfo:{bestTimeToVisit:{months:S.bestTimeMonths?S.bestTimeMonths.split(",").map(Ne=>Ne.trim()):[],weather:S.weather||"",temperature:{min:S.minTemp||0,max:S.maxTemp||0}},visaRequirements:{required:S.visaRequired||!1,cost:S.visaCost||0},healthRequirements:{healthInsurance:S.healthInsurance||!1,vaccinations:S.vaccinations?S.vaccinations.split(",").map(Ne=>Ne.trim()):[]},safetyInformation:{level:S.safetyLevel||"low"},localCulture:{language:S.languages?S.languages.split(",").map(Ne=>Ne.trim()):[],currency:S.localCurrency||"",customs:S.customs?S.customs.split(",").map(Ne=>Ne.trim()):[]}},availability:{maxBookings:parseInt((ve=S.maxBookings)==null?void 0:ve.toString())||20,seasonal:S.seasonal||!1,startDates:[],currentBookings:[],blackoutDates:[]},sharing:{isPublic:S.isPublic!==!1,allowCopy:S.allowCopy!==!1,allowComments:S.allowComments!==!1}};if(J){const Ne=await ge.put(`${Ft.TRIPS}/${t}`,os);Ne.success?console.info("Package updated successfully",{packageId:t}):(console.error("Failed to update package",{packageId:t,error:Ne.errors}),P(Array.isArray(Ne.errors)?Ne.errors:[Ne.errors||"Failed to update package"]))}else{const Ne=await ge.post(Ft.TRIPS,os);if(Ne.success){const Xt=((Ie=(Oe=Ne.data)==null?void 0:Oe.trip)==null?void 0:Ie._id)||((ct=(Je=Ne.data)==null?void 0:Je.package)==null?void 0:ct._id)||((Lt=Ne.data)==null?void 0:Lt._id);console.info("Package created successfully",{createdId:Xt}),n(Xt),a(2)}else console.error("Failed to create package",{error:Ne.errors}),P(Array.isArray(Ne.errors)?Ne.errors:[Ne.errors||"Failed to create package"])}}catch(Tt){console.error("Package save operation failed",{error:Tt,isEditMode:J,packageId:t}),P(["Failed to save package. Please try again."])}finally{m(!1)}},F=async S=>{var Z;const ne=J?t:i;if(ne)try{const K=((Z=S.days)==null?void 0:Z.map((se,be)=>{const Se=se.day||be+1;return{day:Number(Se),title:se.title||`Day ${Se}`,description:se.description||"",locationName:se.locationName||se.location||"",activities:(se.activities||[]).map(Ae=>({...Ae,location:typeof Ae.location=="string"?Ae.location:Ae.location||""})),estimatedCost:se.estimatedCost||{currency:E.getValues("currency")||"USD",amount:0},tips:se.tips||[]}}))||[];await ge.put(`${Ft.TRIPS}/${ne}`,{itinerary:K}),x({...S,days:K}),J?console.info("Itinerary updated successfully",{targetPackageId:ne}):a(4)}catch(K){console.error("Itinerary save operation failed",{error:K,targetPackageId:ne,isEditMode:J})}},ee=async()=>{var Z;const S=E.getValues(),ne=J?t:i;if(!ne){console.warn("Save current tab failed: No target package ID available"),m(!1);return}m(!0);try{const K={travelInfo:{bestTimeToVisit:{months:S.bestTimeMonths?S.bestTimeMonths.split(",").map(se=>se.trim()).filter(se=>se):[],weather:S.weather||"",temperature:{min:S.minTemp||0,max:S.maxTemp||0},rainfall:S.rainfall||""},visaRequirements:{required:S.visaRequired||!1,countries:S.visaCountries?S.visaCountries.split(",").map(se=>se.trim()).filter(se=>se):[],processingTime:S.visaProcessingTime||"",cost:S.visaCost||0},healthRequirements:{healthInsurance:S.healthInsurance||!1,vaccinations:S.vaccinations?S.vaccinations.split(",").map(se=>se.trim()).filter(se=>se):[],medicalFacilities:S.medicalFacilities||""},safetyInformation:{level:S.safetyLevel||"low",warnings:S.safetyWarnings?S.safetyWarnings.split(",").map(se=>se.trim()).filter(se=>se):[],emergencyContacts:S.emergencyContacts?S.emergencyContacts.split(",").map(se=>se.trim()).filter(se=>se):[]},localCulture:{language:S.languages?S.languages.split(",").map(se=>se.trim()).filter(se=>se):[],currency:S.localCurrency||"",customs:S.customs?S.customs.split(",").map(se=>se.trim()).filter(se=>se):[],etiquette:S.etiquette?S.etiquette.split(",").map(se=>se.trim()).filter(se=>se):[]},packingList:{essentials:S.packingEssentials?S.packingEssentials.split(",").map(se=>se.trim()).filter(se=>se):[],clothing:S.packingClothing?S.packingClothing.split(",").map(se=>se.trim()).filter(se=>se):[],equipment:S.packingEquipment?S.packingEquipment.split(",").map(se=>se.trim()).filter(se=>se):[],optional:S.packingOptional?S.packingOptional.split(",").map(se=>se.trim()).filter(se=>se):[]}},availability:{maxBookings:parseInt((Z=S.maxBookings)==null?void 0:Z.toString())||20,seasonal:S.seasonal||!1},sharing:{isPublic:S.isPublic!==!1,allowCopy:S.allowCopy!==!1,allowComments:S.allowComments!==!1},customizable:{duration:S.customizableDuration!==!1,activities:S.customizableActivities!==!1,accommodation:S.customizableAccommodation!==!1,dates:S.customizableDates!==!1,groupSize:S.customizableGroupSize!==!1},includedServices:G};await ge.put(`${Ft.TRIPS}/${ne}`,K),v(!1),console.info("Tab changes saved successfully",{targetPackageId:ne})}catch(K){console.error("Tab save operation failed",{error:K,targetPackageId:ne})}finally{m(!1)}},ue=async S=>{const ne=[...g,...S];u(ne);const Z=J?t:i;if(Z)try{await ge.put(`${Ft.TRIPS}/${Z}`,{images:ne}),console.info("Images saved to trip successfully",{targetPackageId:Z,imageCount:ne.length})}catch(K){console.error("Failed to save images to trip",{error:K,targetPackageId:Z,imageCount:ne.length})}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-primary-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:J?"Edit Package":"Create Package"}),e.jsx("button",{onClick:s,className:"text-2xl text-primary-400 hover:text-primary-600",children:"×"})]}),!J&&e.jsx("div",{className:"overflow-x-auto scrollbar-thin scrollbar-thumb-primary-300 scrollbar-track-primary-100",children:e.jsx("div",{className:"flex items-center gap-1 min-w-max pb-1",children:H.map((S,ne)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-6 h-6 rounded-full ${r>=S.id?"bg-blue-ocean text-white":"bg-primary-100 text-primary-600"}`,children:e.jsx("span",{className:"text-xs",children:S.icon})}),e.jsx("div",{className:"ml-1",children:e.jsx("div",{className:`text-xs font-medium whitespace-nowrap ${r>=S.id?"text-blue-ocean":"text-primary-600"}`,children:S.title})}),ne<H.length-1&&e.jsx("div",{className:`w-6 h-0.5 mx-1 ${r>S.id?"bg-blue-ocean":"bg-primary-200"}`})]},S.id))})}),J&&e.jsx("div",{className:"overflow-x-auto scrollbar-thin scrollbar-thumb-primary-300 scrollbar-track-primary-100",children:e.jsx("div",{className:"flex items-center gap-1 min-w-max pb-1",children:H.map(S=>e.jsxs("button",{onClick:()=>{f?confirm("You have unsaved changes. Save before switching tabs?")&&ee().then(()=>a(S.id)):a(S.id)},className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium whitespace-nowrap ${r===S.id?"bg-blue-ocean text-white":"bg-primary-100 text-primary-600"}`,children:[e.jsx("span",{children:S.icon}),e.jsx("span",{children:S.title})]},S.id))})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:l?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-ocean mb-4"}),e.jsx("p",{className:"text-primary-600 font-medium",children:"Loading trip data..."}),e.jsx("p",{className:"text-primary-400 text-sm mt-1",children:"Please wait while we fetch the details"})]}):e.jsxs(e.Fragment,{children:[r===1&&e.jsxs("form",{onSubmit:E.handleSubmit(me),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Package Title *"}),e.jsx("input",{...E.register("title",{required:"Title is required"}),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"Bali Luxury Escape"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Category"}),e.jsxs("select",{...E.register("category"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",children:[e.jsx("option",{value:"",children:"Select Category"}),y.map(S=>e.jsxs("option",{value:S.name,children:[S.icon," ",S.name]},S._id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Description"}),e.jsx("textarea",{...E.register("description"),rows:3,className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"Amazing tropical getaway..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Primary Destination *"}),e.jsx(Bd,{options:R.map(S=>{var ne,Z;return{value:S._id,label:S.name,subtitle:((ne=S.country)==null?void 0:ne.name)||((Z=S.state)==null?void 0:Z.name)}}),value:q.slice(0,1),onChange:S=>{var ne,Z;if(X([...S,...q.slice(1)]),S.length>0){const K=R.find(se=>se._id===S[0]);K&&(E.setValue("destinations",`${K.name}, ${((ne=K.country)==null?void 0:ne.name)||""}`),(Z=K.country)!=null&&Z._id&&!N.includes(K.country._id)&&D([...N,K.country._id]))}},placeholder:"Select primary destination...",searchable:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Additional Destinations"}),e.jsx(Bd,{options:R.map(S=>{var ne,Z;return{value:S._id,label:S.name,subtitle:((ne=S.country)==null?void 0:ne.name)||((Z=S.state)==null?void 0:Z.name)}}),value:q.slice(1),onChange:S=>{const ne=q[0];X(ne?[ne,...S]:S);const Z=[...N];S.forEach(K=>{var be;const se=R.find(Se=>Se._id===K);(be=se==null?void 0:se.country)!=null&&be._id&&!Z.includes(se.country._id)&&Z.push(se.country._id)}),D(Z)},placeholder:"Select additional destinations...",searchable:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Countries"}),e.jsx(Bd,{options:U.map(S=>({value:S._id,label:S.name,subtitle:S.code})),value:N,onChange:D,placeholder:"Select countries...",searchable:!0})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Duration (days) *"}),e.jsx("input",{...E.register("duration",{required:"Duration required"}),type:"number",min:"1",className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"7",onChange:S=>{const ne=parseInt(S.target.value)||7;j(ne);const Z=d.days||[];let K;if(ne>Z.length){const se=Array.from({length:ne-Z.length},(be,Se)=>({day:Z.length+Se+1,title:`Day ${Z.length+Se+1}`,description:"",locationName:"",activities:[],estimatedCost:{currency:"USD",amount:0},tips:[]}));K=[...Z,...se]}else K=Z.slice(0,ne);x({overview:d.overview||"",days:K})}})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Highlights (comma separated)"}),e.jsx("input",{...E.register("highlights"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"5-star resorts, Private villa, Spa treatments"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Includes (comma separated)"}),e.jsx("input",{...E.register("includes"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"Flights, Hotels, Meals, Tours"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Excludes (comma separated)"}),e.jsx("input",{...E.register("excludes"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"Travel Insurance, Personal Expenses"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Travel Style"}),e.jsx("select",{...E.register("travelStyle"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",children:wo.CATEGORIES.map(S=>e.jsx("option",{value:S,children:S.charAt(0).toUpperCase()+S.slice(1)},S))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Difficulty"}),e.jsx("select",{...E.register("difficulty"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",children:wo.DIFFICULTY_LEVELS.map(S=>e.jsx("option",{value:S,children:S.charAt(0).toUpperCase()+S.slice(1)},S))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Currency"}),e.jsxs("select",{...E.register("currency"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",children:[e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"EUR",children:"EUR (€)"}),e.jsx("option",{value:"GBP",children:"GBP (£)"}),e.jsx("option",{value:"INR",children:"INR (₹)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Price Range"}),e.jsx("select",{...E.register("priceRange"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",children:wo.BUDGET_RANGES.map(S=>e.jsx("option",{value:S,children:S.charAt(0).toUpperCase()+S.slice(1).replace("-"," ")},S))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Trip Type"}),e.jsx("select",{...E.register("type"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",children:wo.TYPES.map(S=>e.jsx("option",{value:S,children:S.charAt(0).toUpperCase()+S.slice(1).replace("-"," ")},S))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Status"}),e.jsxs("select",{...E.register("status"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"archived",children:"Archived"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Priority"}),e.jsx("input",{...E.register("priority"),type:"number",min:"0",className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"0"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Suitable For"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",...E.register("couples"),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"💕 Couples"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",...E.register("families"),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"👨‍👩‍👧‍👦 Families"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",...E.register("soloTravelers"),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"🧳 Solo"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",...E.register("groups"),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"👥 Groups"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Tags (comma separated)"}),e.jsx("input",{...E.register("tags"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"adventure, culture, food, luxury"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-primary-900 mb-3",children:"Special Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("label",{className:"flex items-center p-3 bg-white rounded-lg border border-primary-200 hover:border-blue-ocean transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",...E.register("featured"),className:"mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-semibold text-primary-900",children:"⭐ Featured Trip"}),e.jsx("p",{className:"text-xs text-primary-500",children:"Show in featured section"})]})]}),e.jsxs("label",{className:"flex items-center p-3 bg-white rounded-lg border border-primary-200 hover:border-blue-ocean transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",...E.register("quickAccess"),className:"mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-semibold text-primary-900",children:"🚀 Quick Access"}),e.jsx("p",{className:"text-xs text-primary-500",children:"Add to quick access menu"})]})]}),e.jsxs("label",{className:"flex items-center p-3 bg-white rounded-lg border border-primary-200 hover:border-blue-ocean transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",...E.register("template"),className:"mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-semibold text-primary-900",children:"📋 Template"}),e.jsx("p",{className:"text-xs text-primary-500",children:"Use as template for new trips"})]})]})]})]}),T.length>0&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-red-600",children:"⚠️"}),e.jsx("span",{className:"font-medium text-red-800",children:"Please fix the following errors:"})]}),e.jsx("ul",{className:"list-disc list-inside text-red-700 text-sm space-y-1",children:T.map((S,ne)=>e.jsx("li",{children:S},ne))})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[J&&e.jsx(M,{variant:"outline",onClick:s,children:"Cancel"}),e.jsx(M,{type:"submit",disabled:c,children:c?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Saving..."})]}):J?"Save Changes":"Next: Pricing →"})]})]}),r===2&&e.jsxs("form",{onSubmit:E.handleSubmit(me),className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-4",children:"💰 Complete Pricing Setup"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-primary-900 mb-3",children:"💰 Step 1: Your Total Cost"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Your Total Cost (What you pay) *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-primary-600",children:vr(E.watch("currency")||We.DEFAULT_CURRENCY)}),e.jsx("input",{...E.register("basePrice",{required:"Total cost required"}),type:"number",min:"0",step:"0.01",className:"w-full pl-8 pr-4 py-3 border border-primary-200 rounded-lg",placeholder:"800",onChange:()=>{const S=parseFloat(E.getValues("basePrice"))||0,ne=parseFloat(E.getValues("sellPrice"))||0;if(S>0&&ne>0){const Z=((ne-S)/S*100).toFixed(1);E.setValue("profitMargin",parseFloat(Z))}}})]}),e.jsx("p",{className:"text-xs text-primary-500 mt-1",children:"Include flights, hotels, guides, permits, etc. - everything you pay"})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-primary-900 mb-3",children:"💸 Step 2: Customer Price Breakdown"}),e.jsx("p",{className:"text-sm text-primary-600 mb-4",children:"Set what customers pay for each component - total becomes your sell price"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Flights"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-primary-600",children:vr(E.watch("currency")||We.DEFAULT_CURRENCY)}),e.jsx("input",{...E.register("priceBreakdownFlights"),type:"number",min:"0",className:"w-full pl-8 pr-4 py-3 border border-primary-200 rounded-lg",placeholder:"400",onChange:_})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Accommodation"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-primary-600",children:vr(E.watch("currency")||We.DEFAULT_CURRENCY)}),e.jsx("input",{...E.register("priceBreakdownAccommodation"),type:"number",min:"0",className:"w-full pl-8 pr-4 py-3 border border-primary-200 rounded-lg",placeholder:"700",onChange:_})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Activities"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-primary-600",children:vr(E.watch("currency")||We.DEFAULT_CURRENCY)}),e.jsx("input",{...E.register("priceBreakdownActivities"),type:"number",min:"0",className:"w-full pl-8 pr-4 py-3 border border-primary-200 rounded-lg",placeholder:"10",onChange:_})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Food"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-primary-600",children:vr(E.watch("currency")||We.DEFAULT_CURRENCY)}),e.jsx("input",{...E.register("priceBreakdownFood"),type:"number",min:"0",className:"w-full pl-8 pr-4 py-3 border border-primary-200 rounded-lg",placeholder:"30",onChange:_})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Transport"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-primary-600",children:vr(E.watch("currency")||We.DEFAULT_CURRENCY)}),e.jsx("input",{...E.register("priceBreakdownTransport"),type:"number",min:"0",className:"w-full pl-8 pr-4 py-3 border border-primary-200 rounded-lg",placeholder:"10",onChange:_})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Other"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-primary-600",children:vr(E.watch("currency")||We.DEFAULT_CURRENCY)}),e.jsx("input",{...E.register("priceBreakdownOther"),type:"number",min:"0",className:"w-full pl-8 pr-4 py-3 border border-primary-200 rounded-lg",placeholder:"40",onChange:_})]})]})]}),e.jsxs("div",{className:"mt-4 p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("span",{className:"font-semibold text-primary-900",children:"Sell Price (Auto-calculated):"}),e.jsx("span",{className:"font-bold text-2xl text-green-600",children:(()=>{const S=E.watch("currency")||"USD",ne=S==="INR"?"₹":S==="EUR"?"€":S==="GBP"?"£":"$",Z=(E.watch("priceBreakdownFlights")||0)+(E.watch("priceBreakdownAccommodation")||0)+(E.watch("priceBreakdownActivities")||0)+(E.watch("priceBreakdownFood")||0)+(E.watch("priceBreakdownTransport")||0)+(E.watch("priceBreakdownOther")||0);return _(),`${ne}${Z.toFixed(2)}`})()})]}),e.jsx("p",{className:"text-sm text-green-700",children:"This is what customers see as the original price"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-primary-900 mb-3",children:"🎯 Step 3: Discount & Final Price"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Discount %"}),e.jsx("input",{...E.register("discountPercent"),type:"number",min:"0",max:"100",step:"0.1",className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"10"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"OR Discount Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-primary-600",children:vr(E.watch("currency")||We.DEFAULT_CURRENCY)}),e.jsx("input",{...E.register("discountAmount"),type:"number",min:"0",step:"0.01",className:"w-full pl-8 pr-4 py-3 border border-primary-200 rounded-lg",placeholder:"100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Final Price (Auto)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-primary-600",children:vr(E.watch("currency")||We.DEFAULT_CURRENCY)}),e.jsx("input",{...E.register("finalPrice"),type:"number",className:"w-full pl-8 pr-4 py-3 border border-primary-200 rounded-lg bg-gray-50",readOnly:!0})]}),e.jsx("p",{className:"text-xs text-primary-500 mt-1",children:"What customer actually pays"})]})]})]}),e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h5",{className:"font-semibold text-primary-900 mb-3",children:"📊 Profit Analysis"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("div",{className:"text-xl font-bold text-red-600",children:(()=>{const S=E.watch("currency")||"USD";return`${S==="INR"?"₹":S==="EUR"?"€":S==="GBP"?"£":"$"}${Number(E.watch("basePrice")||0)}`})()}),e.jsx("div",{className:"text-xs text-red-600 font-medium mt-1",children:"Your Cost"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-xl font-bold text-blue-600",children:(()=>{const S=E.watch("currency")||"USD";return`${S==="INR"?"₹":S==="EUR"?"€":S==="GBP"?"£":"$"}${Number(E.watch("sellPrice")||0)}`})()}),e.jsx("div",{className:"text-xs text-blue-600 font-medium mt-1",children:"Sell Price"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-xl font-bold text-green-600",children:(()=>{const S=E.watch("currency")||"USD";return`${S==="INR"?"₹":S==="EUR"?"€":S==="GBP"?"£":"$"}${Number(E.watch("finalPrice")||0)}`})()}),e.jsx("div",{className:"text-xs text-green-600 font-medium mt-1",children:"Customer Pays"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"text-xl font-bold text-purple-600",children:[Number(E.watch("profitMargin")||0),"%"]}),e.jsx("div",{className:"text-xs text-purple-600 font-medium mt-1",children:"Profit Margin"})]})]}),Number(E.watch("basePrice")||0)>=Number(E.watch("sellPrice")||0)&&Number(E.watch("basePrice")||0)>0&&e.jsx("div",{className:"bg-red-100 border border-red-300 text-red-700 px-3 py-2 rounded text-sm mt-3",children:"⚠️ Warning: Your sell price should be higher than your cost!"}),Number(E.watch("profitMargin")||0)<10&&Number(E.watch("profitMargin")||0)>=0&&e.jsx("div",{className:"bg-yellow-100 border border-yellow-300 text-yellow-700 px-3 py-2 rounded text-sm mt-3",children:"💡 Low profit margin. Consider increasing your prices."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-primary-900 mb-3",children:"Booking Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",...E.register("instantBook"),className:"mr-2"}),e.jsx("span",{className:"text-sm font-semibold text-primary-900",children:"⚡ Instant Booking"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",...E.register("requiresApproval"),className:"mr-2",defaultChecked:!0}),e.jsx("span",{className:"text-sm font-semibold text-primary-900",children:"✅ Requires Approval"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Advance Booking (days)"}),e.jsx("input",{...E.register("advanceBooking"),type:"number",min:"0",defaultValue:"7",className:"w-full px-4 py-3 border border-primary-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Deposit Required (%)"}),e.jsx("input",{...E.register("depositRequired"),type:"number",min:"0",max:"100",defaultValue:"50",className:"w-full px-4 py-3 border border-primary-200 rounded-lg"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Cancellation Policy"}),e.jsx("textarea",{...E.register("cancellationPolicy"),rows:3,className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"Free cancellation up to 72 hours before departure..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Payment Terms"}),e.jsx("textarea",{...E.register("paymentTerms"),rows:3,className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"50% deposit required, balance due 30 days before departure..."})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(M,{variant:"outline",type:"button",onClick:()=>a(1),children:"← Previous"}),e.jsxs("div",{className:"flex gap-2",children:[J&&e.jsx(M,{type:"submit",disabled:c,children:c?"Saving...":"💾 Save Pricing"}),e.jsx(M,{type:"button",variant:"outline",onClick:()=>a(3),children:"Next: Itinerary →"})]})]})]}),r===3&&e.jsxs("div",{children:[e.jsx(M4,{initialItinerary:d||{overview:"",days:[]},tripDuration:p,onSave:F}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(M,{variant:"outline",onClick:()=>a(2),children:"← Previous"}),e.jsxs("div",{className:"flex gap-2",children:[J&&e.jsx(M,{onClick:async()=>{(J?t:i)&&d.days&&d.days.length>0&&await F(d)},disabled:c,children:c?"Saving...":"💾 Save Itinerary"}),e.jsx(M,{onClick:()=>a(4),children:"Next: Travel Info →"})]})]})]}),r===4&&e.jsxs("form",{onSubmit:E.handleSubmit(me),className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-4",children:"Travel Information & Requirements"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-primary-900 mb-3",children:"Best Time to Visit"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Best Months"}),e.jsx("input",{...E.register("bestTimeMonths"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"April, May, June"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Weather"}),e.jsx("input",{...E.register("weather"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"Sunny and dry"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Min Temp (°C)"}),e.jsx("input",{...E.register("minTemp"),type:"number",className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"20"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Max Temp (°C)"}),e.jsx("input",{...E.register("maxTemp"),type:"number",className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"30"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-primary-900 mb-3",children:"Visa & Health Requirements"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",...E.register("visaRequired"),className:"mr-2"}),e.jsx("span",{className:"text-sm font-semibold text-primary-900",children:"📝 Visa Required"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Visa Countries"}),e.jsx("input",{...E.register("visaCountries"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"USA, UK, Canada"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Processing Time"}),e.jsx("input",{...E.register("visaProcessingTime"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"5-10 business days"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Visa Cost ($)"}),e.jsx("input",{...E.register("visaCost"),type:"number",min:"0",className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"35"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",...E.register("healthInsurance"),className:"mr-2"}),e.jsx("span",{className:"text-sm font-semibold text-primary-900",children:"🏥 Health Insurance Required"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Vaccinations"}),e.jsx("input",{...E.register("vaccinations"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"None required"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Medical Facilities"}),e.jsx("input",{...E.register("medicalFacilities"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"Good medical facilities available"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-primary-900 mb-3",children:"Safety Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Safety Level"}),e.jsxs("select",{...E.register("safetyLevel"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",children:[e.jsx("option",{value:"low",children:"Low Risk"}),e.jsx("option",{value:"moderate",children:"Moderate Risk"}),e.jsx("option",{value:"high",children:"High Risk"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Safety Warnings"}),e.jsx("input",{...E.register("safetyWarnings"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"Avoid certain areas at night"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Emergency Contacts"}),e.jsx("input",{...E.register("emergencyContacts"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"Police: 911, Hospital: 112"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-primary-900 mb-3",children:"Local Culture"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Languages"}),e.jsx("input",{...E.register("languages"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"English, Local language"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Local Currency"}),e.jsx("input",{...E.register("localCurrency"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"USD, EUR"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Etiquette"}),e.jsx("input",{...E.register("etiquette"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"Tipping customs, greetings"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Local Customs"}),e.jsx("textarea",{...E.register("customs"),rows:3,className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"Dress modestly at religious sites, remove shoes before entering temples..."})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-primary-900 mb-3",children:"Packing List"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Essentials"}),e.jsx("input",{...E.register("packingEssentials"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"Passport, tickets, insurance"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Clothing"}),e.jsx("input",{...E.register("packingClothing"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"Light clothing, swimwear, jacket"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Equipment"}),e.jsx("input",{...E.register("packingEquipment"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"Camera, chargers, adapters"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Optional Items"}),e.jsx("input",{...E.register("packingOptional"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"Books, games, snacks"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-primary-900 mb-3",children:"Included Services"}),e.jsx("p",{className:"text-primary-600 mb-4",children:"What's included in the trip price"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-primary-900 mb-3",children:"🚗 Transportation"}),e.jsx("div",{className:"space-y-2",children:["Airport transfers","Local transport","Private car","Public transport","Taxi/Uber credits"].map(S=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2",checked:G.transport.includes(S),onChange:ne=>{ne.target.checked?$(Z=>({...Z,transport:[...Z.transport,S]})):$(Z=>({...Z,transport:Z.transport.filter(K=>K!==S)}))}}),e.jsx("span",{className:"text-sm",children:S})]},S))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-primary-900 mb-3",children:"🍽️ Meals"}),e.jsx("div",{className:"space-y-2",children:["Breakfast","Lunch","Dinner","Snacks","Welcome drink","Cooking class"].map(S=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2",checked:G.meals.includes(S),onChange:ne=>{ne.target.checked?$(Z=>({...Z,meals:[...Z.meals,S]})):$(Z=>({...Z,meals:Z.meals.filter(K=>K!==S)}))}}),e.jsx("span",{className:"text-sm",children:S})]},S))})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-primary-900 mb-3",children:"👥 Other Services"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2",checked:G.guides,onChange:S=>$(ne=>({...ne,guides:S.target.checked}))}),e.jsx("span",{className:"text-sm",children:"👨‍🏫 Tour Guide"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"📷 Photography"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"🎁 Welcome kit"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"📱 SIM card"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"🌍 Travel insurance"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"📞 24/7 support"})]})]})]}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:["💡 ",e.jsx("strong",{children:"Note:"})," Flights and hotels are managed separately. Day-specific activities are added in the Itinerary tab."]})})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(M,{variant:"outline",type:"button",onClick:()=>a(3),children:"← Previous"}),e.jsxs("div",{className:"flex gap-2",children:[J&&e.jsx(M,{type:"submit",disabled:c,children:c?"Saving...":"💾 Save Travel Info"}),e.jsx(M,{type:"button",variant:"outline",onClick:()=>a(5),children:"Next: Settings →"})]})]})]}),r===5&&e.jsxs("form",{onSubmit:E.handleSubmit(me),className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-4",children:"Trip Settings & Customization"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-primary-900 mb-3",children:"Availability & Sharing"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Max Bookings"}),e.jsx("input",{...E.register("maxBookings"),type:"number",min:"1",className:"w-full px-4 py-3 border border-primary-200 rounded-lg",placeholder:"20"})]}),e.jsx("div",{className:"flex items-center space-y-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",...E.register("seasonal"),className:"mr-2"}),e.jsx("span",{className:"text-sm font-semibold text-primary-900",children:"🌍 Seasonal Trip"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsxs("label",{className:"flex items-center p-3 bg-gray-50 rounded-lg border border-primary-200 hover:border-blue-ocean hover:bg-blue-50 transition-all cursor-pointer",children:[e.jsx("input",{type:"checkbox",...E.register("isPublic"),className:"mr-3",defaultChecked:!0}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-semibold text-primary-900",children:"🌐 Public Trip"}),e.jsx("p",{className:"text-xs text-primary-500",children:"Visible to all users"})]})]}),e.jsxs("label",{className:"flex items-center p-3 bg-gray-50 rounded-lg border border-primary-200 hover:border-blue-ocean hover:bg-blue-50 transition-all cursor-pointer",children:[e.jsx("input",{type:"checkbox",...E.register("allowCopy"),className:"mr-3",defaultChecked:!0}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-semibold text-primary-900",children:"📋 Allow Copy"}),e.jsx("p",{className:"text-xs text-primary-500",children:"Users can copy this trip"})]})]}),e.jsxs("label",{className:"flex items-center p-3 bg-gray-50 rounded-lg border border-primary-200 hover:border-blue-ocean hover:bg-blue-50 transition-all cursor-pointer",children:[e.jsx("input",{type:"checkbox",...E.register("allowComments"),className:"mr-3",defaultChecked:!0}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-semibold text-primary-900",children:"💬 Allow Comments"}),e.jsx("p",{className:"text-xs text-primary-500",children:"Users can comment on trip"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-primary-900 mb-3",children:"Customization Options"}),e.jsx("p",{className:"text-primary-600 mb-4",children:"Allow customers to customize trip elements"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[e.jsxs("label",{className:"flex items-center p-3 bg-gray-50 rounded-lg border border-primary-200 hover:border-blue-ocean hover:bg-blue-50 transition-all cursor-pointer",children:[e.jsx("input",{type:"checkbox",...E.register("customizableDuration"),className:"mr-3",defaultChecked:!0}),e.jsx("span",{className:"text-sm font-medium",children:"📅 Duration"})]}),e.jsxs("label",{className:"flex items-center p-3 bg-gray-50 rounded-lg border border-primary-200 hover:border-blue-ocean hover:bg-blue-50 transition-all cursor-pointer",children:[e.jsx("input",{type:"checkbox",...E.register("customizableActivities"),className:"mr-3",defaultChecked:!0}),e.jsx("span",{className:"text-sm font-medium",children:"🎯 Activities"})]}),e.jsxs("label",{className:"flex items-center p-3 bg-gray-50 rounded-lg border border-primary-200 hover:border-blue-ocean hover:bg-blue-50 transition-all cursor-pointer",children:[e.jsx("input",{type:"checkbox",...E.register("customizableAccommodation"),className:"mr-3",defaultChecked:!0}),e.jsx("span",{className:"text-sm font-medium",children:"🏨 Hotels"})]}),e.jsxs("label",{className:"flex items-center p-3 bg-gray-50 rounded-lg border border-primary-200 hover:border-blue-ocean hover:bg-blue-50 transition-all cursor-pointer",children:[e.jsx("input",{type:"checkbox",...E.register("customizableDates"),className:"mr-3",defaultChecked:!0}),e.jsx("span",{className:"text-sm font-medium",children:"📆 Dates"})]}),e.jsxs("label",{className:"flex items-center p-3 bg-gray-50 rounded-lg border border-primary-200 hover:border-blue-ocean hover:bg-blue-50 transition-all cursor-pointer",children:[e.jsx("input",{type:"checkbox",...E.register("customizableGroupSize"),className:"mr-3",defaultChecked:!0}),e.jsx("span",{className:"text-sm font-medium",children:"👥 Group Size"})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(M,{variant:"outline",onClick:()=>a(4),children:"← Previous"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{onClick:ee,disabled:c,children:c?"Saving...":"💾 Save Settings"}),e.jsx(M,{variant:"outline",onClick:()=>a(6),children:"Next: Images →"})]})]})]}),r===6&&(i||J)&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Upload Package Images"}),e.jsx($4,{images:g,onImagesChange:u,onImagesUploaded:ue,category:"trip",packageId:J?t:i}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsx(M,{variant:"outline",onClick:()=>a(5),children:"← Previous"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{onClick:async()=>{g.length>0&&await ue([]),console.info("Trip saved successfully",{targetPackageId:J?t:i})},disabled:c,children:c?"Saving...":"💾 Save Images"}),e.jsx(M,{variant:"outline",onClick:s,children:"Close"})]})]})]})]})})]})})},B4=({trip:t,onEdit:s,onToggleFeatured:r,onDuplicate:a,onDelete:i})=>{var l,o,c,m,d,x,p,j,g;const n=((l=t.images)==null?void 0:l.find(u=>u.isPrimary))||((o=t.images)==null?void 0:o[0]);return e.jsxs(oe,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[n&&e.jsx("div",{className:"h-48 overflow-hidden",children:e.jsx("img",{src:(c=n.url)!=null&&c.startsWith("http")?n.url:`${Ke.BASE_URL.replace("/api","")}${n.url}`,alt:n.alt||t.title,className:"w-full h-full object-cover",onError:u=>{u.currentTarget.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop"}})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex justify-between items-start mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-900 truncate",children:t.title}),t.featured&&e.jsx("span",{className:"bg-amber-100 text-amber-800 text-xs px-2 py-1 rounded-full",children:"⭐ Featured"})]}),e.jsxs("p",{className:"text-sm text-primary-600 mb-2",children:["📍 ",((m=t.primaryDestination)==null?void 0:m.name)||"Multiple Destinations"]}),e.jsx("p",{className:"text-sm text-primary-500 line-clamp-2",children:t.description})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-primary-500",children:"Duration:"}),e.jsxs("div",{className:"font-semibold",children:[((d=t.duration)==null?void 0:d.days)||0," days"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-primary-500",children:"Price:"}),e.jsxs("div",{className:"font-semibold text-emerald",children:["$",((p=(x=t.pricing)==null?void 0:x.estimated)==null?void 0:p.toLocaleString())||"0"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-primary-500",children:"Views:"}),e.jsx("div",{className:"font-semibold",children:((j=t.stats)==null?void 0:j.views)||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-primary-500",children:"Bookings:"}),e.jsx("div",{className:"font-semibold",children:((g=t.stats)==null?void 0:g.bookings)||0})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${t.status==="published"?"bg-emerald text-white":t.status==="draft"?"bg-amber-100 text-amber-800":"bg-primary-200 text-primary-700"}`,children:t.status}),e.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs capitalize",children:t.type}),t.category&&e.jsxs("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:[t.category.icon," ",t.category.name]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{size:"sm",variant:"outline",onClick:()=>s(t._id),className:"flex-1",children:"Edit"}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>r(t._id,t.featured),className:t.featured?"bg-amber-50 text-amber-700":"",title:t.featured?"Remove from featured":"Add to featured",children:t.featured?"⭐":"☆"}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>a(t._id),title:"Duplicate trip",children:"📋"}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>i(t._id),className:"text-red-600 hover:bg-red-50",title:"Archive trip",children:"🗑️"})]})]})]})},z4=({onCreateTrip:t,onEditTrip:s})=>{const[r,a]=b.useState([]),[i,n]=b.useState(!0),[l,o]=b.useState({status:"all",type:"all",search:""});b.useEffect(()=>{c()},[l]);const c=async()=>{n(!0);try{const p=new URLSearchParams;l.status!=="all"&&p.append("status",l.status),l.type!=="all"&&p.append("type",l.type),l.search&&p.append("search",l.search);const j=await ge.get(`/admin/trips?${p.toString()}`);j.success&&a(j.data.trips||[])}catch(p){console.error("Failed to load trips:",p)}finally{n(!1)}},m=async(p,j)=>{try{(await ge.put(`/admin/trips/${p}/featured`)).success&&a(r.map(u=>u._id===p?{...u,featured:!j}:u))}catch(g){console.error("Failed to toggle featured:",g),alert("Failed to update trip")}},d=async p=>{if(confirm("Are you sure you want to archive this trip?"))try{(await ge.delete(`/admin/trips/${p}`)).success&&c()}catch(j){console.error("Failed to delete trip:",j),alert("Failed to delete trip")}},x=async p=>{try{(await ge.post(`/admin/trips/${p}/duplicate`)).success&&(c(),alert("Trip duplicated successfully!"))}catch(j){console.error("Failed to duplicate trip:",j),alert("Failed to duplicate trip")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:"Trip Management"}),e.jsx("p",{className:"text-primary-600",children:"Manage all travel trips and experiences"})]}),e.jsx(M,{onClick:t,children:"+ Create New Trip"})]}),e.jsx(oe,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Search"}),e.jsx("input",{type:"text",placeholder:"Search trips...",value:l.search,onChange:p=>o(j=>({...j,search:p.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Status"}),e.jsxs("select",{value:l.status,onChange:p=>o(j=>({...j,status:p.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"archived",children:"Archived"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Type"}),e.jsxs("select",{value:l.type,onChange:p=>o(j=>({...j,type:p.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"featured",children:"Featured"}),e.jsx("option",{value:"ai-generated",children:"AI Generated"}),e.jsx("option",{value:"custom",children:"Custom"}),e.jsx("option",{value:"user-created",children:"User Created"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(M,{variant:"outline",onClick:c,className:"w-full",children:"Apply Filters"})})]})}),i?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Xe,{size:"lg"})}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:r.map(p=>e.jsx(B4,{trip:p,onEdit:s,onToggleFeatured:m,onDuplicate:x,onDelete:d},p._id))}),r.length===0&&!i&&e.jsxs(oe,{className:"p-8 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🧳"}),e.jsx("h3",{className:"text-xl font-semibold text-primary-900 mb-2",children:"No trips found"}),e.jsx("p",{className:"text-primary-600 mb-4",children:"Create your first trip to get started"}),e.jsx(M,{onClick:t,children:"Create New Trip"})]})]})},U4=()=>{const[t,s]=b.useState([]),[r,a]=b.useState(!0),[i,n]=b.useState(!1),[l,o]=b.useState(null),[c,m]=b.useState({name:"",code:"",code3:"",currency:"",timezone:"",continent:"",flag:"",status:"active"});b.useEffect(()=>{d()},[]);const d=async()=>{a(!0);try{const u=await St.getAdminCountries();s(u.countries||[])}catch(u){console.error("Failed to load countries:",u)}finally{a(!1)}},x=async u=>{u.preventDefault();try{l?await St.updateCountry(l._id,c):await St.createCountry(c),d(),g()}catch(y){console.error("Failed to save country:",y),alert("Failed to save country")}},p=u=>{o(u),m({name:u.name,code:u.code,code3:u.code3,currency:u.currency,timezone:u.timezone,continent:u.continent,flag:u.flag,status:u.status}),n(!0)},j=async u=>{if(confirm("Are you sure you want to delete this country?"))try{await St.deleteCountry(u),d()}catch(y){console.error("Failed to delete country:",y),alert("Failed to delete country")}},g=()=>{m({name:"",code:"",code3:"",currency:"",timezone:"",continent:"",flag:"",status:"active"}),o(null),n(!1)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900",children:"Countries"}),e.jsx("p",{className:"text-primary-600",children:"Manage country master data"})]}),e.jsx(M,{onClick:()=>n(!0),children:"+ Add Country"})]}),i&&e.jsxs(oe,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h4",{className:"text-lg font-bold text-primary-900",children:l?"Edit Country":"Add New Country"}),e.jsx(M,{variant:"outline",onClick:g,children:"Cancel"})]}),e.jsxs("form",{onSubmit:x,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Country Name"}),e.jsx("input",{type:"text",value:c.name,onChange:u=>m(y=>({...y,name:u.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Country Code (2-letter)"}),e.jsx("input",{type:"text",value:c.code,onChange:u=>m(y=>({...y,code:u.target.value.toUpperCase()})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",maxLength:2,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Country Code (3-letter)"}),e.jsx("input",{type:"text",value:c.code3,onChange:u=>m(y=>({...y,code3:u.target.value.toUpperCase()})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",maxLength:3,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Currency"}),e.jsx("input",{type:"text",value:c.currency,onChange:u=>m(y=>({...y,currency:u.target.value.toUpperCase()})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",placeholder:"USD",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Timezone"}),e.jsx("input",{type:"text",value:c.timezone,onChange:u=>m(y=>({...y,timezone:u.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",placeholder:"America/New_York"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Continent"}),e.jsxs("select",{value:c.continent,onChange:u=>m(y=>({...y,continent:u.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select Continent"}),e.jsx("option",{value:"North America",children:"North America"}),e.jsx("option",{value:"South America",children:"South America"}),e.jsx("option",{value:"Europe",children:"Europe"}),e.jsx("option",{value:"Asia",children:"Asia"}),e.jsx("option",{value:"Africa",children:"Africa"}),e.jsx("option",{value:"Oceania",children:"Oceania"}),e.jsx("option",{value:"Antarctica",children:"Antarctica"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Flag Emoji"}),e.jsx("input",{type:"text",value:c.flag,onChange:u=>m(y=>({...y,flag:u.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",placeholder:"🇺🇸"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Status"}),e.jsxs("select",{value:c.status,onChange:u=>m(y=>({...y,status:u.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(M,{type:"submit",className:"w-full",children:l?"Update Country":"Create Country"})})]})]}),e.jsx(oe,{className:"p-6",children:r?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Xe,{size:"lg"})}):e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-primary-200",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Flag"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Country"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Code"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Currency"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Continent"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:t.map(u=>e.jsxs("tr",{className:"border-b border-primary-100",children:[e.jsx("td",{className:"py-3 px-4 text-2xl",children:u.flag||"🌍"}),e.jsx("td",{className:"py-3 px-4 font-semibold",children:u.name}),e.jsxs("td",{className:"py-3 px-4",children:[u.code," / ",u.code3]}),e.jsx("td",{className:"py-3 px-4",children:u.currency}),e.jsx("td",{className:"py-3 px-4",children:u.continent}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${u.status==="active"?"bg-emerald/20 text-emerald":"bg-red-100 text-red-700"}`,children:u.status.toUpperCase()})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{size:"sm",variant:"outline",onClick:()=>p(u),children:"Edit"}),e.jsx(M,{size:"sm",variant:"outline",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:()=>j(u._id),children:"Delete"})]})})]},u._id))})]}),t.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🌍"}),e.jsx("h3",{className:"text-xl font-semibold text-primary-900 mb-2",children:"No countries found"}),e.jsx("p",{className:"text-primary-600 mb-4",children:"Add your first country to get started"}),e.jsx(M,{onClick:()=>n(!0),children:"Add Country"})]})]})})]})},V4=()=>{const[t,s]=b.useState([]),[r,a]=b.useState(!0),[i,n]=b.useState(!1),[l,o]=b.useState(null),[c,m]=b.useState({name:"",slug:"",description:"",icon:"",color:"#3B82F6",parent:"",type:"trip",active:!0,order:0,metadata:{flightSpecific:{cabinClass:"",serviceLevel:""},hotelSpecific:{starRating:0,propertyType:""},adventureSpecific:{places:"",difficulty:""}}});b.useEffect(()=>{d()},[]);const d=async()=>{a(!0);try{const u=await St.getAdminCategories();s(u.categories||[])}catch(u){console.error("Failed to load categories:",u)}finally{a(!1)}},x=async u=>{u.preventDefault();try{const y={...c,parent:c.parent||void 0,metadata:{...c.type==="flight"&&c.metadata.flightSpecific.cabinClass&&{flightSpecific:c.metadata.flightSpecific},...c.type==="hotel"&&c.metadata.hotelSpecific.starRating&&{hotelSpecific:c.metadata.hotelSpecific},...c.type==="adventure"&&c.metadata.adventureSpecific.places&&{adventureSpecific:c.metadata.adventureSpecific}}};l?await St.updateCategory(l._id,y):await St.createCategory(y),d(),j()}catch(y){console.error("Failed to save category:",y),alert("Failed to save category")}},p=u=>{var y,h,f,v,T,P,R,O,U,C,q,X,N;o(u),m({name:u.name,slug:u.slug,description:u.description||"",icon:u.icon||"",color:u.color||"#3B82F6",parent:((y=u.parent)==null?void 0:y._id)||"",type:u.type,active:u.active,order:u.order,metadata:{flightSpecific:{cabinClass:((f=(h=u.metadata)==null?void 0:h.flightSpecific)==null?void 0:f.cabinClass)||"",serviceLevel:((T=(v=u.metadata)==null?void 0:v.flightSpecific)==null?void 0:T.serviceLevel)||""},hotelSpecific:{starRating:((R=(P=u.metadata)==null?void 0:P.hotelSpecific)==null?void 0:R.starRating)||0,propertyType:((U=(O=u.metadata)==null?void 0:O.hotelSpecific)==null?void 0:U.propertyType)||""},adventureSpecific:{places:((q=(C=u.metadata)==null?void 0:C.adventureSpecific)==null?void 0:q.places)||"",difficulty:((N=(X=u.metadata)==null?void 0:X.adventureSpecific)==null?void 0:N.difficulty)||""}}}),n(!0)},j=()=>{m({name:"",slug:"",description:"",icon:"",color:"#3B82F6",parent:"",type:"trip",active:!0,order:0,metadata:{flightSpecific:{cabinClass:"",serviceLevel:""},hotelSpecific:{starRating:0,propertyType:""},adventureSpecific:{places:"",difficulty:""}}}),o(null),n(!1)},g=t.filter(u=>!u.parent);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900",children:"Categories"}),e.jsx("p",{className:"text-primary-600",children:"Manage trip and activity categories"})]}),e.jsx(M,{onClick:()=>n(!0),children:"+ Add Category"})]}),i&&e.jsxs(oe,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h4",{className:"text-lg font-bold text-primary-900",children:l?"Edit Category":"Add New Category"}),e.jsx(M,{variant:"outline",onClick:j,children:"Cancel"})]}),e.jsxs("form",{onSubmit:x,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Category Name"}),e.jsx("input",{type:"text",value:c.name,onChange:u=>m(y=>({...y,name:u.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Slug"}),e.jsx("input",{type:"text",value:c.slug,onChange:u=>m(y=>({...y,slug:u.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",placeholder:"auto-generated from name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Icon (Emoji)"}),e.jsx("input",{type:"text",value:c.icon,onChange:u=>m(y=>({...y,icon:u.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",placeholder:"🏔️"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Description"}),e.jsx("textarea",{value:c.description,onChange:u=>m(y=>({...y,description:u.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"color",value:c.color,onChange:u=>m(y=>({...y,color:u.target.value})),className:"w-12 h-10 border border-primary-200 rounded-lg"}),e.jsx("input",{type:"text",value:c.color,onChange:u=>m(y=>({...y,color:u.target.value})),className:"flex-1 px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Type"}),e.jsxs("select",{value:c.type,onChange:u=>m(y=>({...y,type:u.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{value:"flight",children:"Flight"}),e.jsx("option",{value:"hotel",children:"Hotel"}),e.jsx("option",{value:"trip",children:"Trip"}),e.jsx("option",{value:"activity",children:"Activity"}),e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"adventure",children:"Adventure"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Parent Category"}),e.jsxs("select",{value:c.parent,onChange:u=>m(y=>({...y,parent:u.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{value:"",children:"None (Top Level)"}),g.map(u=>e.jsxs("option",{value:u._id,children:[u.icon," ",u.name]},u._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Order"}),e.jsx("input",{type:"number",value:c.order,onChange:u=>m(y=>({...y,order:parseInt(u.target.value)||0})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Status"}),e.jsxs("select",{value:c.active?"active":"inactive",onChange:u=>m(y=>({...y,active:u.target.value==="active"})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),c.type==="flight"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Cabin Class"}),e.jsxs("select",{value:c.metadata.flightSpecific.cabinClass,onChange:u=>m(y=>({...y,metadata:{...y.metadata,flightSpecific:{...y.metadata.flightSpecific,cabinClass:u.target.value}}})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select cabin class"}),e.jsx("option",{value:"economy",children:"Economy"}),e.jsx("option",{value:"premium-economy",children:"Premium Economy"}),e.jsx("option",{value:"business",children:"Business"}),e.jsx("option",{value:"first",children:"First Class"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Service Level"}),e.jsxs("select",{value:c.metadata.flightSpecific.serviceLevel,onChange:u=>m(y=>({...y,metadata:{...y.metadata,flightSpecific:{...y.metadata.flightSpecific,serviceLevel:u.target.value}}})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select service level"}),e.jsx("option",{value:"basic",children:"Basic"}),e.jsx("option",{value:"standard",children:"Standard"}),e.jsx("option",{value:"premium",children:"Premium"}),e.jsx("option",{value:"luxury",children:"Luxury"})]})]})]}),c.type==="hotel"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Star Rating"}),e.jsxs("select",{value:c.metadata.hotelSpecific.starRating,onChange:u=>m(y=>({...y,metadata:{...y.metadata,hotelSpecific:{...y.metadata.hotelSpecific,starRating:parseInt(u.target.value)||0}}})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{value:"0",children:"Select star rating"}),e.jsx("option",{value:"1",children:"1 Star"}),e.jsx("option",{value:"2",children:"2 Stars"}),e.jsx("option",{value:"3",children:"3 Stars"}),e.jsx("option",{value:"4",children:"4 Stars"}),e.jsx("option",{value:"5",children:"5 Stars"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Property Type"}),e.jsxs("select",{value:c.metadata.hotelSpecific.propertyType,onChange:u=>m(y=>({...y,metadata:{...y.metadata,hotelSpecific:{...y.metadata.hotelSpecific,propertyType:u.target.value}}})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select property type"}),e.jsx("option",{value:"hotel",children:"Hotel"}),e.jsx("option",{value:"resort",children:"Resort"}),e.jsx("option",{value:"apartment",children:"Apartment"}),e.jsx("option",{value:"villa",children:"Villa"}),e.jsx("option",{value:"hostel",children:"Hostel"})]})]})]}),c.type==="adventure"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Places Count"}),e.jsx("input",{type:"text",value:c.metadata.adventureSpecific.places,onChange:u=>m(y=>({...y,metadata:{...y.metadata,adventureSpecific:{...y.metadata.adventureSpecific,places:u.target.value}}})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",placeholder:"e.g., 50+ Places"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Difficulty Level"}),e.jsxs("select",{value:c.metadata.adventureSpecific.difficulty,onChange:u=>m(y=>({...y,metadata:{...y.metadata,adventureSpecific:{...y.metadata.adventureSpecific,difficulty:u.target.value}}})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select difficulty"}),e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"moderate",children:"Moderate"}),e.jsx("option",{value:"challenging",children:"Challenging"}),e.jsx("option",{value:"extreme",children:"Extreme"})]})]})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(M,{type:"submit",className:"w-full",children:l?"Update Category":"Create Category"})})]})]}),e.jsx(oe,{className:"p-6",children:r?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Xe,{size:"lg"})}):e.jsxs("div",{className:"space-y-4",children:[t.map(u=>{var y,h,f,v,T,P;return e.jsxs("div",{className:"flex items-center justify-between p-4 border border-primary-200 rounded-lg hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white text-xl",style:{backgroundColor:u.color},children:u.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-primary-900",children:u.name}),e.jsx("p",{className:"text-sm text-primary-600",children:u.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[e.jsx("span",{className:"text-xs bg-primary-100 text-primary-700 px-2 py-1 rounded",children:u.type}),u.parent&&e.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded",children:["Child of: ",u.parent.name]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded ${u.active?"bg-emerald/20 text-emerald":"bg-red-100 text-red-700"}`,children:u.active?"Active":"Inactive"}),u.slug&&e.jsxs("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:["/",u.slug]}),((h=(y=u.metadata)==null?void 0:y.adventureSpecific)==null?void 0:h.places)&&e.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded",children:u.metadata.adventureSpecific.places}),((v=(f=u.metadata)==null?void 0:f.hotelSpecific)==null?void 0:v.starRating)&&e.jsxs("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded",children:[u.metadata.hotelSpecific.starRating," ⭐"]}),((P=(T=u.metadata)==null?void 0:T.flightSpecific)==null?void 0:P.cabinClass)&&e.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded",children:u.metadata.flightSpecific.cabinClass})]})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(M,{size:"sm",variant:"outline",onClick:()=>p(u),children:"Edit"})})]},u._id)}),t.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🏷️"}),e.jsx("h3",{className:"text-xl font-semibold text-primary-900 mb-2",children:"No categories found"}),e.jsx("p",{className:"text-primary-600 mb-4",children:"Add your first category to get started"}),e.jsx(M,{onClick:()=>n(!0),children:"Add Category"})]})]})})]})},q4=()=>{const[t,s]=b.useState([]),[r,a]=b.useState([]),[i,n]=b.useState(!0),[l,o]=b.useState(!1),[c,m]=b.useState(null),[d,x]=b.useState({name:"",country:"",coordinates:{latitude:0,longitude:0},timezone:"",description:"",popularFor:"",bestTimeToVisit:"",images:"",featured:!1,status:"active"});b.useEffect(()=>{p()},[]);const p=async()=>{n(!0);try{const[u,y]=await Promise.all([St.getAdminCities(),St.getAdminCountries()]);s(u.cities||[]),a(y.countries||[])}catch(u){console.error("Failed to load data:",u)}finally{n(!1)}},j=async u=>{u.preventDefault();try{const y={...d,popularFor:d.popularFor.split(",").map(h=>h.trim()).filter(h=>h),bestTimeToVisit:d.bestTimeToVisit.split(",").map(h=>h.trim()).filter(h=>h),images:d.images?d.images.split(",").map(h=>h.trim()).filter(h=>h):[]};c?await St.updateCity(c._id,y):await St.createCity(y),p(),g()}catch(y){console.error("Failed to save city:",y),alert("Failed to save city")}},g=()=>{x({name:"",country:"",coordinates:{latitude:0,longitude:0},timezone:"",description:"",popularFor:"",bestTimeToVisit:"",images:"",featured:!1,status:"active"}),m(null),o(!1)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900",children:"Cities"}),e.jsx("p",{className:"text-primary-600",children:"Manage city master data"})]}),e.jsx(M,{onClick:()=>o(!0),children:"+ Add City"})]}),l&&e.jsxs(oe,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h4",{className:"text-lg font-bold text-primary-900",children:c?"Edit City":"Add New City"}),e.jsx(M,{variant:"outline",onClick:g,children:"Cancel"})]}),e.jsxs("form",{onSubmit:j,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"City Name"}),e.jsx("input",{type:"text",value:d.name,onChange:u=>x(y=>({...y,name:u.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Country"}),e.jsxs("select",{value:d.country,onChange:u=>x(y=>({...y,country:u.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select Country"}),r.map(u=>e.jsxs("option",{value:u._id,children:[u.flag," ",u.name]},u._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Latitude"}),e.jsx("input",{type:"number",step:"any",value:d.coordinates.latitude,onChange:u=>x(y=>({...y,coordinates:{...y.coordinates,latitude:parseFloat(u.target.value)||0}})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Longitude"}),e.jsx("input",{type:"number",step:"any",value:d.coordinates.longitude,onChange:u=>x(y=>({...y,coordinates:{...y.coordinates,longitude:parseFloat(u.target.value)||0}})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Timezone"}),e.jsx("input",{type:"text",value:d.timezone,onChange:u=>x(y=>({...y,timezone:u.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",placeholder:"America/New_York"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Status"}),e.jsxs("select",{value:d.status,onChange:u=>x(y=>({...y,status:u.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Description"}),e.jsx("textarea",{value:d.description,onChange:u=>x(y=>({...y,description:u.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Popular For (comma separated)"}),e.jsx("input",{type:"text",value:d.popularFor,onChange:u=>x(y=>({...y,popularFor:u.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",placeholder:"beaches, nightlife, culture"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Best Time to Visit (comma separated)"}),e.jsx("input",{type:"text",value:d.bestTimeToVisit,onChange:u=>x(y=>({...y,bestTimeToVisit:u.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",placeholder:"March, April, May"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Images (comma separated URLs)"}),e.jsx("input",{type:"text",value:d.images||"",onChange:u=>x(y=>({...y,images:u.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",placeholder:"https://example.com/image1.jpg, https://example.com/image2.jpg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Featured"}),e.jsxs("select",{value:d.featured?"true":"false",onChange:u=>x(y=>({...y,featured:u.target.value==="true"})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Yes"})]})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(M,{type:"submit",className:"w-full",children:c?"Update City":"Create City"})})]})]}),e.jsx(oe,{className:"p-6",children:i?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Xe,{size:"lg"})}):e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-primary-200",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"City"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Country"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Popular For"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Featured"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:t.map(u=>{var y,h,f,v;return e.jsxs("tr",{className:"border-b border-primary-100",children:[e.jsx("td",{className:"py-3 px-4 font-semibold",children:u.name}),e.jsxs("td",{className:"py-3 px-4",children:[(y=u.country)==null?void 0:y.flag," ",(h=u.country)==null?void 0:h.name]}),e.jsxs("td",{className:"py-3 px-4 text-sm",children:[(f=u.popularFor)==null?void 0:f.slice(0,2).join(", "),((v=u.popularFor)==null?void 0:v.length)>2&&"..."]}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${u.featured?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-600"}`,children:u.featured?"⭐ FEATURED":"REGULAR"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${u.status==="active"?"bg-emerald/20 text-emerald":"bg-red-100 text-red-700"}`,children:u.status.toUpperCase()})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"flex gap-2",children:e.jsx(M,{size:"sm",variant:"outline",onClick:()=>{var T,P,R,O;m(u),x({name:u.name,country:((T=u.country)==null?void 0:T._id)||"",coordinates:u.coordinates||{latitude:0,longitude:0},timezone:u.timezone||"",description:u.description||"",popularFor:((P=u.popularFor)==null?void 0:P.join(", "))||"",bestTimeToVisit:((R=u.bestTimeToVisit)==null?void 0:R.join(", "))||"",images:((O=u.images)==null?void 0:O.join(", "))||"",featured:u.featured||!1,status:u.status}),o(!0)},children:"Edit"})})})]},u._id)})})]}),t.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🏙️"}),e.jsx("h3",{className:"text-xl font-semibold text-primary-900 mb-2",children:"No cities found"}),e.jsx("p",{className:"text-primary-600 mb-4",children:"Add your first city to get started"}),e.jsx(M,{onClick:()=>o(!0),children:"Add City"})]})]})})]})},W4=()=>{const[t,s]=b.useState([]),[r,a]=b.useState([]),[i,n]=b.useState([]),[l,o]=b.useState(!0),[c,m]=b.useState(!1),[d,x]=b.useState(null),[p,j]=b.useState({name:"",description:"",category:"",city:"",duration:2,difficulty:"easy",groupSize:{min:1,max:10},pricing:{currency:"USD",adult:50,child:25,group:200},includes:"",excludes:"",status:"active"});b.useEffect(()=>{g()},[]);const g=async()=>{o(!0);try{const[h,f,v]=await Promise.all([St.getAdminActivities(),St.getAdminCategories(),St.getAdminCities()]);s(h.activities||[]),a(f.categories||[]),n(v.cities||[])}catch(h){console.error("Failed to load data:",h)}finally{o(!1)}},u=async h=>{h.preventDefault();try{const f={...p,includes:p.includes.split(",").map(v=>v.trim()).filter(v=>v),excludes:p.excludes.split(",").map(v=>v.trim()).filter(v=>v)};d?await St.updateActivity(d._id,f):await St.createActivity(f),g(),y()}catch(f){console.error("Failed to save activity:",f),alert("Failed to save activity")}},y=()=>{j({name:"",description:"",category:"",city:"",duration:2,difficulty:"easy",groupSize:{min:1,max:10},pricing:{currency:"USD",adult:50,child:25,group:200},includes:"",excludes:"",status:"active"}),x(null),m(!1)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900",children:"Activities"}),e.jsx("p",{className:"text-primary-600",children:"Manage activity master data"})]}),e.jsx(M,{onClick:()=>m(!0),children:"+ Add Activity"})]}),c&&e.jsxs(oe,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h4",{className:"text-lg font-bold text-primary-900",children:d?"Edit Activity":"Add New Activity"}),e.jsx(M,{variant:"outline",onClick:y,children:"Cancel"})]}),e.jsxs("form",{onSubmit:u,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Activity Name"}),e.jsx("input",{type:"text",value:p.name,onChange:h=>j(f=>({...f,name:h.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Category"}),e.jsxs("select",{value:p.category,onChange:h=>j(f=>({...f,category:h.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select Category"}),r.map(h=>e.jsxs("option",{value:h._id,children:[h.icon," ",h.name]},h._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"City"}),e.jsxs("select",{value:p.city,onChange:h=>j(f=>({...f,city:h.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select City"}),i.map(h=>{var f;return e.jsxs("option",{value:h._id,children:[h.name,", ",(f=h.country)==null?void 0:f.name]},h._id)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Duration (hours)"}),e.jsx("input",{type:"number",value:p.duration,onChange:h=>j(f=>({...f,duration:parseInt(h.target.value)})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",min:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Difficulty"}),e.jsxs("select",{value:p.difficulty,onChange:h=>j(f=>({...f,difficulty:h.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"moderate",children:"Moderate"}),e.jsx("option",{value:"challenging",children:"Challenging"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Status"}),e.jsxs("select",{value:p.status,onChange:h=>j(f=>({...f,status:h.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Description"}),e.jsx("textarea",{value:p.description,onChange:h=>j(f=>({...f,description:h.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Min Group Size"}),e.jsx("input",{type:"number",value:p.groupSize.min,onChange:h=>j(f=>({...f,groupSize:{...f.groupSize,min:parseInt(h.target.value)}})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",min:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Max Group Size"}),e.jsx("input",{type:"number",value:p.groupSize.max,onChange:h=>j(f=>({...f,groupSize:{...f.groupSize,max:parseInt(h.target.value)}})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",min:"1"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Adult Price"}),e.jsx("input",{type:"number",value:p.pricing.adult,onChange:h=>j(f=>({...f,pricing:{...f.pricing,adult:parseInt(h.target.value)}})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Child Price"}),e.jsx("input",{type:"number",value:p.pricing.child,onChange:h=>j(f=>({...f,pricing:{...f.pricing,child:parseInt(h.target.value)}})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Group Price"}),e.jsx("input",{type:"number",value:p.pricing.group,onChange:h=>j(f=>({...f,pricing:{...f.pricing,group:parseInt(h.target.value)}})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",min:"0"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Includes (comma separated)"}),e.jsx("input",{type:"text",value:p.includes,onChange:h=>j(f=>({...f,includes:h.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",placeholder:"guide, equipment, lunch"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Excludes (comma separated)"}),e.jsx("input",{type:"text",value:p.excludes,onChange:h=>j(f=>({...f,excludes:h.target.value})),className:"w-full px-3 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",placeholder:"transport, insurance"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(M,{type:"submit",className:"w-full",children:d?"Update Activity":"Create Activity"})})]})]}),e.jsx(oe,{className:"p-6",children:l?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Xe,{size:"lg"})}):e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-primary-200",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Activity"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Category"}),e.jsx("th",{className:"text-left py-3 px-4",children:"City"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Duration"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Price"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:t.map(h=>{var f,v,T,P,R;return e.jsxs("tr",{className:"border-b border-primary-100",children:[e.jsx("td",{className:"py-3 px-4 font-semibold",children:h.name}),e.jsxs("td",{className:"py-3 px-4",children:[(f=h.category)==null?void 0:f.icon," ",(v=h.category)==null?void 0:v.name]}),e.jsx("td",{className:"py-3 px-4",children:(T=h.city)==null?void 0:T.name}),e.jsxs("td",{className:"py-3 px-4",children:[((P=h.duration)==null?void 0:P.typical)||h.duration,"h"]}),e.jsxs("td",{className:"py-3 px-4",children:["$",(R=h.pricing)==null?void 0:R.adult]}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${h.status==="active"?"bg-emerald/20 text-emerald":"bg-red-100 text-red-700"}`,children:h.status.toUpperCase()})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(M,{size:"sm",variant:"outline",onClick:()=>{var O,U,C,q,X;x(h),j({name:h.name,description:h.description||"",category:((O=h.category)==null?void 0:O._id)||"",city:((U=h.city)==null?void 0:U._id)||"",duration:((C=h.duration)==null?void 0:C.typical)||h.duration||2,difficulty:h.difficulty||"easy",groupSize:h.groupSize||{min:1,max:10},pricing:h.pricing||{currency:"USD",adult:50,child:25,group:200},includes:((q=h.includes)==null?void 0:q.join(", "))||"",excludes:((X=h.excludes)==null?void 0:X.join(", "))||"",status:h.status}),m(!0)},children:"Edit"})})]},h._id)})})]}),t.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🎯"}),e.jsx("h3",{className:"text-xl font-semibold text-primary-900 mb-2",children:"No activities found"}),e.jsx("p",{className:"text-primary-600 mb-4",children:"Add your first activity to get started"}),e.jsx(M,{onClick:()=>m(!0),children:"Add Activity"})]})]})})]})},G4=()=>{const[t,s]=b.useState([]),[r,a]=b.useState(!0),[i,n]=b.useState(!1),[l,o]=b.useState(null);b.useEffect(()=>{c()},[]);const c=async()=>{try{const{apiService:d}=await ws(async()=>{const{apiService:p}=await Promise.resolve().then(()=>Dr);return{apiService:p}},void 0),x=await d.get("/master/airlines");x.success&&s(x.data.airlines||[])}catch(d){console.error("Failed to load airlines:",d)}finally{a(!1)}},m=async d=>{d.preventDefault();const x=new FormData(d.currentTarget),p=x.getAll("classes"),j={name:x.get("name"),code:x.get("code"),icaoCode:x.get("icaoCode"),country:x.get("country"),logo:x.get("logo"),website:x.get("website"),contact:{phone:x.get("phone"),email:x.get("email")},services:{classes:p},alliance:x.get("alliance"),status:x.get("active")==="on"?"active":"inactive"};try{const{apiService:g}=await ws(async()=>{const{apiService:y}=await Promise.resolve().then(()=>Dr);return{apiService:y}},void 0);(l?await g.put(`/master/airlines/${l._id}`,j):await g.post("/master/airlines",j)).success&&(await c(),n(!1),o(null))}catch{alert("Failed to save airline")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900",children:"Airlines"}),e.jsx(M,{onClick:()=>n(!0),children:"+ Add Airline"})]}),e.jsx(oe,{className:"overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-primary-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Logo"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Name"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Codes"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Country"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Classes"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Actions"})]})}),e.jsx("tbody",{children:t.map(d=>{var x;return e.jsxs("tr",{className:"border-b border-primary-100",children:[e.jsx("td",{className:"py-3 px-4",children:d.logo?e.jsx("img",{src:d.logo,alt:d.name,className:"w-8 h-8 object-contain"}):e.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded flex items-center justify-center text-xs",children:d.code})}),e.jsx("td",{className:"py-3 px-4 font-medium",children:d.name}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"font-mono text-sm",children:[e.jsxs("div",{children:["IATA: ",d.code]}),d.icaoCode&&e.jsxs("div",{className:"text-xs text-primary-500",children:["ICAO: ",d.icaoCode]})]})}),e.jsx("td",{className:"py-3 px-4",children:d.country}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:(((x=d.services)==null?void 0:x.classes)||[]).map(p=>e.jsx("span",{className:"px-1 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:p.replace("_"," ")},p))})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${d.active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:d.active?"Active":"Inactive"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(M,{size:"sm",variant:"outline",onClick:()=>{o(d),n(!0)},children:"Edit"})})]},d._id)})})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(oe,{className:"p-6 max-w-md w-full mx-4",children:[e.jsx("h4",{className:"text-lg font-bold text-primary-900 mb-4",children:l?"Edit Airline":"Add New Airline"}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Name *"}),e.jsx("input",{name:"name",type:"text",required:!0,defaultValue:l==null?void 0:l.name,className:"w-full px-3 py-2 border border-primary-300 rounded-md"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"IATA Code *"}),e.jsx("input",{name:"code",type:"text",required:!0,maxLength:"2",defaultValue:l==null?void 0:l.code,className:"w-full px-3 py-2 border border-primary-300 rounded-md uppercase",placeholder:"AA"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"ICAO Code"}),e.jsx("input",{name:"icaoCode",type:"text",maxLength:"3",className:"w-full px-3 py-2 border border-primary-300 rounded-md uppercase",placeholder:"AAL"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Country *"}),e.jsx("input",{name:"country",type:"text",required:!0,defaultValue:l==null?void 0:l.country,className:"w-full px-3 py-2 border border-primary-300 rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Logo URL"}),e.jsx("input",{name:"logo",type:"url",defaultValue:l==null?void 0:l.logo,className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"https://example.com/logo.png"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h5",{className:"font-semibold text-primary-900 mb-3",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Website"}),e.jsx("input",{name:"website",type:"url",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"https://airline.com"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Phone"}),e.jsx("input",{name:"phone",type:"tel",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"+1-800-123-4567"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Email"}),e.jsx("input",{name:"email",type:"email",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"info@airline.com"})]})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h5",{className:"font-semibold text-primary-900 mb-3",children:"Service Classes"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"classes",value:"economy",className:"mr-2",defaultChecked:!0}),e.jsx("span",{className:"text-sm",children:"Economy"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"classes",value:"premium_economy",className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Premium Economy"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"classes",value:"business",className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Business"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"classes",value:"first",className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"First Class"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Alliance"}),e.jsxs("select",{name:"alliance",className:"w-full px-3 py-2 border border-primary-300 rounded-md",children:[e.jsx("option",{value:"",children:"No Alliance"}),e.jsx("option",{value:"Star Alliance",children:"Star Alliance"}),e.jsx("option",{value:"OneWorld",children:"OneWorld"}),e.jsx("option",{value:"SkyTeam",children:"SkyTeam"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"active",defaultChecked:(l==null?void 0:l.active)??!0,className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-primary-700",children:"Active"})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>{n(!1),o(null)},children:"Cancel"}),e.jsx(M,{type:"submit",children:l?"Update":"Create"})]})]})]})})]})},H4=()=>{const[t,s]=b.useState([]),[r,a]=b.useState(!0),[i,n]=b.useState(!1),[l,o]=b.useState(null);b.useEffect(()=>{c()},[]);const c=async()=>{try{const{apiService:d}=await ws(async()=>{const{apiService:p}=await Promise.resolve().then(()=>Dr);return{apiService:p}},void 0),x=await d.get("/master/airports");x.success&&s(x.data.airports||[])}catch(d){console.error("Failed to load airports:",d)}finally{a(!1)}},m=async d=>{d.preventDefault();const x=new FormData(d.currentTarget),p={taxi:x.get("taxi")==="on",bus:x.get("bus")==="on",train:x.get("train")==="on",metro:x.get("metro")==="on",rental_car:x.get("rental_car")==="on"},j={code:x.get("code"),icaoCode:x.get("icaoCode"),name:x.get("name"),city:x.get("city"),country:x.get("country"),timezone:x.get("timezone"),type:x.get("type"),location:{coordinates:{coordinates:[parseFloat(x.get("longitude"))||0,parseFloat(x.get("latitude"))||0]},elevation:parseInt(x.get("elevation"))||0},facilities:{wifi:x.get("wifi")==="on",parking:{available:x.get("parking")==="on",capacity:parseInt(x.get("parkingCapacity"))||0},transportation:p},statistics:{passengers_annual:parseInt(x.get("passengersAnnual"))||0,flights_annual:parseInt(x.get("flightsAnnual"))||0,cargo_annual:parseInt(x.get("cargoAnnual"))||0},contact:{phone:x.get("phone"),website:x.get("website"),email:x.get("email")},status:x.get("status")||"active"};try{const{apiService:g}=await ws(async()=>{const{apiService:y}=await Promise.resolve().then(()=>Dr);return{apiService:y}},void 0);(l?await g.put(`/master/airports/${l._id}`,j):await g.post("/master/airports",j)).success&&(await c(),n(!1),o(null))}catch{alert("Failed to save airport")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900",children:"Airport Management"}),e.jsx(M,{onClick:()=>n(!0),children:"+ Add Airport"})]}),e.jsx(oe,{className:"overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-primary-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Codes"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Name"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Location"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Type"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Actions"})]})}),e.jsx("tbody",{children:t.map(d=>e.jsxs("tr",{className:"border-b border-primary-100",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"font-mono text-sm",children:[e.jsxs("div",{children:["IATA: ",d.code]}),d.icaoCode&&e.jsxs("div",{className:"text-xs text-primary-500",children:["ICAO: ",d.icaoCode]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"font-medium",children:d.name})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{children:d.city}),e.jsx("div",{className:"text-primary-600",children:d.country})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-medium capitalize",children:d.type})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${d.status==="active"?"bg-green-100 text-green-700":d.status==="under_construction"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:d.status.replace("_"," ")})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(M,{size:"sm",variant:"outline",onClick:()=>{o(d),n(!0)},children:"Edit"})})]},d._id))})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs(oe,{className:"p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("h4",{className:"text-lg font-bold text-primary-900 mb-4",children:l?"Edit Airport":"Add New Airport"}),e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-primary-900 mb-3",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"IATA Code *"}),e.jsx("input",{name:"code",type:"text",required:!0,maxLength:"3",defaultValue:l==null?void 0:l.code,className:"w-full px-3 py-2 border border-primary-300 rounded-md uppercase",placeholder:"JFK"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"ICAO Code"}),e.jsx("input",{name:"icaoCode",type:"text",maxLength:"4",defaultValue:l==null?void 0:l.icaoCode,className:"w-full px-3 py-2 border border-primary-300 rounded-md uppercase",placeholder:"KJFK"})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4 mt-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Airport Name *"}),e.jsx("input",{name:"name",type:"text",required:!0,defaultValue:l==null?void 0:l.name,className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"John F. Kennedy International Airport"})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"City *"}),e.jsx("input",{name:"city",type:"text",required:!0,defaultValue:l==null?void 0:l.city,className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"New York"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Country *"}),e.jsx("input",{name:"country",type:"text",required:!0,defaultValue:l==null?void 0:l.country,className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"United States"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Timezone"}),e.jsx("input",{name:"timezone",type:"text",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"America/New_York"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h5",{className:"font-semibold text-primary-900 mb-3",children:"Location & Coordinates"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Longitude"}),e.jsx("input",{name:"longitude",type:"number",step:"any",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"-73.7781"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Latitude"}),e.jsx("input",{name:"latitude",type:"number",step:"any",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"40.6413"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Elevation (m)"}),e.jsx("input",{name:"elevation",type:"number",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"4"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h5",{className:"font-semibold text-primary-900 mb-3",children:"Classification"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Airport Type"}),e.jsxs("select",{name:"type",className:"w-full px-3 py-2 border border-primary-300 rounded-md",children:[e.jsx("option",{value:"international",children:"International"}),e.jsx("option",{value:"domestic",children:"Domestic"}),e.jsx("option",{value:"regional",children:"Regional"}),e.jsx("option",{value:"military",children:"Military"}),e.jsx("option",{value:"private",children:"Private"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Status"}),e.jsxs("select",{name:"status",className:"w-full px-3 py-2 border border-primary-300 rounded-md",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"under_construction",children:"Under Construction"})]})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h5",{className:"font-semibold text-primary-900 mb-3",children:"Facilities & Services"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-primary-800 mb-2",children:"General Facilities"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"wifi",className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"📶 Free WiFi"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"parking",className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"🅿️ Parking Available"})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Parking Capacity"}),e.jsx("input",{name:"parkingCapacity",type:"number",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"5000"})]})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-primary-800 mb-2",children:"Transportation"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"taxi",className:"mr-2",defaultChecked:!0}),e.jsx("span",{className:"text-sm",children:"🚕 Taxi"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"bus",className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"🚌 Bus"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"train",className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"🚆 Train"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"metro",className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"🚇 Metro"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"rental_car",className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"🚗 Car Rental"})]})]})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h5",{className:"font-semibold text-primary-900 mb-3",children:"Annual Statistics"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Passengers (Annual)"}),e.jsx("input",{name:"passengersAnnual",type:"number",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"50000000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Flights (Annual)"}),e.jsx("input",{name:"flightsAnnual",type:"number",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"400000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Cargo (Tons/Year)"}),e.jsx("input",{name:"cargoAnnual",type:"number",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"2000000"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h5",{className:"font-semibold text-primary-900 mb-3",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Phone"}),e.jsx("input",{name:"phone",type:"tel",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"+1-718-244-4444"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Website"}),e.jsx("input",{name:"website",type:"url",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"https://www.jfkairport.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Email"}),e.jsx("input",{name:"email",type:"email",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"info@jfkairport.com"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>{n(!1),o(null)},children:"Cancel"}),e.jsx(M,{type:"submit",children:l?"Update Airport":"Create Airport"})]})]})]})})]})},Q4=()=>{const[t,s]=b.useState("countries"),r=[{id:"countries",label:"Countries",icon:"🌍"},{id:"states",label:"States",icon:"🏛️"},{id:"cities",label:"Cities/Destinations",icon:"🏙️"},{id:"categories",label:"Categories",icon:"🏷️"},{id:"activities",label:"Activities",icon:"🎯"},{id:"airlines",label:"Airlines",icon:"✈️"},{id:"airports",label:"Airports",icon:"🛫"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:"Master Data Management"})}),e.jsx("div",{className:"border-b border-primary-200",children:e.jsx("nav",{className:"flex space-x-8",children:r.map(a=>e.jsxs("button",{onClick:()=>s(a.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${t===a.id?"border-blue-ocean text-blue-ocean":"border-transparent text-primary-500 hover:text-primary-700 hover:border-primary-300"}`,children:[e.jsx("span",{className:"mr-2",children:a.icon}),a.label]},a.id))})}),e.jsxs("div",{className:"mt-6",children:[t==="countries"&&e.jsx(U4,{}),t==="states"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🏛️"}),e.jsx("h3",{className:"text-xl font-semibold text-primary-900 mb-2",children:"State Management"}),e.jsx("p",{className:"text-primary-600",children:"State management component coming soon..."})]}),t==="cities"&&e.jsx(q4,{}),t==="categories"&&e.jsx(V4,{}),t==="activities"&&e.jsx(W4,{}),t==="airlines"&&e.jsx(G4,{}),t==="airports"&&e.jsx(H4,{})]})]})},Z4=({booking:t,isOpen:s,onClose:r,onStatusUpdate:a,onRecordPayment:i})=>{var o,c,m,d,x,p,j,g,u,y,h,f,v,T,P,R,O,U,C,q,X,N,D,G,$,J,E,_;if(!s||!t)return null;const n=H=>({draft:"bg-yellow-100 text-yellow-800 border-yellow-200","pending-payment":"bg-orange-100 text-orange-800 border-orange-200","payment-received":"bg-blue-100 text-blue-800 border-blue-200",confirmed:"bg-green-100 text-green-800 border-green-200",completed:"bg-purple-100 text-purple-800 border-purple-200",cancelled:"bg-red-100 text-red-800 border-red-200"})[H]||"bg-gray-100 text-gray-800 border-gray-200",l=(((o=t.pricing)==null?void 0:o.finalAmount)||0)-(((c=t.payment)==null?void 0:c.totalPaid)||0);return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:"Booking Details"}),e.jsx("p",{className:"text-primary-600",children:t.bookingReference})]}),e.jsx("button",{onClick:r,className:"text-2xl text-primary-400 hover:text-primary-600 transition-colors",children:"×"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-medium border ${n(t.status)}`,children:(t.status||"draft").replace("-"," ").toUpperCase()}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Created: ",new Date(t.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[((m=t.payment)==null?void 0:m.status)==="pending"&&l>0&&e.jsx(M,{size:"sm",onClick:()=>i(t._id,l),children:"Record Payment"}),e.jsxs("select",{value:t.status||"draft",onChange:H=>a(t._id,H.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"pending-payment",children:"Pending Payment"}),e.jsx("option",{value:"payment-received",children:"Payment Received"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-900 border-b pb-2",children:"Customer Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Name"}),e.jsxs("p",{className:"text-primary-900",children:[(d=t.customer)==null?void 0:d.firstName," ",(x=t.customer)==null?void 0:x.lastName]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Email"}),e.jsx("p",{className:"text-primary-900",children:(p=t.customer)==null?void 0:p.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Phone"}),e.jsx("p",{className:"text-primary-900",children:(j=t.customer)==null?void 0:j.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Travelers"}),e.jsxs("p",{className:"text-primary-900",children:[((g=t.travelers)==null?void 0:g.count)||1," traveler",(((u=t.travelers)==null?void 0:u.count)||1)>1?"s":"","(",((y=t.travelers)==null?void 0:y.adults)||1," adults, ",((h=t.travelers)==null?void 0:h.children)||0," children)"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-900 border-b pb-2",children:"Trip Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Destination"}),e.jsx("p",{className:"text-primary-900",children:((f=t.trip)==null?void 0:f.title)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Location"}),e.jsx("p",{className:"text-primary-900",children:((v=t.trip)==null?void 0:v.destination)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Duration"}),e.jsxs("p",{className:"text-primary-900",children:[((P=(T=t.trip)==null?void 0:T.duration)==null?void 0:P.days)||0," days, ",((O=(R=t.trip)==null?void 0:R.duration)==null?void 0:O.nights)||0," nights"]})]}),((U=t.trip)==null?void 0:U.startDate)&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Travel Dates"}),e.jsxs("p",{className:"text-primary-900",children:[new Date(t.trip.startDate).toLocaleDateString()," - "," ",t.trip.endDate?new Date(t.trip.endDate).toLocaleDateString():"N/A"]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-900 border-b pb-2",children:"Pricing & Payment"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("label",{className:"text-sm font-medium text-blue-700",children:"Base Price"}),e.jsxs("p",{className:"text-xl font-bold text-blue-900",children:[((C=t.pricing)==null?void 0:C.currency)||"$",(((q=t.pricing)==null?void 0:q.basePrice)||0).toLocaleString()]})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx("label",{className:"text-sm font-medium text-green-700",children:"Total Amount"}),e.jsxs("p",{className:"text-xl font-bold text-green-900",children:[((X=t.pricing)==null?void 0:X.currency)||"$",(((N=t.pricing)==null?void 0:N.finalAmount)||0).toLocaleString()]})]}),e.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[e.jsx("label",{className:"text-sm font-medium text-orange-700",children:"Remaining"}),e.jsxs("p",{className:"text-xl font-bold text-orange-900",children:[((D=t.pricing)==null?void 0:D.currency)||"$",l.toLocaleString()]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Payment Status"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n(((G=t.payment)==null?void 0:G.status)||"pending")}`,children:((($=t.payment)==null?void 0:$.status)||"pending").toUpperCase()})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Method:"}),e.jsx("span",{className:"ml-2 font-medium",children:((J=t.payment)==null?void 0:J.method)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Total Paid:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[((E=t.pricing)==null?void 0:E.currency)||"$",(((_=t.payment)==null?void 0:_.totalPaid)||0).toLocaleString()]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-900 border-b pb-2",children:"System Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Booking Reference:"}),e.jsx("span",{className:"ml-2 font-mono font-medium",children:t.bookingReference})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Source:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.source||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Created:"}),e.jsx("span",{className:"ml-2 font-medium",children:new Date(t.createdAt).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Last Updated:"}),e.jsx("span",{className:"ml-2 font-medium",children:new Date(t.updatedAt).toLocaleString()})]})]})]})]}),e.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:e.jsx(M,{variant:"outline",onClick:r,children:"Close"})})]})})},Y4=({appointment:t,isOpen:s,onClose:r,onStatusUpdate:a,onConvertToBooking:i})=>{var l,o,c,m,d,x,p,j,g,u,y,h,f,v,T,P;if(!s||!t)return null;const n=R=>({scheduled:"bg-blue-100 text-blue-800 border-blue-200",confirmed:"bg-green-100 text-green-800 border-green-200",completed:"bg-purple-100 text-purple-800 border-purple-200",cancelled:"bg-red-100 text-red-800 border-red-200",converted:"bg-emerald-100 text-emerald-800 border-emerald-200"})[R]||"bg-gray-100 text-gray-800 border-gray-200";return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:"Appointment Details"}),e.jsx("p",{className:"text-primary-600",children:t.appointmentReference})]}),e.jsx("button",{onClick:r,className:"text-2xl text-primary-400 hover:text-primary-600 transition-colors",children:"×"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-medium border ${n(t.status)}`,children:t.status.toUpperCase()}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Created: ",new Date(t.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[t.status==="scheduled"&&e.jsx(M,{size:"sm",onClick:()=>a(t._id,"completed"),children:"Mark Complete"}),t.status==="completed"&&e.jsx(M,{size:"sm",onClick:()=>{var R;return i(t._id,((R=t.pricing)==null?void 0:R.estimatedTotal)||999)},className:"bg-blue-600 hover:bg-blue-700",children:"Convert to Booking"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-900 border-b pb-2",children:"Customer Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Name"}),e.jsxs("p",{className:"text-primary-900",children:[(l=t.customer)==null?void 0:l.firstName," ",(o=t.customer)==null?void 0:o.lastName]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Email"}),e.jsx("p",{className:"text-primary-900",children:(c=t.customer)==null?void 0:c.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Phone"}),e.jsx("p",{className:"text-primary-900",children:(m=t.customer)==null?void 0:m.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Travelers"}),e.jsxs("p",{className:"text-primary-900",children:[((d=t.customer)==null?void 0:d.travelers)||1," traveler(s)"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-900 border-b pb-2",children:"Trip Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Trip Title"}),e.jsx("p",{className:"text-primary-900",children:((x=t.trip)==null?void 0:x.title)||"Trip Consultation"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Destination"}),e.jsx("p",{className:"text-primary-900",children:((p=t.trip)==null?void 0:p.destination)||"Destination TBD"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Duration"}),e.jsxs("p",{className:"text-primary-900",children:[((g=(j=t.trip)==null?void 0:j.duration)==null?void 0:g.days)||0," days, ",((y=(u=t.trip)==null?void 0:u.duration)==null?void 0:y.nights)||0," nights"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Estimated Price"}),e.jsxs("p",{className:"text-primary-900",children:[((h=t.trip)==null?void 0:h.currency)||"USD"," ",(((f=t.pricing)==null?void 0:f.estimatedTotal)||0).toLocaleString()]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-900 border-b pb-2",children:"Schedule Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("label",{className:"text-sm font-medium text-blue-700",children:"Preferred Date"}),e.jsx("p",{className:"text-lg font-bold text-blue-900",children:(v=t.schedule)!=null&&v.preferredDate?new Date(t.schedule.preferredDate).toLocaleDateString():"TBD"})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx("label",{className:"text-sm font-medium text-green-700",children:"Time Slot"}),e.jsx("p",{className:"text-lg font-bold text-green-900",children:((T=t.schedule)==null?void 0:T.timeSlot)||"TBD"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[e.jsx("label",{className:"text-sm font-medium text-purple-700",children:"Status"}),e.jsx("p",{className:"text-lg font-bold text-purple-900",children:((P=t.schedule)==null?void 0:P.displayDateTime)||"Not Scheduled"})]})]})]}),t.specialRequests&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-900 border-b pb-2",children:"Special Requests"}),e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:e.jsx("p",{className:"text-gray-700",children:t.specialRequests})})]}),t.consultation&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-900 border-b pb-2",children:"Consultation Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Customer Interest:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.consultation.customerInterest||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Follow-up Required:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.consultation.followUpRequired?"Yes":"No"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-900 border-b pb-2",children:"System Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Appointment Reference:"}),e.jsx("span",{className:"ml-2 font-mono font-medium",children:t.appointmentReference})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Source:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.source||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Created:"}),e.jsx("span",{className:"ml-2 font-medium",children:new Date(t.createdAt).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Last Updated:"}),e.jsx("span",{className:"ml-2 font-medium",children:new Date(t.updatedAt).toLocaleString()})]})]})]})]}),e.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:e.jsx(M,{variant:"outline",onClick:r,children:"Close"})})]})})},K4=({isOpen:t,onClose:s,onConfirm:r,title:a,message:i,confirmText:n="Confirm",cancelText:l="Cancel",type:o="warning"})=>{if(!t)return null;const m=(()=>{switch(o){case"danger":return{icon:"⚠️",iconBg:"bg-red-100",iconColor:"text-red-600",confirmBtn:"bg-red-600 hover:bg-red-700"};case"info":return{icon:"ℹ️",iconBg:"bg-blue-100",iconColor:"text-blue-600",confirmBtn:"bg-blue-600 hover:bg-blue-700"};default:return{icon:"⚠️",iconBg:"bg-yellow-100",iconColor:"text-yellow-600",confirmBtn:"bg-yellow-600 hover:bg-yellow-700"}}})();return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${m.iconBg} flex items-center justify-center`,children:e.jsx("span",{className:"text-2xl",children:m.icon})}),e.jsx("div",{children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a})})]}),e.jsx("div",{className:"mb-6",children:e.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:i})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(M,{variant:"outline",onClick:s,className:"flex-1",children:l}),e.jsx(M,{onClick:r,className:`flex-1 text-white ${m.confirmBtn}`,children:n})]})]})})})},J4=({isOpen:t,onClose:s,onSubmit:r,booking:a,remainingAmount:i})=>{var p,j,g,u;const[n,l]=b.useState(i.toString()),[o,c]=b.useState("bank-transfer"),[m,d]=b.useState(!1);if(!t)return null;const x=async y=>{y.preventDefault();const h=parseFloat(n);if(h<=0||h>i){alert("Please enter a valid payment amount");return}d(!0);try{await r(h,o),s()}catch(f){console.error("Payment error:",f)}finally{d(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Record Payment"}),e.jsx("button",{onClick:s,className:"text-2xl text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Booking Details"}),e.jsx("div",{className:"font-medium text-gray-900",children:a==null?void 0:a.bookingReference}),e.jsxs("div",{className:"text-sm text-gray-600",children:[(p=a==null?void 0:a.customer)==null?void 0:p.firstName," ",(j=a==null?void 0:a.customer)==null?void 0:j.lastName]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:[e.jsx("span",{className:"font-medium",children:"Remaining Amount: "}),((g=a==null?void 0:a.pricing)==null?void 0:g.currency)||"USD"," ",i.toLocaleString()]})]}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:((u=a==null?void 0:a.pricing)==null?void 0:u.currency)||"USD"}),e.jsx("input",{type:"number",value:n,onChange:y=>l(y.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",step:"0.01",min:"0.01",max:i,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),e.jsxs("select",{value:o,onChange:y=>c(y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"bank-transfer",children:"Bank Transfer"}),e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"upi",children:"UPI"}),e.jsx("option",{value:"credit-card",children:"Credit Card"}),e.jsx("option",{value:"cheque",children:"Cheque"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(M,{type:"button",variant:"outline",onClick:s,className:"flex-1",disabled:m,children:"Cancel"}),e.jsx(M,{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700",disabled:m,children:m?"Recording...":"Record Payment"})]})]})]})})})},X4=({isOpen:t,onClose:s,title:r,message:a,type:i="info"})=>{if(!t)return null;const l=(()=>{switch(i){case"success":return{icon:"✅",iconBg:"bg-green-100",iconColor:"text-green-600",titleColor:"text-green-900"};case"error":return{icon:"❌",iconBg:"bg-red-100",iconColor:"text-red-600",titleColor:"text-red-900"};default:return{icon:"ℹ️",iconBg:"bg-blue-100",iconColor:"text-blue-600",titleColor:"text-blue-900"}}})();return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${l.iconBg} flex items-center justify-center`,children:e.jsx("span",{className:"text-2xl",children:l.icon})}),e.jsx("div",{children:e.jsx("h3",{className:`text-lg font-semibold ${l.titleColor}`,children:r})})]}),e.jsx("div",{className:"mb-6",children:e.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:a})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(M,{onClick:s,children:"OK"})})]})})})},ek=()=>{var n,l,o;const[t,s]=b.useState(null),[r,a]=b.useState(!0);b.useEffect(()=>{i()},[]);const i=async()=>{try{const c=await ge.get("/admin/analytics?range=30d");s(c.data||{totalRevenue:125e3,totalBookings:1250,activeUsers:850,conversionRate:3.2})}catch(c){console.error("Error loading analytics:",c),s({totalRevenue:125e3,totalBookings:1250,activeUsers:850,conversionRate:3.2})}finally{a(!1)}};return r?e.jsx("div",{className:"flex justify-center py-8",children:"Loading analytics..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:"Analytics Dashboard"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(oe,{className:"p-6 text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-emerald mb-2",children:["$",((n=t.totalRevenue)==null?void 0:n.toLocaleString())||"125,000"]}),e.jsx("div",{className:"text-sm text-primary-600",children:"Total Revenue"}),e.jsx("div",{className:"text-xs text-emerald mt-1",children:"+12% this month"})]}),e.jsxs(oe,{className:"p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-ocean mb-2",children:((l=t.totalBookings)==null?void 0:l.toLocaleString())||"1,250"}),e.jsx("div",{className:"text-sm text-primary-600",children:"Total Bookings"}),e.jsx("div",{className:"text-xs text-emerald mt-1",children:"+16% this month"})]}),e.jsxs(oe,{className:"p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-amber-premium mb-2",children:((o=t.activeUsers)==null?void 0:o.toLocaleString())||"850"}),e.jsx("div",{className:"text-sm text-primary-600",children:"Active Users"}),e.jsx("div",{className:"text-xs text-blue-ocean mt-1",children:"Last 30 days"})]}),e.jsxs(oe,{className:"p-6 text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:[t.conversionRate||"3.2","%"]}),e.jsx("div",{className:"text-sm text-primary-600",children:"Conversion Rate"}),e.jsx("div",{className:"text-xs text-emerald mt-1",children:"+0.5% this month"})]})]}),e.jsxs(oe,{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-4",children:"Performance Overview"}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:"📊"}),e.jsx("h4",{className:"text-lg font-semibold text-primary-900 mb-2",children:"Detailed Analytics"}),e.jsx("p",{className:"text-primary-600",children:"Advanced analytics dashboard coming soon"})]})]})]})},tk=()=>{var g,u,y,h,f,v,T,P,R,O,U,C,q,X,N,D,G,$,J,E,_,H,V,ae,me,F,ee,ue,S,ne;const[t,s]=b.useState([]),[r,a]=b.useState([]),[i,n]=b.useState([]),[l,o]=b.useState(!0),[c,m]=b.useState(!1),[d,x]=b.useState(null);b.useEffect(()=>{p()},[]);const p=async()=>{try{const{apiService:Z}=await ws(async()=>{const{apiService:Se}=await Promise.resolve().then(()=>Dr);return{apiService:Se}},void 0),[K,se,be]=await Promise.all([Z.get("/admin/flights"),Z.get("/master/airlines"),Z.get("/master/airports")]);K.success&&s(K.data.flights||[]),se.success&&a(se.data.airlines||[]),be.success&&n(be.data.airports||[])}catch(Z){console.error("Failed to load data:",Z)}finally{o(!1)}},j=async Z=>{Z.preventDefault();const K=new FormData(Z.currentTarget),se=K.getAll("operatingDays").map(Te=>parseInt(Te)),be=[],Se=K.get("aircraftImage"),Ae=K.get("cabinImage");Se&&Se.size>0&&be.push({url:"https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=400&h=300&fit=crop",alt:"Aircraft Image",category:"aircraft",isPrimary:!0}),Ae&&Ae.size>0&&be.push({url:"https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=400&h=300&fit=crop",alt:"Cabin Image",category:"cabin",isPrimary:!1});const Le={flightNumber:K.get("flightNumber"),airline:K.get("airline"),flightCategory:K.get("flightCategory")||"domestic",flightType:K.get("flightType")||"direct",featured:K.get("featured")==="on",aircraft:{type:K.get("aircraftType"),model:K.get("aircraftModel"),registration:K.get("registration")},route:{departure:{airport:K.get("departureAirport"),scheduledTime:K.get("departureTime")},arrival:{airport:K.get("arrivalAirport"),scheduledTime:K.get("arrivalTime")}},duration:{scheduled:parseInt(K.get("duration"))||0},distance:parseInt(K.get("distance"))||0,pricing:{economy:{basePrice:parseFloat(K.get("economyPrice"))||0,totalPrice:parseFloat(K.get("economyPrice"))||0,availability:150},premiumEconomy:{basePrice:parseFloat(K.get("premiumEconomyPrice"))||0,totalPrice:parseFloat(K.get("premiumEconomyPrice"))||0,availability:50},business:{basePrice:parseFloat(K.get("businessPrice"))||0,totalPrice:parseFloat(K.get("businessPrice"))||0,availability:30},first:{basePrice:parseFloat(K.get("firstPrice"))||0,totalPrice:parseFloat(K.get("firstPrice"))||0,availability:12}},operatingDays:se,validFrom:K.get("validFrom")?new Date(K.get("validFrom")):new Date,validTo:K.get("validTo")?new Date(K.get("validTo")):null,services:{wifi:{available:K.get("wifiAvailable")==="on",price:parseFloat(K.get("wifiPrice"))||0},powerOutlets:{available:K.get("powerOutlets")==="on"}},images:be,status:K.get("status")||"scheduled"};try{const{apiService:Te}=await ws(async()=>{const{apiService:Me}=await Promise.resolve().then(()=>Dr);return{apiService:Me}},void 0);(d?await Te.put(`/admin/flights/${d._id}`,Le):await Te.post("/admin/flights",Le)).success&&(await p(),m(!1),x(null),alert(`Flight ${d?"updated":"created"} successfully! ✓`))}catch(Te){alert("Failed to save flight: "+Te.message)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900",children:"Flight Management"}),e.jsx(M,{onClick:()=>m(!0),children:"+ Add Flight"})]}),e.jsx(oe,{className:"overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-primary-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Flight"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Route"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Schedule"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Price"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Actions"})]})}),e.jsx("tbody",{children:t.map(Z=>{var K,se,be,Se,Ae,Le,Te,Fe,Me,Be,$e,A,z,w,W,B;return e.jsxs("tr",{className:"border-b border-primary-100",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:Z.flightNumber}),e.jsx("div",{className:"text-sm text-primary-600",children:(K=Z.airline)==null?void 0:K.name})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{children:[(Se=(be=(se=Z.route)==null?void 0:se.departure)==null?void 0:be.airport)==null?void 0:Se.code," → ",(Te=(Le=(Ae=Z.route)==null?void 0:Ae.arrival)==null?void 0:Le.airport)==null?void 0:Te.code]}),e.jsx("div",{className:"text-primary-600",children:(Be=(Me=(Fe=Z.route)==null?void 0:Fe.departure)==null?void 0:Me.airport)==null?void 0:Be.name})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{children:new Date((A=($e=Z.route)==null?void 0:$e.departure)==null?void 0:A.scheduledTime).toLocaleString()}),e.jsx("div",{className:"text-primary-600",children:new Date((w=(z=Z.route)==null?void 0:z.arrival)==null?void 0:w.scheduledTime).toLocaleString()})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"font-semibold",children:["$",(B=(W=Z.pricing)==null?void 0:W.economy)==null?void 0:B.totalPrice]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${Z.status==="scheduled"?"bg-blue-100 text-blue-700":Z.status==="delayed"?"bg-yellow-100 text-yellow-700":Z.status==="cancelled"?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:Z.status})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(M,{size:"sm",variant:"outline",onClick:()=>{x(Z),m(!0)},children:"Edit"})})]},Z._id)})})]})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs(oe,{className:"p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("h4",{className:"text-lg font-bold text-primary-900 mb-4",children:d?"Edit Flight":"Add New Flight"}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Flight Number *"}),e.jsx("input",{name:"flightNumber",type:"text",required:!0,defaultValue:d==null?void 0:d.flightNumber,className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"AA123"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Airline *"}),e.jsxs("select",{name:"airline",required:!0,defaultValue:(d==null?void 0:d.airline)||"",className:"w-full px-3 py-2 border border-primary-300 rounded-md",children:[e.jsx("option",{value:"",children:"Select Airline"}),r.map(Z=>e.jsxs("option",{value:Z._id,children:[Z.code," - ",Z.name]},Z._id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Category"}),e.jsxs("select",{name:"flightCategory",defaultValue:(d==null?void 0:d.flightCategory)||"domestic",className:"w-full px-3 py-2 border border-primary-300 rounded-md",children:[e.jsx("option",{value:"domestic",children:"Domestic"}),e.jsx("option",{value:"international",children:"International"}),e.jsx("option",{value:"charter",children:"Charter"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Type"}),e.jsxs("select",{name:"flightType",defaultValue:(d==null?void 0:d.flightType)||"direct",className:"w-full px-3 py-2 border border-primary-300 rounded-md",children:[e.jsx("option",{value:"direct",children:"Direct"}),e.jsx("option",{value:"connecting",children:"Connecting"}),e.jsx("option",{value:"codeshare",children:"Codeshare"})]})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"featured",defaultChecked:(d==null?void 0:d.featured)||!1,className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-primary-700",children:"⭐ Featured"})]})})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h5",{className:"font-semibold text-primary-900 mb-3",children:"Aircraft Information"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Aircraft Type"}),e.jsx("input",{name:"aircraftType",type:"text",defaultValue:((g=d==null?void 0:d.aircraft)==null?void 0:g.type)||"",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"Boeing 737"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Model"}),e.jsx("input",{name:"aircraftModel",type:"text",defaultValue:((u=d==null?void 0:d.aircraft)==null?void 0:u.model)||"",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"737-800"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Registration"}),e.jsx("input",{name:"registration",type:"text",defaultValue:((y=d==null?void 0:d.aircraft)==null?void 0:y.registration)||"",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"N12345"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h5",{className:"font-semibold text-primary-900 mb-3",children:"Route Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Departure Airport *"}),e.jsxs("select",{name:"departureAirport",required:!0,defaultValue:((f=(h=d==null?void 0:d.route)==null?void 0:h.departure)==null?void 0:f.airport)||"",className:"w-full px-3 py-2 border border-primary-300 rounded-md",children:[e.jsx("option",{value:"",children:"Select Airport"}),i.map(Z=>e.jsxs("option",{value:Z._id,children:[Z.code," - ",Z.name]},Z._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Arrival Airport *"}),e.jsxs("select",{name:"arrivalAirport",required:!0,defaultValue:((T=(v=d==null?void 0:d.route)==null?void 0:v.arrival)==null?void 0:T.airport)||"",className:"w-full px-3 py-2 border border-primary-300 rounded-md",children:[e.jsx("option",{value:"",children:"Select Airport"}),i.map(Z=>e.jsxs("option",{value:Z._id,children:[Z.code," - ",Z.name]},Z._id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Departure Time *"}),e.jsx("input",{name:"departureTime",type:"datetime-local",required:!0,defaultValue:(R=(P=d==null?void 0:d.route)==null?void 0:P.departure)!=null&&R.scheduledTime?new Date(d.route.departure.scheduledTime).toISOString().slice(0,16):"",className:"w-full px-3 py-2 border border-primary-300 rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Arrival Time *"}),e.jsx("input",{name:"arrivalTime",type:"datetime-local",required:!0,defaultValue:(U=(O=d==null?void 0:d.route)==null?void 0:O.arrival)!=null&&U.scheduledTime?new Date(d.route.arrival.scheduledTime).toISOString().slice(0,16):"",className:"w-full px-3 py-2 border border-primary-300 rounded-md"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h5",{className:"font-semibold text-primary-900 mb-3",children:"Pricing by Class"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Economy ($)"}),e.jsx("input",{name:"economyPrice",type:"number",min:"0",step:"0.01",defaultValue:((q=(C=d==null?void 0:d.pricing)==null?void 0:C.economy)==null?void 0:q.totalPrice)||"",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"299"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Premium Economy ($)"}),e.jsx("input",{name:"premiumEconomyPrice",type:"number",min:"0",step:"0.01",defaultValue:((N=(X=d==null?void 0:d.pricing)==null?void 0:X.premiumEconomy)==null?void 0:N.totalPrice)||"",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"599"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Business ($)"}),e.jsx("input",{name:"businessPrice",type:"number",min:"0",step:"0.01",defaultValue:((G=(D=d==null?void 0:d.pricing)==null?void 0:D.business)==null?void 0:G.totalPrice)||"",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"899"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"First Class ($)"}),e.jsx("input",{name:"firstPrice",type:"number",min:"0",step:"0.01",defaultValue:((J=($=d==null?void 0:d.pricing)==null?void 0:$.first)==null?void 0:J.totalPrice)||"",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"1999"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Duration (minutes)"}),e.jsx("input",{name:"duration",type:"number",min:"0",defaultValue:((E=d==null?void 0:d.duration)==null?void 0:E.scheduled)||"",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"180"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Distance (km)"}),e.jsx("input",{name:"distance",type:"number",min:"0",defaultValue:(d==null?void 0:d.distance)||"",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"1500"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h5",{className:"font-semibold text-primary-900 mb-3",children:"Operating Schedule"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Valid From"}),e.jsx("input",{name:"validFrom",type:"date",defaultValue:d?new Date(d.validFrom||Date.now()).toISOString().split("T")[0]:"",className:"w-full px-3 py-2 border border-primary-300 rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Valid To"}),e.jsx("input",{name:"validTo",type:"date",defaultValue:d!=null&&d.validTo?new Date(d.validTo).toISOString().split("T")[0]:"",className:"w-full px-3 py-2 border border-primary-300 rounded-md"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Operating Days"}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((Z,K)=>{var se;return e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"operatingDays",value:K,defaultChecked:((se=d==null?void 0:d.operatingDays)==null?void 0:se.includes(K))||!1,className:"mr-1"}),e.jsx("span",{className:"text-xs",children:Z})]},Z)})})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h5",{className:"font-semibold text-primary-900 mb-3",children:"Flight Images"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Aircraft Image"}),e.jsx("input",{type:"file",name:"aircraftImage",accept:"image/*",className:"w-full px-3 py-2 border border-primary-300 rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Cabin Image"}),e.jsx("input",{type:"file",name:"cabinImage",accept:"image/*",className:"w-full px-3 py-2 border border-primary-300 rounded-md"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h5",{className:"font-semibold text-primary-900 mb-3",children:"In-Flight Services"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-primary-800 mb-2",children:"WiFi Service"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"wifiAvailable",defaultChecked:((H=(_=d==null?void 0:d.services)==null?void 0:_.wifi)==null?void 0:H.available)||!1,className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"WiFi Available"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"WiFi Price ($)"}),e.jsx("input",{name:"wifiPrice",type:"number",min:"0",step:"0.01",defaultValue:((ae=(V=d==null?void 0:d.services)==null?void 0:V.wifi)==null?void 0:ae.price)||"",className:"w-full px-3 py-2 border border-primary-300 rounded-md",placeholder:"15"})]})]})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-primary-800 mb-2",children:"Other Services"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"mealsIncluded",defaultChecked:((F=(me=d==null?void 0:d.services)==null?void 0:me.meals)==null?void 0:F.length)>0||!1,className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Meals Included"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"entertainmentAvailable",defaultChecked:((ue=(ee=d==null?void 0:d.services)==null?void 0:ee.entertainment)==null?void 0:ue.length)>0||!1,className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Entertainment System"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"powerOutlets",defaultChecked:((ne=(S=d==null?void 0:d.services)==null?void 0:S.powerOutlets)==null?void 0:ne.available)||!1,className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Power Outlets"})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Status"}),e.jsxs("select",{name:"status",defaultValue:(d==null?void 0:d.status)||"scheduled",className:"w-full px-3 py-2 border border-primary-300 rounded-md",children:[e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"delayed",children:"Delayed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"}),e.jsx("option",{value:"boarding",children:"Boarding"}),e.jsx("option",{value:"departed",children:"Departed"}),e.jsx("option",{value:"arrived",children:"Arrived"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>{m(!1),x(null)},children:"Cancel"}),e.jsx(M,{type:"submit",children:d?"Update Flight":"Create Flight"})]})]})]})})]})},sk=()=>{var R,O,U,C,q,X,N,D,G;const[t,s]=b.useState([]),[r,a]=b.useState(!0),[i,n]=b.useState(null),[l,o]=b.useState(""),[c,m]=b.useState(""),[d,x]=b.useState(1),[p,j]=b.useState(1),[g,u]=b.useState(null),[y,h]=b.useState(!1),f=async($=1,J="",E="")=>{var _;try{a(!0);const H=new URLSearchParams({page:$.toString(),limit:"10",...J&&{search:J},...E&&{role:E}}),V=await et.get(`/admin/users?${H}`);V.success?(s(V.data.users||[]),j(((_=V.data.pagination)==null?void 0:_.pages)||1),x($)):n("Failed to load users")}catch(H){console.error("Error loading users:",H),n("Failed to load users")}finally{a(!1)}};b.useEffect(()=>{f()},[]);const v=()=>{f(1,l,c)},T=async($,J)=>{try{(await et.put(`/admin/users/${$}`,{role:J})).success&&f(d,l,c)}catch(E){console.error("Error updating user role:",E)}},P=async($,J)=>{try{(await et.put(`/admin/users/${$}`,{status:J})).success&&f(d,l,c)}catch(E){console.error("Error updating user status:",E)}};return r&&t.length===0?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Xe,{size:"lg"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:"User Management"}),e.jsx("div",{className:"flex gap-2",children:e.jsx(M,{variant:"outline",onClick:()=>f(d,l,c),children:"🔄 Refresh"})})]}),e.jsx(oe,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Search users by name or email...",value:l,onChange:$=>o($.target.value),onKeyPress:$=>$.key==="Enter"&&v(),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),e.jsxs("select",{value:c,onChange:$=>m($.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Roles"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"user",children:"User"}),e.jsx("option",{value:"moderator",children:"Moderator"})]}),e.jsx(M,{onClick:v,children:"Search"})]})}),i&&e.jsx(oe,{className:"p-4 bg-red-50 border-red-200",children:e.jsx("p",{className:"text-red-600",children:i})}),e.jsx(oe,{className:"overflow-hidden",children:t.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"👥"}),e.jsx("h3",{className:"text-xl font-semibold text-primary-900 mb-2",children:"No Users Found"}),e.jsx("p",{className:"text-primary-600",children:"No users match your search criteria"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map($=>{var J,E;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:(J=$.profile)!=null&&J.firstName&&((E=$.profile)!=null&&E.lastName)?`${$.profile.firstName} ${$.profile.lastName}`:$.email}),e.jsx("div",{className:"text-sm text-gray-500",children:$.email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("select",{value:$.role,onChange:_=>T($._id,_.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"user",children:"User"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"moderator",children:"Moderator"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("select",{value:$.status,onChange:_=>P($._id,_.target.value),className:`text-sm border rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 ${$.status==="active"?"text-green-600 border-green-300":$.status==="inactive"?"text-yellow-600 border-yellow-300":"text-red-600 border-red-300"}`,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"suspended",children:"Suspended"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date($.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx(M,{variant:"outline",size:"sm",onClick:()=>{u($),h(!0)},children:"View Details"})})]},$._id)})})]})})}),y&&g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>h(!1),children:e.jsx("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:$=>$.stopPropagation(),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:"User Details"}),e.jsx("button",{onClick:()=>h(!1),className:"text-2xl text-primary-400 hover:text-primary-600",children:"×"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-3",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Full Name"}),e.jsx("p",{className:"text-base text-gray-900",children:(R=g.profile)!=null&&R.firstName&&((O=g.profile)!=null&&O.lastName)?`${g.profile.firstName} ${g.profile.lastName}`:"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"text-base text-gray-900",children:g.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("p",{className:"text-base text-gray-900",children:((U=g.profile)==null?void 0:U.phone)||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Role"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g.role==="admin"?"bg-purple-100 text-purple-800":g.role==="moderator"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:g.role})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-3",children:"Account Status"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Status"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g.status==="active"?"bg-green-100 text-green-800":g.status==="inactive"?"bg-yellow-100 text-yellow-800":g.status==="suspended"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:g.status})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Email Verified"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g.emailVerified?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g.emailVerified?"Verified":"Not Verified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Joined Date"}),e.jsx("p",{className:"text-base text-gray-900",children:new Date(g.createdAt).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Last Login"}),e.jsx("p",{className:"text-base text-gray-900",children:g.lastLogin?new Date(g.lastLogin).toLocaleDateString():"Never"})]})]})]}),(((C=g.profile)==null?void 0:C.dateOfBirth)||((q=g.profile)==null?void 0:q.nationality)||((X=g.profile)==null?void 0:X.gender))&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-3",children:"Additional Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((N=g.profile)==null?void 0:N.dateOfBirth)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Date of Birth"}),e.jsx("p",{className:"text-base text-gray-900",children:new Date(g.profile.dateOfBirth).toLocaleDateString()})]}),((D=g.profile)==null?void 0:D.gender)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Gender"}),e.jsx("p",{className:"text-base text-gray-900 capitalize",children:g.profile.gender})]}),((G=g.profile)==null?void 0:G.nationality)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Nationality"}),e.jsx("p",{className:"text-base text-gray-900",children:g.profile.nationality})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsx(M,{variant:"outline",onClick:()=>h(!1),className:"flex-1",children:"Close"}),e.jsx(M,{onClick:()=>{console.log("Edit user:",g._id)},className:"flex-1",children:"Edit User"})]})]})]})})}),p>1&&e.jsx(oe,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",d," of ",p]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{variant:"outline",size:"sm",disabled:d===1,onClick:()=>f(d-1,l,c),children:"Previous"}),e.jsx(M,{variant:"outline",size:"sm",disabled:d===p,onClick:()=>f(d+1,l,c),children:"Next"})]})]})})]})},rk=({editingHotel:t,onSave:s,onCancel:r})=>{var f,v,T,P,R,O,U,C,q,X,N,D,G,$,J,E,_,H,V,ae,me,F,ee,ue,S,ne,Z,K,se,be,Se,Ae,Le,Te,Fe,Me,Be,$e,A,z,w,W,B,k,L,ce,xe;const[a,i]=b.useState([]),[n,l]=b.useState([]),[o,c]=b.useState([]),m=()=>({id:`room-${Date.now()}`,name:"Standard Room",type:"standard",size:35,maxOccupancy:2,bedConfiguration:{kingBeds:1,singleBeds:0,doubleBeds:0,queenBeds:0},amenities:["WiFi","AC","Mini Bar"],pricing:{baseRate:150,currency:"USD",taxes:0,fees:0,totalRate:150,cancellationPolicy:{type:"free",deadline:24,fee:0}},totalRooms:10,images:[]}),d=()=>l([...n,m()]),x=ie=>l(n.filter((le,te)=>te!==ie)),p=(ie,le,te)=>{const ve=[...n];if(le.includes(".")){const[Oe,Ie]=le.split(".");ve[ie][Oe][Ie]=te}else ve[ie][le]=te;if(le==="pricing.baseRate"||le==="pricing.taxes"){const Oe=ve[ie].pricing.baseRate||0,Ie=ve[ie].pricing.taxes||0,Je=ve[ie].pricing.fees||0;ve[ie].pricing.totalRate=Oe+Ie+Je}l(ve)},j=()=>c([...o,{name:"",distance:0,type:""}]),g=ie=>c(o.filter((le,te)=>te!==ie)),u=(ie,le,te)=>{const ve=[...o];ve[ie][le]=te,c(ve)};b.useEffect(()=>{var ie;if(t!=null&&t.images){const le=t.images.filter(te=>te.url&&!te.url.startsWith("blob:")&&te.url.trim()!=="");i(le)}else i([]);t!=null&&t.rooms&&t.rooms.length>0?l(t.rooms):l([m()]),(ie=t==null?void 0:t.location)!=null&&ie.nearbyAttractions&&t.location.nearbyAttractions.length>0?c(t.location.nearbyAttractions):c([])},[t]);const y=async ie=>{var ve,Oe;if(ie.preventDefault(),n.length===0){alert("Please add at least one room type");return}if(a.length===0){alert("Please upload at least one hotel image");return}const le=new FormData(ie.currentTarget),te={name:le.get("name"),chain:le.get("chain"),description:le.get("description"),shortDescription:le.get("shortDescription"),starRating:parseInt(le.get("starRating")),category:le.get("category"),location:{address:{street:le.get("street"),area:le.get("area"),landmark:le.get("landmark"),zipCode:le.get("zipCode")},cityName:le.get("city"),countryName:le.get("country"),coordinates:{type:"Point",coordinates:[parseFloat(le.get("longitude"))||0,parseFloat(le.get("latitude"))||0]},distanceFromCenter:parseFloat(le.get("distanceFromCenter"))||0,nearbyAttractions:o},pricing:{priceRange:{min:parseInt(le.get("minPrice")),max:parseInt(le.get("maxPrice")),currency:le.get("currency")||"USD"},averageNightlyRate:parseInt(le.get("avgPrice"))},contact:{phone:le.get("phone"),email:le.get("email"),website:le.get("website"),checkIn:le.get("checkIn")||"15:00",checkOut:le.get("checkOut")||"11:00"},amenities:{general:((ve=le.get("generalAmenities"))==null?void 0:ve.split(",").map(Ie=>({name:Ie.trim(),category:"general",available:!0})).filter(Ie=>Ie.name))||[]},tags:((Oe=le.get("tags"))==null?void 0:Oe.split(",").map(Ie=>Ie.trim()).filter(Ie=>Ie))||[],policies:{checkIn:{from:le.get("checkIn")||"15:00",to:"24:00",minAge:parseInt(le.get("minAge"))||18},checkOut:{from:"07:00",to:le.get("checkOut")||"11:00"},children:{allowed:le.get("childrenAllowed")==="on",freeAge:parseInt(le.get("childrenFreeAge"))||12,extraBedFee:parseInt(le.get("extraBedFee"))||0},pets:{allowed:le.get("petsAllowed")==="on",fee:parseInt(le.get("petsFee"))||0},cancellation:{type:"free",description:le.get("cancellationPolicy")||"Free cancellation up to 24 hours"},smoking:{allowed:!1,areas:[]}},rooms:n,images:a,hotelCategory:le.get("category"),featured:le.get("featured")==="on",verified:le.get("verified")==="on",status:le.get("status")||"active"};s(te)},h=async ie=>{if(!ie.target.files)return;const le=new FormData;Array.from(ie.target.files).forEach((te,ve)=>{le.append("images",te),le.append(`alt_${ve}`,`Hotel image ${ve+1}`),le.append(`category_${ve}`,"exterior")});try{const te=await fetch(`${Ke.BASE_URL}/upload/multiple`,{method:"POST",body:le});if(te.ok){const ve=await te.json();if(ve.success&&ve.data.images){const Oe=ve.data.images.map((Ie,Je)=>({url:Ie.url,alt:Ie.alt,category:"exterior",isPrimary:a.length===0&&Je===0,order:a.length+Je}));i(Ie=>[...Ie,...Oe])}}else throw new Error("Upload failed")}catch(te){console.error("Upload failed:",te),alert("Failed to upload images")}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(oe,{className:"p-6 max-w-6xl w-full mx-4 max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h4",{className:"text-2xl font-bold text-primary-900",children:t?"Edit Hotel":"Add New Hotel"}),e.jsx("button",{onClick:r,className:"text-3xl text-primary-400 hover:text-primary-600",children:"×"})]}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg",children:[e.jsx("h5",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Hotel Name *"}),e.jsx("input",{name:"name",type:"text",required:!0,defaultValue:t==null?void 0:t.name,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Hotel Chain/Brand"}),e.jsx("input",{name:"chain",type:"text",defaultValue:t==null?void 0:t.chain,placeholder:"Marriott, Hilton, etc.",className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Star Rating *"}),e.jsxs("select",{name:"starRating",required:!0,defaultValue:t==null?void 0:t.starRating,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean",children:[e.jsx("option",{value:"1",children:"1 Star"}),e.jsx("option",{value:"2",children:"2 Stars"}),e.jsx("option",{value:"3",children:"3 Stars"}),e.jsx("option",{value:"4",children:"4 Stars"}),e.jsx("option",{value:"5",children:"5 Stars"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Description *"}),e.jsx("textarea",{name:"description",rows:3,required:!0,defaultValue:t==null?void 0:t.description,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Short Description"}),e.jsx("textarea",{name:"shortDescription",rows:3,defaultValue:t==null?void 0:t.shortDescription,placeholder:"Brief description for listings",className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]})]})]}),e.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg",children:[e.jsx("h5",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Location Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Street Address *"}),e.jsx("input",{name:"street",type:"text",required:!0,defaultValue:(v=(f=t==null?void 0:t.location)==null?void 0:f.address)==null?void 0:v.street,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Area/District *"}),e.jsx("input",{name:"area",type:"text",required:!0,defaultValue:(P=(T=t==null?void 0:t.location)==null?void 0:T.address)==null?void 0:P.area,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"City *"}),e.jsx("input",{name:"city",type:"text",required:!0,defaultValue:((R=t==null?void 0:t.location)==null?void 0:R.cityName)||((U=(O=t==null?void 0:t.location)==null?void 0:O.city)==null?void 0:U.name)||"",placeholder:"Paris, Tokyo, New York",className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Country *"}),e.jsx("input",{name:"country",type:"text",required:!0,defaultValue:((C=t==null?void 0:t.location)==null?void 0:C.countryName)||((X=(q=t==null?void 0:t.location)==null?void 0:q.country)==null?void 0:X.name)||"",placeholder:"France, Japan, USA",className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Zip Code"}),e.jsx("input",{name:"zipCode",type:"text",defaultValue:(D=(N=t==null?void 0:t.location)==null?void 0:N.address)==null?void 0:D.zipCode,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Latitude"}),e.jsx("input",{name:"latitude",type:"number",step:"any",defaultValue:(J=($=(G=t==null?void 0:t.location)==null?void 0:G.coordinates)==null?void 0:$.coordinates)==null?void 0:J[1],className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Longitude"}),e.jsx("input",{name:"longitude",type:"number",step:"any",defaultValue:(H=(_=(E=t==null?void 0:t.location)==null?void 0:E.coordinates)==null?void 0:_.coordinates)==null?void 0:H[0],className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Distance to Center (km)"}),e.jsx("input",{name:"distanceFromCenter",type:"number",step:"0.1",defaultValue:(V=t==null?void 0:t.location)==null?void 0:V.distanceFromCenter,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Nearest Landmark"}),e.jsx("input",{name:"landmark",type:"text",defaultValue:(me=(ae=t==null?void 0:t.location)==null?void 0:ae.address)==null?void 0:me.landmark,placeholder:"Eiffel Tower, Central Park",className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]})]})]}),e.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg",children:[e.jsx("h5",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Pricing Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Min Price *"}),e.jsx("input",{name:"minPrice",type:"number",required:!0,defaultValue:(ee=(F=t==null?void 0:t.pricing)==null?void 0:F.priceRange)==null?void 0:ee.min,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Max Price *"}),e.jsx("input",{name:"maxPrice",type:"number",required:!0,defaultValue:(S=(ue=t==null?void 0:t.pricing)==null?void 0:ue.priceRange)==null?void 0:S.max,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Average Price *"}),e.jsx("input",{name:"avgPrice",type:"number",required:!0,defaultValue:(ne=t==null?void 0:t.pricing)==null?void 0:ne.averageNightlyRate,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Currency"}),e.jsxs("select",{name:"currency",defaultValue:((K=(Z=t==null?void 0:t.pricing)==null?void 0:Z.priceRange)==null?void 0:K.currency)||"USD",className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean",children:[e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"GBP",children:"GBP"}),e.jsx("option",{value:"JPY",children:"JPY"})]})]})]})]}),e.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg",children:[e.jsx("h5",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Contact & Policies"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Phone"}),e.jsx("input",{name:"phone",type:"tel",defaultValue:(se=t==null?void 0:t.contact)==null?void 0:se.phone,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Email"}),e.jsx("input",{name:"email",type:"email",defaultValue:(be=t==null?void 0:t.contact)==null?void 0:be.email,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Website"}),e.jsx("input",{name:"website",type:"url",defaultValue:(Se=t==null?void 0:t.contact)==null?void 0:Se.website,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Check-in Time"}),e.jsx("input",{name:"checkIn",type:"time",defaultValue:((Ae=t==null?void 0:t.contact)==null?void 0:Ae.checkIn)||"15:00",className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Check-out Time"}),e.jsx("input",{name:"checkOut",type:"time",defaultValue:((Le=t==null?void 0:t.contact)==null?void 0:Le.checkOut)||"11:00",className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Hotel Category"}),e.jsxs("select",{name:"category",defaultValue:(t==null?void 0:t.category)||(t==null?void 0:t.hotelCategory),className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean",children:[e.jsx("option",{value:"",children:"Select Category"}),e.jsx("option",{value:"luxury",children:"Luxury"}),e.jsx("option",{value:"business",children:"Business"}),e.jsx("option",{value:"boutique",children:"Boutique"}),e.jsx("option",{value:"resort",children:"Resort"}),e.jsx("option",{value:"budget",children:"Budget"}),e.jsx("option",{value:"extended-stay",children:"Extended Stay"})]})]})]})]}),e.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg",children:[e.jsx("h5",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Amenities"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"General Amenities"}),e.jsx("textarea",{name:"generalAmenities",rows:3,defaultValue:Array.isArray((Te=t==null?void 0:t.amenities)==null?void 0:Te.general)?t.amenities.general.map(ie=>typeof ie=="string"?ie:ie.name||String(ie)).join(", "):"",placeholder:"WiFi, Pool, Spa, Restaurant, Gym, Parking",className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Tags"}),e.jsx("input",{name:"tags",type:"text",defaultValue:Array.isArray(t==null?void 0:t.tags)?t.tags.join(", "):"",placeholder:"luxury, beachfront, spa, family-friendly",className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]})]})]}),e.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg",children:[e.jsx("h5",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Policies"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Min Age"}),e.jsx("input",{name:"minAge",type:"number",defaultValue:((Me=(Fe=t==null?void 0:t.policies)==null?void 0:Fe.checkIn)==null?void 0:Me.minAge)||18,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"childrenAllowed",defaultChecked:($e=(Be=t==null?void 0:t.policies)==null?void 0:Be.children)==null?void 0:$e.allowed,className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-primary-700",children:"Children Allowed"})]})}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"petsAllowed",defaultChecked:(z=(A=t==null?void 0:t.policies)==null?void 0:A.pets)==null?void 0:z.allowed,className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-primary-700",children:"Pets Allowed"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Children Free Age"}),e.jsx("input",{name:"childrenFreeAge",type:"number",defaultValue:((W=(w=t==null?void 0:t.policies)==null?void 0:w.children)==null?void 0:W.freeAge)||12,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Extra Bed Fee"}),e.jsx("input",{name:"extraBedFee",type:"number",defaultValue:((k=(B=t==null?void 0:t.policies)==null?void 0:B.children)==null?void 0:k.extraBedFee)||0,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Pet Fee"}),e.jsx("input",{name:"petsFee",type:"number",defaultValue:((ce=(L=t==null?void 0:t.policies)==null?void 0:L.pets)==null?void 0:ce.fee)||0,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Cancellation Policy"}),e.jsx("textarea",{name:"cancellationPolicy",rows:2,defaultValue:((xe=t==null?void 0:t.policies)==null?void 0:xe.cancellation)||"Free cancellation up to 24 hours",className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"})]})]}),e.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h5",{className:"text-lg font-semibold text-primary-900",children:["Room Types (",n.length,")"]}),e.jsx(M,{type:"button",onClick:d,size:"sm",children:"+ Add Room"})]}),n.map((ie,le)=>e.jsxs("div",{className:"border border-primary-200 rounded-lg p-4 mb-4 bg-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("h6",{className:"font-medium text-primary-800",children:["Room ",le+1]}),n.length>1&&e.jsx(M,{type:"button",onClick:()=>x(le),size:"sm",variant:"outline",children:"Remove"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Room ID"}),e.jsx("input",{type:"text",value:ie.id,onChange:te=>p(le,"id",te.target.value),className:"w-full px-2 py-1 text-sm border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Room Name"}),e.jsx("input",{type:"text",value:ie.name,onChange:te=>p(le,"name",te.target.value),className:"w-full px-2 py-1 text-sm border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Type"}),e.jsxs("select",{value:ie.type,onChange:te=>p(le,"type",te.target.value),className:"w-full px-2 py-1 text-sm border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean",children:[e.jsx("option",{value:"standard",children:"Standard"}),e.jsx("option",{value:"deluxe",children:"Deluxe"}),e.jsx("option",{value:"suite",children:"Suite"}),e.jsx("option",{value:"villa",children:"Villa"}),e.jsx("option",{value:"apartment",children:"Apartment"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Size (m²)"}),e.jsx("input",{type:"number",value:ie.size,onChange:te=>p(le,"size",parseInt(te.target.value)),className:"w-full px-2 py-1 text-sm border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Max Guests"}),e.jsx("input",{type:"number",value:ie.maxOccupancy,onChange:te=>p(le,"maxOccupancy",parseInt(te.target.value)),className:"w-full px-2 py-1 text-sm border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"King Beds"}),e.jsx("input",{type:"number",value:ie.bedConfiguration.kingBeds,onChange:te=>p(le,"bedConfiguration.kingBeds",parseInt(te.target.value)),className:"w-full px-2 py-1 text-sm border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Queen Beds"}),e.jsx("input",{type:"number",value:ie.bedConfiguration.queenBeds,onChange:te=>p(le,"bedConfiguration.queenBeds",parseInt(te.target.value)),className:"w-full px-2 py-1 text-sm border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Double Beds"}),e.jsx("input",{type:"number",value:ie.bedConfiguration.doubleBeds,onChange:te=>p(le,"bedConfiguration.doubleBeds",parseInt(te.target.value)),className:"w-full px-2 py-1 text-sm border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Single Beds"}),e.jsx("input",{type:"number",value:ie.bedConfiguration.singleBeds,onChange:te=>p(le,"bedConfiguration.singleBeds",parseInt(te.target.value)),className:"w-full px-2 py-1 text-sm border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Total Rooms"}),e.jsx("input",{type:"number",value:ie.totalRooms,onChange:te=>p(le,"totalRooms",parseInt(te.target.value)),className:"w-full px-2 py-1 text-sm border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Base Rate"}),e.jsx("input",{type:"number",value:ie.pricing.baseRate,onChange:te=>p(le,"pricing.baseRate",parseInt(te.target.value)),className:"w-full px-2 py-1 text-sm border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Taxes"}),e.jsx("input",{type:"number",value:ie.pricing.taxes,onChange:te=>p(le,"pricing.taxes",parseInt(te.target.value)),className:"w-full px-2 py-1 text-sm border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Fees"}),e.jsx("input",{type:"number",value:ie.pricing.fees,onChange:te=>p(le,"pricing.fees",parseInt(te.target.value)),className:"w-full px-2 py-1 text-sm border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Currency"}),e.jsxs("select",{value:ie.pricing.currency,onChange:te=>p(le,"pricing.currency",te.target.value),className:"w-full px-2 py-1 text-sm border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean",children:[e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"GBP",children:"GBP"}),e.jsx("option",{value:"JPY",children:"JPY"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Room Amenities (comma separated)"}),e.jsx("textarea",{value:ie.amenities.join(", "),onChange:te=>p(le,"amenities",te.target.value.split(",").map(ve=>ve.trim()).filter(ve=>ve)),rows:2,placeholder:"Ocean View, Balcony, Mini Bar, WiFi, AC",className:"w-full px-2 py-1 text-sm border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean"})]})]},le))]}),e.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h5",{className:"text-lg font-semibold text-primary-900",children:["Nearby Attractions (",o.length,")"]}),e.jsx(M,{type:"button",onClick:j,size:"sm",children:"+ Add Attraction"})]}),o.map((ie,le)=>e.jsxs("div",{className:"border border-primary-200 rounded-lg p-3 mb-3 bg-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-primary-700",children:["Attraction ",le+1]}),e.jsx(M,{type:"button",onClick:()=>g(le),size:"sm",variant:"outline",children:"Remove"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Name"}),e.jsx("input",{type:"text",value:ie.name,onChange:te=>u(le,"name",te.target.value),placeholder:"Eiffel Tower, Central Park",className:"w-full px-2 py-1 text-sm border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Distance (km)"}),e.jsx("input",{type:"number",step:"0.1",value:ie.distance,onChange:te=>u(le,"distance",parseFloat(te.target.value)),className:"w-full px-2 py-1 text-sm border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Type"}),e.jsx("input",{type:"text",value:ie.type,onChange:te=>u(le,"type",te.target.value),placeholder:"Museum, Park, Shopping",className:"w-full px-2 py-1 text-sm border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean"})]})]})]},le))]}),e.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg",children:[e.jsx("h5",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Hotel Images"}),e.jsxs("div",{children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:h,className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean"}),e.jsx("p",{className:"text-xs text-primary-500 mt-1",children:"Upload multiple images for the hotel"})]}),a.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("h6",{className:"text-sm font-medium text-primary-700 mb-2",children:["Uploaded Images (",a.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:a.map((ie,le)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:ie.url.startsWith("http")?ie.url:`${Ke.BASE_URL.replace("/api","")}${ie.url}`,alt:ie.alt,className:"w-full h-24 object-cover rounded-lg",onError:te=>{te.currentTarget.src="https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=300&fit=crop"}}),e.jsx("button",{type:"button",onClick:()=>i(te=>te.filter((ve,Oe)=>Oe!==le)),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]},le))})]})]}),e.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg",children:[e.jsx("h5",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"featured",defaultChecked:t==null?void 0:t.featured,className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-primary-700",children:"Featured Hotel"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"verified",defaultChecked:t==null?void 0:t.verified,className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-primary-700",children:"Verified"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Status"}),e.jsxs("select",{name:"status",defaultValue:(t==null?void 0:t.status)||"active",className:"w-full px-3 py-2 border border-primary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-ocean",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"maintenance",children:"Under Maintenance"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[e.jsx(M,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),e.jsx(M,{type:"submit",children:t?"Update Hotel":"Create Hotel"})]})]})]})})},ak=()=>{const[t,s]=b.useState([]),[r,a]=b.useState(!0),[i,n]=b.useState(!1),[l,o]=b.useState(null);b.useEffect(()=>{c()},[]);const c=async()=>{try{const d=await(await fetch(`${Ke.BASE_URL}/hotels`)).json();d.success&&s(d.data.hotels||[])}catch(m){console.error("Failed to load hotels:",m)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:"Hotel Management"}),e.jsx(M,{onClick:()=>n(!0),children:"+ Add Hotel"})]}),r?e.jsx("div",{className:"flex justify-center py-8",children:"Loading hotels..."}):e.jsx(oe,{className:"p-6",children:e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-primary-200",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Hotel"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Rating"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Location"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Price Range"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:t.map(m=>{var d,x,p,j,g,u,y,h;return e.jsxs("tr",{className:"border-b border-primary-100",children:[e.jsxs("td",{className:"py-3 px-4",children:[e.jsx("div",{className:"font-semibold",children:m.name}),e.jsxs("div",{className:"text-sm text-primary-600",children:[(d=m.description)==null?void 0:d.substring(0,50),"..."]})]}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-yellow-500",children:"⭐".repeat(m.starRating||0)}),e.jsxs("span",{className:"ml-1 text-sm",children:["(",m.starRating,")"]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"text-sm",children:(p=(x=m.location)==null?void 0:x.address)==null?void 0:p.area})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"text-sm",children:["$",(g=(j=m.pricing)==null?void 0:j.priceRange)==null?void 0:g.min," - $",(y=(u=m.pricing)==null?void 0:u.priceRange)==null?void 0:y.max]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${m.status==="active"?"bg-emerald/20 text-emerald":"bg-red-100 text-red-700"}`,children:(h=m.status)==null?void 0:h.toUpperCase()})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(M,{size:"sm",variant:"outline",onClick:()=>{o(m),n(!0)},children:"Edit"})})]},m._id)})})]}),t.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🏨"}),e.jsx("h3",{className:"text-xl font-semibold text-primary-900 mb-2",children:"No hotels found"}),e.jsx("p",{className:"text-primary-600 mb-4",children:"Add your first hotel to get started"}),e.jsx(M,{onClick:()=>n(!0),children:"Add Hotel"})]})]})}),i&&e.jsx(rk,{editingHotel:l,onSave:async m=>{var d;try{const p=await(await fetch(`${Ke.BASE_URL}/hotels${l?`/${l._id}`:""}`,{method:l?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).json();p.success?(c(),n(!1),o(null),alert("Hotel saved successfully!")):alert("Failed to save hotel: "+((d=p.error)==null?void 0:d.message))}catch(x){console.error("Failed to save hotel:",x),alert("Failed to save hotel")}},onCancel:()=>{n(!1),o(null)}})]})},nk=()=>{const[t,s]=b.useState({heroTitle:"",heroSubtitle:"",heroImages:[""],heroVideo:"",heroVideoMuted:!0,currentImageIndex:0}),[r,a]=b.useState(!0),[i,n]=b.useState(!1);b.useEffect(()=>{l()},[]);const l=async()=>{try{const c=await et.get("/home/featured");c.success&&s({heroTitle:c.data.heroTitle||"Air, sleep, dream",heroSubtitle:c.data.heroSubtitle||"Find and book a great experience.",heroImages:c.data.heroImages||[c.data.heroImage||""],heroVideo:c.data.heroVideo||"",heroVideoMuted:c.data.heroVideoMuted!==!1,currentImageIndex:c.data.currentImageIndex||0})}catch(c){console.error("Failed to load hero data:",c)}finally{a(!1)}},o=async()=>{n(!0);try{(await et.put("/admin/home/content",{hero:t})).success&&alert("Hero content updated successfully!")}catch(c){console.error("Failed to save hero data:",c),alert("Failed to save hero content")}finally{n(!1)}};return r?e.jsx("div",{className:"flex justify-center py-8",children:"Loading..."}):e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-primary-900 mb-2",children:"🎬 Hero Content Management"}),e.jsx("p",{className:"text-primary-600",children:"Configure your homepage hero section"})]}),e.jsx(oe,{className:"p-8 shadow-lg",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-primary-900 border-b pb-2",children:"Content Settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-3",children:"🎨 Hero Title"}),e.jsx("input",{type:"text",value:t.heroTitle,onChange:c=>s(m=>({...m,heroTitle:c.target.value})),className:"w-full px-4 py-3 border border-primary-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Air, sleep, dream"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-3",children:"📝 Hero Subtitle"}),e.jsx("textarea",{value:t.heroSubtitle,onChange:c=>s(m=>({...m,heroSubtitle:c.target.value})),className:"w-full px-4 py-3 border border-primary-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none",placeholder:"Find and book a great experience.",rows:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-3",children:"🖼️ Background Images"}),e.jsxs("div",{className:"space-y-3",children:[t.heroImages.map((c,m)=>e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"url",value:c,onChange:d=>{const x=[...t.heroImages];x[m]=d.target.value,s(p=>({...p,heroImages:x}))},className:"w-full px-4 py-3 border border-primary-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"https://images.unsplash.com/..."})}),t.heroImages.length>1&&e.jsx("button",{type:"button",onClick:()=>{const d=t.heroImages.filter((x,p)=>p!==m);s(x=>({...x,heroImages:d}))},className:"px-3 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-colors",title:"Remove image",children:"🗑️"})]},m)),e.jsx("button",{type:"button",onClick:()=>s(c=>({...c,heroImages:[...c.heroImages,""]})),className:"w-full px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors font-medium",children:"➕ Add Image"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-3",children:"🎥 Background Video (Optional)"}),e.jsx("input",{type:"url",value:t.heroVideo,onChange:c=>s(m=>({...m,heroVideo:c.target.value})),className:"w-full px-4 py-3 border border-primary-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"https://example.com/video.mp4"}),e.jsx("p",{className:"text-xs text-primary-500 mt-2",children:"💡 Video will override images if provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-3",children:"🔇 Video Audio"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"videoMuted",checked:t.heroVideoMuted,onChange:()=>s(c=>({...c,heroVideoMuted:!0})),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Muted (Recommended)"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"videoMuted",checked:!t.heroVideoMuted,onChange:()=>s(c=>({...c,heroVideoMuted:!1})),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"With Sound"})]})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(M,{onClick:o,disabled:i,className:"w-full py-3 text-lg font-semibold",children:i?"🔄 Saving...":"💾 Save Hero Content"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-primary-900 border-b pb-2",children:"🔍 Live Preview"}),e.jsxs("div",{className:"relative h-80 rounded-2xl overflow-hidden shadow-lg",children:[t.heroVideo?e.jsx("video",{src:t.heroVideo,className:"w-full h-full object-cover",muted:t.heroVideoMuted,loop:!0,autoPlay:!0}):e.jsx("img",{src:t.heroImages[0]||"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=800&h=400&fit=crop",alt:"Hero preview",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/50 via-black/30 to-black/50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white px-6",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 drop-shadow-lg",children:t.heroTitle||"Your Hero Title"}),e.jsx("p",{className:"text-xl opacity-90 drop-shadow",children:t.heroSubtitle||"Your hero subtitle will appear here"}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{className:"bg-blue-500 text-white px-6 py-3 rounded-full font-semibold hover:bg-blue-600 transition-colors",children:"Start your search"})})]})})]}),e.jsx("div",{className:"text-center text-sm text-primary-500",children:"💡 This is how your hero section will look on the homepage"})]})]})})]})},ik=()=>{const[t,s]=b.useState([]),[r,a]=b.useState([]),[i,n]=b.useState(!0),[l,o]=b.useState("companies");b.useEffect(()=>{c()},[l]);const c=async()=>{var d,x;n(!0);try{if(l==="companies"){const j=await(await fetch("/api/admin/corporate/companies",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();s(((d=j.data)==null?void 0:d.companies)||[])}else{const j=await(await fetch("/api/admin/corporate/bookings",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();a(((x=j.data)==null?void 0:x.bookings)||[])}}catch(p){console.error("Failed to load data:",p)}finally{n(!1)}},m=async(d,x)=>{try{await fetch(`/api/admin/corporate/companies/${d}/${x}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),c()}catch(p){console.error(`Failed to ${x} company:`,p)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:"Corporate Management"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{variant:l==="companies"?"default":"outline",onClick:()=>o("companies"),children:"Companies"}),e.jsx(M,{variant:l==="bookings"?"default":"outline",onClick:()=>o("bookings"),children:"Bookings"})]})]}),i?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Xe,{size:"lg"})}):e.jsxs(e.Fragment,{children:[l==="companies"&&e.jsxs(oe,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Registered Companies"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2",children:"Company"}),e.jsx("th",{className:"text-left py-2",children:"Employees"}),e.jsx("th",{className:"text-left py-2",children:"Total Spent"}),e.jsx("th",{className:"text-left py-2",children:"Status"}),e.jsx("th",{className:"text-left py-2",children:"Actions"})]})}),e.jsx("tbody",{children:t.map(d=>{var x,p,j,g;return e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-3",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.name}),e.jsx("div",{className:"text-sm text-gray-500",children:(x=d.contact)==null?void 0:x.email})]})}),e.jsx("td",{className:"py-3",children:((p=d.stats)==null?void 0:p.totalEmployees)||0}),e.jsxs("td",{className:"py-3",children:["$",((g=(j=d.stats)==null?void 0:j.totalSpent)==null?void 0:g.toLocaleString())||0]}),e.jsx("td",{className:"py-3",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${d.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:d.status})}),e.jsx("td",{className:"py-3",children:e.jsx("div",{className:"flex gap-2",children:d.status==="active"?e.jsx(M,{size:"sm",variant:"outline",onClick:()=>m(d._id,"suspend"),children:"Suspend"}):e.jsx(M,{size:"sm",onClick:()=>m(d._id,"activate"),children:"Activate"})})})]},d._id)})})]})})]}),l==="bookings"&&e.jsxs(oe,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Corporate Bookings"}),e.jsx("div",{className:"space-y-4",children:r.map(d=>{var x,p,j,g;return e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:d.bookingReference}),e.jsxs("p",{className:"text-sm text-gray-600",children:[(x=d.company)==null?void 0:x.name," • ",(p=d.corporate)==null?void 0:p.department]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[(j=d.travelers)==null?void 0:j.length," travelers • $",(g=d.pricing)==null?void 0:g.total]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${d.status==="confirmed"?"bg-green-100 text-green-800":d.status==="pending-approval"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:d.status})]})},d._id)})})]})]})]})},lk=()=>{var A,z;const t=rt(),{user:s,isAuthenticated:r}=Ps(),[a,i]=b.useState("overview"),[n,l]=b.useState(!0),[o,c]=b.useState([]),[m,d]=b.useState([]),[x,p]=b.useState(!1),[j,g]=b.useState(!1),[u,y]=b.useState(!1),[h,f]=b.useState(!1),[v,T]=b.useState(null),[P,R]=b.useState("flight"),[O,U]=b.useState(null),[C,q]=b.useState(null),[X,N]=b.useState(!1),[D,G]=b.useState(null),[$,J]=b.useState(!1),[E,_]=b.useState(!1),[H,V]=b.useState(!1),[ae,me]=b.useState(!1),[F,ee]=b.useState(null),[ue,S]=b.useState(null),ne=async w=>{try{const{apiService:W}=await ws(async()=>{const{apiService:k}=await Promise.resolve().then(()=>Dr);return{apiService:k}},void 0),B=await W.get(`/admin/trips/${w}`);if(B.success)return U(B.data.trip),B.data.trip}catch(W){console.error("Failed to load trip data:",W)}return null};b.useEffect(()=>{if(!r||(s==null?void 0:s.role)!=="admin"){t("/");return}Z()},[r,s]),b.useEffect(()=>{(a==="appointments"||a==="bookings")&&Z()},[a]);const Z=async()=>{var w,W;console.log("🔄 Loading admin data..."),console.log("User role:",s==null?void 0:s.role);try{p(!0);const[B,k]=await Promise.all([et.get("/admin/appointments"),et.get("/admin/bookings/all")]);if(B.success&&(console.log("✅ Admin appointments loaded:",((w=B.data.appointments)==null?void 0:w.length)||0),c(B.data.appointments||[])),k.success){console.log("✅ Admin bookings response:",k),console.log("✅ Admin bookings data structure:",k.data);let L=[];(W=k.data)!=null&&W.bookings?L=k.data.bookings:Array.isArray(k.data)?L=k.data:k.bookings&&(L=k.bookings),console.log("✅ Final bookings array:",L),console.log("✅ Final bookings length:",L.length),d(L)}else console.log("❌ Admin bookings failed:",k),d([])}catch(B){console.error("Failed to load admin data:",B)}finally{p(!1),l(!1)}},K=async(w,W)=>{var k,L,ce;const B=o.find(xe=>xe._id===w);ee({title:"Update Appointment Status",message:`Appointment: ${B==null?void 0:B.appointmentReference}
Customer: ${(k=B==null?void 0:B.customer)==null?void 0:k.firstName} ${(L=B==null?void 0:B.customer)==null?void 0:L.lastName}
Trip: ${(ce=B==null?void 0:B.trip)==null?void 0:ce.title}

This will mark the appointment as ${W.toUpperCase()}.

Do you want to proceed?`,confirmText:`Mark as ${W.charAt(0).toUpperCase()+W.slice(1)}`,type:W==="completed"?"info":"warning",onConfirm:()=>se(w,W)}),_(!0)},se=async(w,W)=>{var B;try{const k=await et.put(`/admin/appointments/${w}`,{status:W});k.success?(S({title:"Appointment Updated",message:`Appointment status has been updated to ${W.toUpperCase()} successfully!`,type:"success"}),me(!0),Z()):(S({title:"Update Failed",message:((B=k.error)==null?void 0:B.message)||"Failed to update appointment status",type:"error"}),me(!0))}catch(k){console.error("Failed to update appointment:",k),S({title:"Update Failed",message:k.message||"Network error occurred",type:"error"}),me(!0)}},be=async(w,W)=>{var L,ce;const B=m.find(xe=>xe._id===w),k=(B==null?void 0:B.status)||"draft";ee({title:"Confirm Status Change",message:`Booking: ${(B==null?void 0:B.bookingReference)||w}
Customer: ${(L=B==null?void 0:B.customer)==null?void 0:L.firstName} ${(ce=B==null?void 0:B.customer)==null?void 0:ce.lastName}

Current Status: ${k.replace("-"," ").toUpperCase()}
New Status: ${W.replace("-"," ").toUpperCase()}

Are you sure you want to change the status?`,confirmText:"Update Status",type:"warning",onConfirm:()=>Se(w,W,k),onCancel:()=>{const xe=document.querySelector(`select[data-booking-id="${w}"]`);xe&&(xe.value=k)}}),_(!0)},Se=async(w,W,B)=>{var k;try{console.log("🔄 Updating booking status:",{bookingId:w,newStatus:W});const L=await et.put(`/appointments/bookings/${w}/status`,{status:W});if(console.log("📝 Status update response:",L),L.success){d(xe=>xe.map(ie=>ie._id===w?{...ie,status:W}:ie));const ce=m.find(xe=>xe._id===w);S({title:"Status Updated Successfully",message:`Booking: ${ce==null?void 0:ce.bookingReference}
New Status: ${W.replace("-"," ").toUpperCase()}`,type:"success"}),me(!0)}else{console.error("❌ Status update failed:",L),S({title:"Status Update Failed",message:((k=L.error)==null?void 0:k.message)||"Unknown error occurred",type:"error"}),me(!0);const ce=document.querySelector(`select[data-booking-id="${w}"]`);ce&&(ce.value=B)}}catch(L){console.error("❌ Status update error:",L),S({title:"Status Update Failed",message:L.message||"Network error occurred",type:"error"}),me(!0);const ce=document.querySelector(`select[data-booking-id="${w}"]`);ce&&(ce.value=B)}},Ae=w=>{q(w),N(!0)},Le=w=>{G(w),J(!0)},Te=async(w,W)=>{const B=m.find(k=>k._id===w);q(B),V(!0)},Fe=async(w,W)=>{var L,ce,xe,ie,le,te;const B=C==null?void 0:C._id,k=(((L=C==null?void 0:C.pricing)==null?void 0:L.finalAmount)||0)-(((ce=C==null?void 0:C.payment)==null?void 0:ce.totalPaid)||0);try{const ve=await et.post(`/admin/bookings/${B}/payment`,{amount:w,method:W,transactionId:`TXN-${Date.now()}`,notes:"Payment recorded by admin"});if(ve.success){const Oe=((ie=(xe=ve.data.booking)==null?void 0:xe.payment)==null?void 0:ie.totalPaid)||0,Ie=Oe>=k;d(Je=>Je.map(ct=>ct._id===B?{...ct,payment:{...ct.payment,totalPaid:Oe,status:Ie?"completed":"partial"},status:Ie?"payment-received":"pending-payment"}:ct)),S({title:"Payment Recorded Successfully",message:`Amount: ${((le=C==null?void 0:C.pricing)==null?void 0:le.currency)||"USD"} ${w.toLocaleString()}
Method: ${W}
Status: ${Ie?"Payment Completed":"Partial Payment"}`,type:"success"}),me(!0)}else S({title:"Payment Recording Failed",message:((te=ve.error)==null?void 0:te.message)||"Unknown error occurred",type:"error"}),me(!0)}catch(ve){console.error("Payment error:",ve),S({title:"Payment Recording Failed",message:ve.message||"Network error occurred",type:"error"}),me(!0)}},Me=async(w,W)=>{var k,L,ce;const B=o.find(xe=>xe._id===w);ee({title:"Convert Appointment to Booking",message:`Appointment: ${B==null?void 0:B.appointmentReference}
Customer: ${(k=B==null?void 0:B.customer)==null?void 0:k.firstName} ${(L=B==null?void 0:B.customer)==null?void 0:L.lastName}
Trip: ${(ce=B==null?void 0:B.trip)==null?void 0:ce.title}

Estimated Price: $${W}

This will convert the appointment to a confirmed booking.

Do you want to proceed?`,confirmText:"Convert to Booking",type:"info",onConfirm:()=>Be(w,W)}),_(!0)},Be=async(w,W)=>{var B;try{const k=await et.post(`/admin/appointments/${w}/convert`,{finalPrice:W,paymentMethod:"bank-transfer",startDate:new Date(Date.now()+2592e6).toISOString().split("T")[0],endDate:new Date(Date.now()+31968e5).toISOString().split("T")[0],travelers:{count:2,adults:2}});k.success?(S({title:"Conversion Successful",message:"Appointment has been converted to booking successfully!",type:"success"}),me(!0),Z()):(S({title:"Conversion Failed",message:((B=k.error)==null?void 0:B.message)||"Unknown error occurred",type:"error"}),me(!0))}catch(k){console.error("Conversion error:",k),S({title:"Conversion Failed",message:k.message||"Network error occurred",type:"error"}),me(!0)}},$e=w=>({scheduled:"bg-blue-100 text-blue-800",confirmed:"bg-green-100 text-green-800",completed:"bg-purple-100 text-purple-800",cancelled:"bg-red-100 text-red-800",converted:"bg-emerald-100 text-emerald-800"})[w]||"bg-gray-100 text-gray-800";return n?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Xe,{size:"lg"})}):e.jsxs("div",{className:"min-h-screen bg-primary-50",children:[e.jsx("section",{className:"bg-white py-6 border-b",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-primary-900",children:"Admin Dashboard"}),e.jsx("p",{className:"text-primary-600",children:"Manage your travel platform"})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(oe,{className:"p-6",children:e.jsx("nav",{className:"space-y-2",children:[{id:"overview",label:"Overview",icon:"📊"},{id:"flights",label:"Flights",icon:"✈️"},{id:"hotels",label:"Hotels",icon:"🏨"},{id:"trips",label:"Trips",icon:"🧳"},{id:"master-data",label:"Master Data",icon:"🗂️"},{id:"users",label:"Users",icon:"👥"},{id:"appointments",label:"Appointments",icon:"📅"},{id:"bookings",label:"Bookings",icon:"📋"},{id:"blog",label:"Blog",icon:"📝"},{id:"analytics",label:"Analytics",icon:"📈"},{id:"corporate",label:"Corporate",icon:"🏢"},{id:"hero",label:"Hero Content",icon:"🎬"}].map(w=>e.jsxs("button",{onClick:()=>i(w.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition-colors ${a===w.id?"bg-blue-ocean text-white":"text-primary-700 hover:bg-primary-100"}`,children:[e.jsx("span",{children:w.icon}),e.jsx("span",{children:w.label})]},w.id))})})}),e.jsxs("div",{className:"lg:col-span-3",children:[a==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(oe,{className:"p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-ocean mb-2",children:o.length}),e.jsx("div",{className:"text-sm text-primary-600",children:"Total Appointments"}),e.jsxs("div",{className:"text-xs text-emerald mt-1",children:[o.filter(w=>w.status==="scheduled").length," scheduled"]})]}),e.jsxs(oe,{className:"p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-emerald mb-2",children:m.length}),e.jsx("div",{className:"text-sm text-primary-600",children:"Total Bookings"}),e.jsxs("div",{className:"text-xs text-emerald mt-1",children:[m.filter(w=>w.status==="confirmed").length," confirmed"]})]}),e.jsxs(oe,{className:"p-6 text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-amber-premium mb-2",children:["$",m.reduce((w,W)=>{var B;return w+(((B=W.pricing)==null?void 0:B.finalAmount)||0)},0).toLocaleString()]}),e.jsx("div",{className:"text-sm text-primary-600",children:"Total Revenue"}),e.jsx("div",{className:"text-xs text-blue-ocean mt-1",children:"All bookings"})]}),e.jsxs(oe,{className:"p-6 text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:[o.length>0?Math.round(o.filter(w=>w.status==="converted").length/o.length*100):0,"%"]}),e.jsx("div",{className:"text-sm text-primary-600",children:"Conversion Rate"}),e.jsx("div",{className:"text-xs text-amber-500 mt-1",children:"Appointments → Bookings"})]})]}),e.jsxs(oe,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900",children:"Quick Actions"}),e.jsx(M,{onClick:Z,size:"sm",children:"Refresh Data"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("button",{onClick:()=>i("appointments"),className:"p-4 bg-blue-50 rounded-lg text-left hover:bg-blue-100 transition-colors",children:[e.jsx("div",{className:"text-2xl mb-2",children:"📅"}),e.jsx("div",{className:"font-semibold text-blue-900",children:"Manage Appointments"}),e.jsxs("div",{className:"text-sm text-blue-600",children:[o.filter(w=>w.status==="scheduled").length," pending"]})]}),e.jsxs("button",{onClick:()=>i("bookings"),className:"p-4 bg-green-50 rounded-lg text-left hover:bg-green-100 transition-colors",children:[e.jsx("div",{className:"text-2xl mb-2",children:"📋"}),e.jsx("div",{className:"font-semibold text-green-900",children:"Manage Bookings"}),e.jsxs("div",{className:"text-sm text-green-600",children:[m.filter(w=>{var W;return((W=w.payment)==null?void 0:W.status)==="pending"}).length," pending payment"]})]}),e.jsxs("button",{onClick:()=>i("trips"),className:"p-4 bg-purple-50 rounded-lg text-left hover:bg-purple-100 transition-colors",children:[e.jsx("div",{className:"text-2xl mb-2",children:"🌍"}),e.jsx("div",{className:"font-semibold text-purple-900",children:"Manage Trips"}),e.jsx("div",{className:"text-sm text-purple-600",children:"Add new trips"})]})]})]}),e.jsxs(oe,{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-ocean text-white rounded-full flex items-center justify-center text-sm",children:"📋"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:"New booking for Bali Adventure"}),e.jsx("div",{className:"text-xs text-primary-500",children:"2 minutes ago"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-emerald/10 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-emerald text-white rounded-full flex items-center justify-center text-sm",children:"⭐"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:"5-star review for Paris Romance"}),e.jsx("div",{className:"text-xs text-primary-500",children:"15 minutes ago"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm",children:"🧳"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:"New trip published: Iceland Northern Lights"}),e.jsx("div",{className:"text-xs text-primary-500",children:"1 hour ago"})]})]})]})]})]}),a==="flights"&&e.jsx(tk,{}),a==="hotels"&&e.jsx(ak,{}),a==="packages"&&e.jsx(L4,{onCreatePackage:()=>{T(null),f(!0)},onEditPackage:w=>{T(w),f(!0)}}),a==="trips"&&e.jsx(z4,{onCreateTrip:()=>{T(null),U(null),f(!0)},onEditTrip:async w=>{T(w);const W=await ne(w);U(W),f(!0)}}),a==="master-data"&&e.jsx(Q4,{}),a==="users"&&e.jsx(sk,{}),a==="appointments"&&e.jsxs(oe,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:"Appointment Management"}),e.jsx(M,{onClick:Z,children:"Refresh"})]}),x?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Xe,{size:"lg"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading appointments..."})]}):o.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📅"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No appointments found"}),e.jsx("p",{className:"text-gray-600",children:"Customer appointments will appear here"})]}):e.jsx("div",{className:"space-y-4",children:o.map(w=>{var W,B,k,L,ce,xe,ie,le,te,ve,Oe;return e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-all duration-200 hover:border-blue-200",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900",children:w.appointmentReference}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${$e(w.status)}`,children:w.status.toUpperCase()})]}),e.jsx("p",{className:"text-primary-600 font-medium",children:((W=w.trip)==null?void 0:W.title)||"Trip Consultation"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["📍 ",((B=w.trip)==null?void 0:B.destination)||"Destination TBD"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary-900",children:[((k=w.trip)==null?void 0:k.currency)||"USD"," ",(((L=w.pricing)==null?void 0:L.estimatedTotal)||0).toLocaleString()]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Estimated"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"👤 Customer"}),e.jsxs("p",{className:"font-medium text-primary-900",children:[(ce=w.customer)==null?void 0:ce.firstName," ",(xe=w.customer)==null?void 0:xe.lastName]}),e.jsx("p",{className:"text-sm text-gray-500",children:(ie=w.customer)==null?void 0:ie.email}),e.jsx("p",{className:"text-sm text-gray-500",children:(le=w.customer)==null?void 0:le.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"📅 Schedule"}),e.jsx("p",{className:"font-medium text-primary-900",children:(te=w.schedule)!=null&&te.preferredDate?new Date(w.schedule.preferredDate).toLocaleDateString():"TBD"}),e.jsx("p",{className:"text-sm text-gray-500",children:((ve=w.schedule)==null?void 0:ve.timeSlot)||"Time TBD"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Travelers: ",((Oe=w.customer)==null?void 0:Oe.travelers)||1]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Created: ",new Date(w.createdAt).toLocaleDateString()," • Source: ",w.source||"N/A"]})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:w-48",children:[e.jsx(M,{size:"sm",variant:"outline",onClick:()=>Le(w),className:"w-full",children:"View Details"}),w.status==="scheduled"&&e.jsx(M,{size:"sm",onClick:()=>K(w._id,"completed"),className:"w-full bg-green-600 hover:bg-green-700",children:"Mark Complete"}),w.status==="completed"&&e.jsx(M,{size:"sm",onClick:()=>{var Ie;return Me(w._id,((Ie=w.pricing)==null?void 0:Ie.estimatedTotal)||999)},className:"w-full bg-blue-600 hover:bg-blue-700",children:"Convert to Booking"})]})]})},w._id)})})]}),a==="bookings"&&e.jsxs(oe,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:"Booking Management"}),e.jsx(M,{onClick:Z,children:"Refresh"})]}),x?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Xe,{size:"lg"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading bookings..."})]}):m.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📋"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No bookings found"}),e.jsx("p",{className:"text-gray-600",children:"Converted bookings will appear here"}),e.jsxs("div",{className:"mt-4 p-4 bg-gray-100 rounded text-left text-sm",children:[e.jsx("p",{children:e.jsx("strong",{children:"Debug Info:"})}),e.jsxs("p",{children:["adminBookings type: ",typeof m]}),e.jsxs("p",{children:["adminBookings length: ",(m==null?void 0:m.length)||"undefined"]}),e.jsxs("p",{children:["adminBookings value: ",JSON.stringify(m)]})]}),e.jsx(M,{onClick:Z,className:"mt-4",children:"Reload Data"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"mb-4 p-2 bg-green-100 rounded text-sm",children:e.jsxs("strong",{children:["Found ",m.length," booking(s)"]})}),m.map(w=>{var B,k,L,ce,xe,ie,le,te,ve,Oe,Ie,Je,ct,Lt,Tt,ls,Mt,At,Jt,os,Ne;const W=(((B=w.pricing)==null?void 0:B.finalAmount)||0)-(((k=w.payment)==null?void 0:k.totalPaid)||0);return e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-all duration-200 hover:border-blue-200",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900",children:w.bookingReference}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${$e(w.status)}`,children:(w.status||"draft").replace("-"," ").toUpperCase()})]}),e.jsx("p",{className:"text-primary-600 font-medium",children:((L=w.trip)==null?void 0:L.title)||"Trip Booking"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["📍 ",((ce=w.trip)==null?void 0:ce.destination)||"Destination TBD"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary-900",children:[((xe=w.trip)==null?void 0:xe.currency)||((ie=w.pricing)==null?void 0:ie.currency)||"USD"," ",(((le=w.pricing)==null?void 0:le.finalAmount)||0).toLocaleString()]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Amount"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"👤 Customer"}),e.jsxs("p",{className:"font-medium text-primary-900",children:[(te=w.customer)==null?void 0:te.firstName," ",(ve=w.customer)==null?void 0:ve.lastName]}),e.jsx("p",{className:"text-sm text-gray-500",children:(Oe=w.customer)==null?void 0:Oe.email}),e.jsx("p",{className:"text-sm text-gray-500",children:(Ie=w.customer)==null?void 0:Ie.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"💳 Payment Status"}),e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${$e(((Je=w.payment)==null?void 0:Je.status)||"pending")}`,children:(((ct=w.payment)==null?void 0:ct.status)||"pending").toUpperCase()}),e.jsx("span",{className:"text-sm text-gray-500",children:((Lt=w.payment)==null?void 0:Lt.method)||"N/A"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Paid: ",e.jsxs("span",{className:"font-medium text-green-600",children:[((Tt=w.trip)==null?void 0:Tt.currency)||((ls=w.pricing)==null?void 0:ls.currency)||"USD"," ",(((Mt=w.payment)==null?void 0:Mt.totalPaid)||0).toLocaleString()]})]}),W>0&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Remaining: ",e.jsxs("span",{className:"font-medium text-orange-600",children:[((At=w.trip)==null?void 0:At.currency)||((Jt=w.pricing)==null?void 0:Jt.currency)||"USD"," ",W.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Created: ",new Date(w.createdAt).toLocaleDateString()," • Travelers: ",((os=w.travelers)==null?void 0:os.count)||1," • Source: ",w.source||"N/A"]})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:w-48",children:[e.jsx(M,{size:"sm",variant:"outline",onClick:()=>Ae(w),className:"w-full",children:"View Details"}),((Ne=w.payment)==null?void 0:Ne.status)==="pending"&&W>0&&e.jsx(M,{size:"sm",onClick:()=>Te(w._id),className:"w-full bg-green-600 hover:bg-green-700",children:"Record Payment"}),e.jsxs("select",{value:w.status||"draft","data-booking-id":w._id,onChange:Xt=>be(w._id,Xt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"pending-payment",children:"Pending Payment"}),e.jsx("option",{value:"payment-received",children:"Payment Received"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]})},w._id)})]})]}),a==="blog"&&e.jsxs(oe,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:"Blog Management"}),e.jsx(M,{onClick:()=>g(!0),children:"Create New Post"})]}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📝"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No blog posts found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first blog post to get started"}),e.jsx(M,{onClick:()=>g(!0),children:"Create Post"})]})]}),a==="analytics"&&e.jsx(ek,{}),a==="corporate"&&e.jsx(ik,{}),a==="hero"&&e.jsx(nk,{})]})]})}),j&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>g(!1),children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl p-6 relative max-h-[90vh] overflow-y-auto",onClick:w=>w.stopPropagation(),children:[e.jsx("button",{onClick:()=>g(!1),className:"absolute top-4 right-4 text-2xl text-primary-400 hover:text-primary-600",children:"×"}),e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-6",children:"Create New Blog Post"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Title"}),e.jsx("input",{type:"text",placeholder:"Enter post title",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Content"}),e.jsx("textarea",{rows:8,placeholder:"Write your blog post content here...",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent resize-none"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(M,{variant:"outline",onClick:()=>g(!1),className:"flex-1",children:"Cancel"}),e.jsx(M,{className:"flex-1",children:"Create Post"})]})]})]})}),e.jsx(I4,{isOpen:u,onClose:()=>y(!1),type:P,onSubmit:async w=>{var W;try{console.log("Creating",P,w);const{apiService:B}=await ws(async()=>{const{apiService:L}=await Promise.resolve().then(()=>Dr);return{apiService:L}},void 0),k=await B.post(`/admin/${P}s`,w);k.success?(alert(`${P} created successfully!`),y(!1),window.location.reload()):alert(`Failed to create ${P}: ${((W=k.error)==null?void 0:W.message)||"Unknown error"}`)}catch(B){console.error("Create error:",B),alert(`Failed to create ${P}. Please try again.`)}}}),h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:v?"Edit Trip":"Create New Trip"}),e.jsx("button",{onClick:()=>f(!1),className:"text-2xl text-primary-400 hover:text-primary-600",children:"×"})]}),e.jsx(O4,{packageId:v,onSubmit:async w=>{try{const{apiService:W}=await ws(async()=>{const{apiService:k}=await Promise.resolve().then(()=>Dr);return{apiService:k}},void 0);(v?await W.put(`/admin/trips/${v}`,w):await W.post("/admin/trips",w)).success&&(f(!1),T(null),window.location.reload())}catch{alert("Failed to save trip")}},onClose:()=>{f(!1),T(null)}})]})})}),e.jsx(Z4,{booking:C,isOpen:X,onClose:()=>{N(!1),q(null)},onStatusUpdate:be,onRecordPayment:Te}),e.jsx(K4,{isOpen:E,onClose:()=>{var w;_(!1),(w=F==null?void 0:F.onCancel)==null||w.call(F),ee(null)},onConfirm:()=>{var w;_(!1),(w=F==null?void 0:F.onConfirm)==null||w.call(F),ee(null)},title:(F==null?void 0:F.title)||"",message:(F==null?void 0:F.message)||"",confirmText:F==null?void 0:F.confirmText,type:F==null?void 0:F.type}),e.jsx(J4,{isOpen:H,onClose:()=>{V(!1),q(null)},onSubmit:Fe,booking:C,remainingAmount:(((A=C==null?void 0:C.pricing)==null?void 0:A.finalAmount)||0)-(((z=C==null?void 0:C.payment)==null?void 0:z.totalPaid)||0)}),e.jsx(X4,{isOpen:ae,onClose:()=>{me(!1),S(null)},title:(ue==null?void 0:ue.title)||"",message:(ue==null?void 0:ue.message)||"",type:ue==null?void 0:ue.type}),e.jsx(Y4,{appointment:D,isOpen:$,onClose:()=>{J(!1),G(null)},onStatusUpdate:K,onConvertToBooking:Me})]})},ok={getStats:()=>qe.get("/admin/stats"),getUsers:t=>qe.get("/admin/users",{params:t}),updateUserStatus:(t,s)=>qe.patch(`/admin/users/${t}/status`,{status:s}),updateUserRole:(t,s)=>qe.patch(`/admin/users/${t}/role`,{role:s}),getFlights:()=>qe.get("/admin/flights"),getHotels:()=>qe.get("/admin/hotels"),getPackages:()=>qe.get("/admin/packages"),getItineraries:()=>qe.get("/admin/itineraries"),getBlogPosts:()=>qe.get("/admin/blog"),createBlogPost:t=>qe.post("/admin/blog",t),updateBlogPost:(t,s)=>qe.patch(`/admin/blog/${t}`,s),deleteBlogPost:t=>qe.delete(`/admin/blog/${t}`),getAnalytics:t=>qe.get(`/admin/analytics?period=${t}`)},ck=()=>{const t=rt(),[s,r]=b.useState([]),[a,i]=b.useState(!0),[n,l]=b.useState("all"),o=[{id:"1",title:"Best Travel Destinations for 2024",slug:"best-travel-destinations-2024",excerpt:"Discover the most amazing places to visit this year, from hidden gems to popular hotspots.",content:"",author:"Travel Expert",status:"published",publishDate:"2024-01-15",tags:["destinations","travel","2024"],image:"https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=600&h=400&fit=crop"},{id:"2",title:"How to Plan the Perfect Itinerary",slug:"how-to-plan-perfect-itinerary",excerpt:"Step-by-step guide to creating unforgettable travel experiences that maximize your time and budget.",content:"",author:"Planning Pro",status:"published",publishDate:"2024-01-12",tags:["planning","itinerary","tips"],image:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=600&h=400&fit=crop"},{id:"3",title:"Budget Travel: Save More, Experience More",slug:"budget-travel-tips",excerpt:"Smart strategies to travel the world without breaking the bank while still having amazing experiences.",content:"",author:"Budget Guru",status:"published",publishDate:"2024-01-10",tags:["budget","tips","savings"],image:"https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=600&h=400&fit=crop"},{id:"4",title:"Top 10 Luxury Hotels Worldwide",slug:"top-luxury-hotels-worldwide",excerpt:"Experience the pinnacle of hospitality at these extraordinary luxury hotels around the globe.",content:"",author:"Luxury Travel",status:"published",publishDate:"2024-01-08",tags:["luxury","hotels","accommodation"],image:"https://images.unsplash.com/photo-1564501049412-61c2a3083791?w=600&h=400&fit=crop"}],c=[{id:"all",name:"All Posts"},{id:"destinations",name:"Destinations"},{id:"planning",name:"Planning"},{id:"budget",name:"Budget Travel"},{id:"luxury",name:"Luxury Travel"},{id:"tips",name:"Travel Tips"}];b.useEffect(()=>{m()},[]);const m=async()=>{try{const p=await ok.getBlogPosts();r(p.data.posts||o)}catch{r(o)}finally{i(!1)}},d=s.filter(p=>n==="all"?!0:p.tags.includes(n)),x=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"bg-gradient-to-br from-primary-50 to-blue-50 py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-primary-900 mb-4",children:"Travel Blog"}),e.jsx("p",{className:"text-xl text-primary-600 mb-8",children:"Expert advice, insider tips, and inspiration for your next adventure"})]})}),e.jsx("section",{className:"py-8 border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:c.map(p=>e.jsx("button",{onClick:()=>l(p.id),className:`px-6 py-3 rounded-full text-sm font-medium transition-all ${n===p.id?"bg-blue-ocean text-white":"bg-primary-100 text-primary-700 hover:bg-primary-200"}`,children:p.name},p.id))})})}),e.jsx("section",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Xe,{size:"lg"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:d.map(p=>{var j;return e.jsxs(oe,{className:"group cursor-pointer hover:shadow-xl transition-all duration-300 overflow-hidden",onClick:()=>t(`/blog/${p.slug}`),children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:p.image,alt:p.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:"bg-blue-ocean text-white px-3 py-1 rounded-full text-xs font-bold",children:(j=p.tags[0])==null?void 0:j.toUpperCase()})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary-500 mb-3",children:[e.jsxs("span",{children:["By ",p.author]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:x(p.publishDate)})]}),e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-3 group-hover:text-blue-ocean transition-colors",children:p.title}),e.jsx("p",{className:"text-primary-600 mb-4 line-clamp-3",children:p.excerpt}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:p.tags.slice(0,3).map(g=>e.jsxs("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded text-xs",children:["#",g]},g))}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-blue-ocean font-semibold group-hover:underline",children:"Read More →"}),e.jsx("span",{className:"text-xs text-primary-400",children:"5 min read"})]})]})]},p.id)})}),d.length===0&&!a&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📝"}),e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-2",children:"No posts found"}),e.jsx("p",{className:"text-primary-600 mb-6",children:"Try selecting a different category"}),e.jsx(M,{onClick:()=>l("all"),children:"View All Posts"})]})]})}),e.jsx("section",{className:"py-16 bg-primary-900 text-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Stay Updated"}),e.jsx("p",{className:"text-primary-300 mb-8",children:"Get the latest travel tips, destination guides, and exclusive deals delivered to your inbox"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[e.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-3 rounded-lg text-primary-900 focus:ring-2 focus:ring-blue-ocean focus:outline-none"}),e.jsx(M,{className:"bg-blue-ocean hover:bg-blue-700",children:"Subscribe"})]}),e.jsx("p",{className:"text-xs text-primary-400 mt-4",children:"No spam, unsubscribe at any time"})]})})]})},dk=()=>{const{slug:t}=tr(),s=rt(),[r,a]=b.useState(null),[i,n]=b.useState(!0),l={id:"1",title:"Best Travel Destinations for 2024",slug:"best-travel-destinations-2024",excerpt:"Discover the most amazing places to visit this year",content:`# Best Travel Destinations for 2024

Planning your next adventure? 2024 offers incredible opportunities to explore both emerging destinations and beloved classics with a fresh perspective.

## 1. Japan - Cherry Blossom Season

Japan continues to captivate travelers with its perfect blend of ancient traditions and cutting-edge modernity. The cherry blossom season (March-May) offers magical experiences across the country.

### What to Expect:
- Stunning sakura blooms in Tokyo and Kyoto
- Traditional ryokan experiences
- World-class cuisine and hospitality
- Efficient transportation system

## 2. Portugal - Hidden European Gem

Portugal offers incredible value and authentic European charm without the crowds of more popular destinations.

### Highlights:
- Colorful Porto architecture
- Lisbon's vibrant neighborhoods
- Stunning Algarve coastline
- Delicious seafood and wine

## 3. New Zealand - Adventure Capital

For thrill-seekers and nature lovers, New Zealand remains unmatched in its natural beauty and adventure activities.

### Must-Do Activities:
- Bungee jumping in Queenstown
- Milford Sound cruises
- Hobbiton movie set tours
- Glacier hiking

## Planning Your Trip

When planning your 2024 adventure, consider:
- Booking early for better prices
- Travel insurance for peace of mind
- Local customs and etiquette
- Sustainable tourism practices

Ready to start planning? Our AI-powered trip planner can help you create the perfect itinerary for any of these amazing destinations.`,author:"Travel Expert",status:"published",publishDate:"2024-01-15",tags:["destinations","travel","2024"],image:"https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=800&h=400&fit=crop"};b.useEffect(()=>{t&&o()},[t]);const o=async()=>{try{a(l)}catch{a(l)}finally{n(!1)}};return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Xe,{size:"lg"})}):r?e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"bg-primary-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("button",{onClick:()=>s("/blog"),className:"flex items-center gap-2 text-primary-600 hover:text-primary-900 transition-colors mb-6",children:[e.jsx("span",{children:"←"}),e.jsx("span",{children:"Back to Blog"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-primary-500 mb-4",children:[e.jsxs("span",{children:["By ",r.author]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(r.publishDate).toLocaleDateString()}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"8 min read"})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-primary-900 mb-4",children:r.title}),e.jsx("p",{className:"text-xl text-primary-600 mb-6",children:r.excerpt}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:r.tags.map(c=>e.jsxs("span",{className:"px-3 py-1 bg-blue-ocean text-white rounded-full text-sm",children:["#",c]},c))})]})]})}),e.jsx("section",{className:"py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("img",{src:r.image,alt:r.title,className:"w-full h-64 md:h-96 object-cover rounded-xl"})})}),e.jsx("section",{className:"pb-16",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx("div",{className:"whitespace-pre-line text-primary-700 leading-relaxed",children:r.content.split(`
`).map((c,m)=>c.startsWith("# ")?e.jsx("h1",{className:"text-3xl font-bold text-primary-900 mt-8 mb-4",children:c.slice(2)},m):c.startsWith("## ")?e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mt-6 mb-3",children:c.slice(3)},m):c.startsWith("### ")?e.jsx("h3",{className:"text-xl font-bold text-primary-900 mt-4 mb-2",children:c.slice(4)},m):c.startsWith("- ")?e.jsx("li",{className:"ml-4 mb-1",children:c.slice(2)},m):c.trim()===""?e.jsx("br",{},m):e.jsx("p",{className:"mb-4",children:c},m))})})})}),e.jsx("section",{className:"py-16 bg-primary-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-primary-900 text-center mb-8",children:"Related Articles"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"How to Plan the Perfect Itinerary",excerpt:"Step-by-step guide to creating unforgettable travel experiences",image:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=250&fit=crop",slug:"how-to-plan-perfect-itinerary"},{title:"Budget Travel Tips and Tricks",excerpt:"Smart strategies to travel the world without breaking the bank",image:"https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=400&h=250&fit=crop",slug:"budget-travel-tips"},{title:"Top 10 Luxury Hotels Worldwide",excerpt:"Experience the pinnacle of hospitality at these extraordinary hotels",image:"https://images.unsplash.com/photo-1564501049412-61c2a3083791?w=400&h=250&fit=crop",slug:"top-luxury-hotels-worldwide"}].map((c,m)=>e.jsxs(oe,{className:"cursor-pointer hover:shadow-xl transition-shadow",onClick:()=>s(`/blog/${c.slug}`),children:[e.jsx("img",{src:c.image,alt:c.title,className:"w-full h-48 object-cover rounded-t-lg"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-primary-900 mb-2",children:c.title}),e.jsx("p",{className:"text-primary-600 text-sm",children:c.excerpt})]})]},m))})]})}),e.jsx("section",{className:"py-16 bg-primary-900 text-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Plan Your Trip?"}),e.jsx("p",{className:"text-primary-300 mb-8",children:"Use our AI-powered trip planner to create your perfect itinerary"}),e.jsx(M,{size:"lg",className:"bg-blue-ocean hover:bg-blue-700",onClick:()=>s("/ai-itinerary"),children:"Start Planning Now"})]})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-4",children:"Article not found"}),e.jsx(M,{onClick:()=>s("/blog"),children:"Back to Blog"})]})})},mk=()=>{const t=rt();return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"bg-gradient-to-br from-blue-governor to-blue-mirage text-white py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Revolutionizing Travel with AI"}),e.jsx("p",{className:"text-xl md:text-2xl opacity-90 max-w-3xl mx-auto",children:"We're on a mission to make travel planning effortless, personalized, and unforgettable for everyone."})]})}),e.jsx("section",{className:"py-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-primary-900 mb-6",children:"🎯 Our Mission"}),e.jsxs("p",{className:"text-xl text-primary-600 leading-relaxed",children:["At ",We.APP_NAME,", we believe that every journey should be as unique as the traveler. ",We.APP_DESCRIPTION," by combining cutting-edge technology with human expertise to create personalized travel experiences that exceed expectations."]})]})}),e.jsx("section",{className:"py-20 bg-primary-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-primary-900 text-center mb-12",children:"💎 Our Values"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:"🤖",title:"AI-Powered Innovation",desc:"We leverage artificial intelligence to understand your preferences and create perfectly tailored travel experiences."},{icon:"🌍",title:"Global Accessibility",desc:"Making travel accessible to everyone, everywhere, with transparent pricing and inclusive experiences."},{icon:"🛡️",title:"Trust & Security",desc:"Your safety and privacy are paramount. We maintain the highest standards of security and transparency."},{icon:"⚡",title:"Seamless Experience",desc:"From planning to booking to traveling, we ensure every step is smooth and enjoyable."}].map((s,r)=>e.jsxs(oe,{className:"p-8 text-center hover:shadow-xl transition-shadow",children:[e.jsx("div",{className:"text-4xl mb-4",children:s.icon}),e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-4",children:s.title}),e.jsx("p",{className:"text-primary-600",children:s.desc})]},r))})]})}),e.jsx("section",{className:"py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-primary-900 text-center mb-12",children:"👥 Meet Our Team"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Alex Chen",role:"CEO & Founder",bio:"Former Google AI researcher with 10+ years in travel tech. Passionate about making travel accessible through technology.",avatar:"👨‍💼"},{name:"Sarah Johnson",role:"CTO",bio:"AI and machine learning expert who previously led engineering teams at Airbnb and Expedia.",avatar:"👩‍💻"},{name:"Marcus Rodriguez",role:"Head of Design",bio:"Award-winning UX designer focused on creating intuitive and delightful travel experiences.",avatar:"👨‍🎨"}].map((s,r)=>e.jsxs(oe,{className:"overflow-hidden hover:shadow-xl transition-shadow",children:[e.jsx("div",{className:"h-64 bg-gradient-to-br from-primary-100 to-primary-200 flex items-center justify-center text-6xl",children:s.avatar}),e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-2",children:s.name}),e.jsx("p",{className:"text-blue-ocean font-semibold mb-4",children:s.role}),e.jsx("p",{className:"text-primary-600 text-sm",children:s.bio})]})]},r))})]})}),e.jsx("section",{className:"py-20 bg-primary-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"📊 Our Impact"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[{number:"500K+",label:"Happy Travelers"},{number:"200+",label:"Countries Covered"},{number:"1M+",label:"Trips Planned"},{number:"4.9★",label:"Average Rating"}].map((s,r)=>e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl font-bold text-amber-premium mb-2",children:s.number}),e.jsx("div",{className:"text-lg opacity-90",children:s.label})]},r))})]})}),e.jsx("section",{className:"py-20 bg-primary-50 text-center",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-primary-900 mb-4",children:"Ready to Start Your Journey?"}),e.jsxs("p",{className:"text-xl text-primary-600 mb-8",children:["Join thousands of travelers who trust ",We.APP_NAME," for their perfect trips"]}),e.jsx(M,{size:"lg",onClick:()=>t("/"),children:"Start Planning Today"})]})})]})},uk=()=>{const[t,s]=b.useState(null),r=Lr(),a=[{id:"planning",icon:"🗺️",title:"Trip Planning",desc:"Questions about destinations, itineraries, or travel advice"},{id:"booking",icon:"💳",title:"Booking & Payments",desc:"Help with reservations, payments, or booking changes"},{id:"technical",icon:"⚙️",title:"Technical Support",desc:"Issues with our AI, website, or mobile app"},{id:"emergency",icon:"🚨",title:"Travel Emergency",desc:"Urgent help needed during your trip"}],i=n=>{console.log("Contact form submitted:",n)};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"bg-gradient-to-br from-primary-50 to-blue-50 py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("div",{className:"bg-blue-ocean text-white px-4 py-2 rounded-full text-sm font-bold inline-block mb-4",children:"🤝 We're Here to Help"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-primary-900 mb-4",children:"What can we help you with?"}),e.jsx("p",{className:"text-xl text-primary-600 mb-8",children:"Choose your topic for faster, more personalized support"}),e.jsx("div",{className:"flex justify-center gap-8 text-center",children:[{number:"< 2 min",label:"Response Time"},{number:"24/7",label:"Available"},{number:"98%",label:"Resolved"}].map((n,l)=>e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-primary-900",children:n.number}),e.jsx("div",{className:"text-sm text-primary-600",children:n.label})]},l))})]})}),!t&&e.jsx("section",{className:"py-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(n=>e.jsxs(oe,{className:"p-6 cursor-pointer hover:shadow-xl transition-all text-center",onClick:()=>s(n.id),children:[e.jsx("div",{className:"text-4xl mb-4",children:n.icon}),e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-3",children:n.title}),e.jsx("p",{className:"text-primary-600 text-sm",children:n.desc})]},n.id))})})}),t&&e.jsx("section",{className:"py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("button",{onClick:()=>s(null),className:"flex items-center gap-2 text-primary-600 hover:text-primary-900 transition-colors",children:[e.jsx("span",{children:"←"}),e.jsx("span",{children:"Back to Categories"})]})}),e.jsxs(oe,{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-primary-900 mb-2",children:"Get Help"}),e.jsx("p",{className:"text-primary-600",children:"Our travel experts will respond within 2 minutes"})]}),e.jsxs("form",{onSubmit:r.handleSubmit(i),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Your Name"}),e.jsx("input",{...r.register("name",{required:!0}),className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",placeholder:"Enter your name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Email Address"}),e.jsx("input",{...r.register("email",{required:!0}),type:"email",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",placeholder:"Enter your email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Subject"}),e.jsx("input",{...r.register("subject",{required:!0}),className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",placeholder:"Brief description of your question"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Message"}),e.jsx("textarea",{...r.register("message",{required:!0}),rows:5,className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent resize-none",placeholder:"The more details you provide, the better we can help you..."})]}),e.jsx(M,{type:"submit",fullWidth:!0,size:"lg",children:"Send Message"})]})]})]})}),e.jsx("section",{className:"py-16 bg-primary-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-primary-900 mb-4",children:"Other ways to reach us"}),e.jsx("p",{className:"text-primary-600",children:"Choose the method that works best for you"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:"💬",title:"Live Chat",desc:"Instant help from our travel experts",status:"Available now",action:"Start Chat"},{icon:"📞",title:"Phone Support",desc:"Speak directly with a travel advisor",status:"+1 (555) 123-TRIP",action:"Call Now"},{icon:"📱",title:"WhatsApp",desc:"Quick messages and photo sharing",status:"Perfect for screenshots",action:"Message Us"}].map((n,l)=>e.jsxs(oe,{className:"p-6 text-center hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"text-4xl mb-4",children:n.icon}),e.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-3",children:n.title}),e.jsx("p",{className:"text-primary-600 mb-4",children:n.desc}),e.jsx("div",{className:"text-sm text-primary-500 mb-4",children:n.status}),e.jsx(M,{variant:"outline",fullWidth:!0,children:n.action})]},l))})]})})]})},pk=()=>{const[t,s]=b.useState("terms");return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"bg-primary-50 py-8 border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("button",{onClick:()=>s("terms"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${t==="terms"?"bg-blue-ocean text-white":"bg-white text-primary-700 hover:bg-primary-100"}`,children:"Terms & Conditions"}),e.jsx("button",{onClick:()=>s("privacy"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${t==="privacy"?"bg-blue-ocean text-white":"bg-white text-primary-700 hover:bg-primary-100"}`,children:"Privacy Policy"})]})})}),e.jsx("section",{className:"py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[t==="terms"&&e.jsxs("div",{className:"prose prose-lg max-w-none",children:[e.jsx("h1",{className:"text-4xl font-bold text-primary-900 mb-4",children:"Terms & Conditions"}),e.jsx("p",{className:"text-primary-500 mb-8",children:"Last updated: December 15, 2024"}),e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mt-8 mb-4",children:"1. Acceptance of Terms"}),e.jsx("p",{className:"text-primary-700 mb-6",children:"By accessing and using TravelAI's services, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service."}),e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mt-8 mb-4",children:"2. Service Description"}),e.jsx("p",{className:"text-primary-700 mb-4",children:"TravelAI provides AI-powered travel planning services, including:"}),e.jsxs("ul",{className:"list-disc pl-6 text-primary-700 mb-6",children:[e.jsx("li",{children:"Personalized itinerary generation using artificial intelligence"}),e.jsx("li",{children:"Travel booking assistance and coordination"}),e.jsx("li",{children:"Custom trip planning through guided questionnaires"}),e.jsx("li",{children:"Pre-designed travel packages and experiences"})]}),e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mt-8 mb-4",children:"3. User Responsibilities"}),e.jsx("p",{className:"text-primary-700 mb-4",children:"Users are responsible for:"}),e.jsxs("ul",{className:"list-disc pl-6 text-primary-700 mb-6",children:[e.jsx("li",{children:"Providing accurate information for travel planning"}),e.jsx("li",{children:"Reviewing all travel details before booking"}),e.jsx("li",{children:"Maintaining valid travel documents (passport, visa, etc.)"}),e.jsx("li",{children:"Understanding cancellation policies of service providers"})]}),e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mt-8 mb-4",children:"4. Booking and Payment Terms"}),e.jsx("p",{className:"text-primary-700 mb-6",children:"All bookings are subject to availability and confirmation by service providers. Payment is required at the time of booking unless otherwise specified. Prices are subject to change until payment is completed."}),e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mt-8 mb-4",children:"5. Limitation of Liability"}),e.jsx("p",{className:"text-primary-700 mb-6",children:"TravelAI is not liable for any direct, indirect, incidental, or consequential damages arising from the use of our services or any travel-related issues beyond our control, including but not limited to flight delays, weather conditions, or service provider changes."})]}),t==="privacy"&&e.jsxs("div",{className:"prose prose-lg max-w-none",children:[e.jsx("h1",{className:"text-4xl font-bold text-primary-900 mb-4",children:"Privacy Policy"}),e.jsx("p",{className:"text-primary-500 mb-8",children:"Last updated: December 15, 2024"}),e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mt-8 mb-4",children:"1. Information We Collect"}),e.jsx("p",{className:"text-primary-700 mb-4",children:"We collect information you provide directly to us, such as:"}),e.jsxs("ul",{className:"list-disc pl-6 text-primary-700 mb-6",children:[e.jsx("li",{children:"Personal information (name, email, phone number)"}),e.jsx("li",{children:"Travel preferences and history"}),e.jsx("li",{children:"Payment information (processed securely by third parties)"}),e.jsx("li",{children:"Communication records with our support team"})]}),e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mt-8 mb-4",children:"2. How We Use Your Information"}),e.jsx("p",{className:"text-primary-700 mb-4",children:"We use your information to:"}),e.jsxs("ul",{className:"list-disc pl-6 text-primary-700 mb-6",children:[e.jsx("li",{children:"Provide personalized travel recommendations"}),e.jsx("li",{children:"Process bookings and payments"}),e.jsx("li",{children:"Communicate about your trips and our services"}),e.jsx("li",{children:"Improve our AI algorithms and user experience"}),e.jsx("li",{children:"Comply with legal obligations"})]}),e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mt-8 mb-4",children:"3. Data Security"}),e.jsx("p",{className:"text-primary-700 mb-4",children:"We implement industry-standard security measures including:"}),e.jsxs("ul",{className:"list-disc pl-6 text-primary-700 mb-6",children:[e.jsx("li",{children:"256-bit SSL encryption for data transmission"}),e.jsx("li",{children:"Secure data storage with regular backups"}),e.jsx("li",{children:"Regular security audits and updates"}),e.jsx("li",{children:"Limited access to personal information by employees"})]}),e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mt-8 mb-4",children:"4. Your Rights"}),e.jsx("p",{className:"text-primary-700 mb-4",children:"You have the right to:"}),e.jsxs("ul",{className:"list-disc pl-6 text-primary-700 mb-6",children:[e.jsx("li",{children:"Access your personal information"}),e.jsx("li",{children:"Correct inaccurate information"}),e.jsx("li",{children:"Delete your account and associated data"}),e.jsx("li",{children:"Export your data in a portable format"}),e.jsx("li",{children:"Opt out of marketing communications"})]}),e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mt-8 mb-4",children:"5. Contact Us"}),e.jsx("p",{className:"text-primary-700 mb-4",children:"For privacy-related questions or requests, contact us at:"}),e.jsxs("ul",{className:"list-disc pl-6 text-primary-700 mb-6",children:[e.jsx("li",{children:"Email: privacy@travelai.com"}),e.jsx("li",{children:"Phone: +1 (555) 123-TRIP"}),e.jsx("li",{children:"Data Protection Officer: dpo@travelai.com"})]})]})]})})]})},xk=()=>{const t=rt();return e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-9xl font-bold text-primary-200 mb-4",children:"404"}),e.jsx("h1",{className:"text-4xl font-bold text-primary-900 mb-4",children:"Page Not Found"}),e.jsx("p",{className:"text-xl text-primary-600 mb-8 max-w-md",children:"The page you're looking for doesn't exist or has been moved."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(M,{onClick:()=>t(-1),variant:"outline",children:"Go Back"}),e.jsx(M,{onClick:()=>t("/"),children:"Go Home"})]})]})})},jr=({children:t,adminOnly:s=!1})=>{const{isAuthenticated:r,user:a}=Ps(),i=Ms();return r?s&&(a==null?void 0:a.role)!=="admin"?e.jsx(si,{to:"/",replace:!0}):e.jsx(e.Fragment,{children:t}):e.jsx(si,{to:"/auth",state:{returnTo:i.pathname},replace:!0})},hk=({trip:t,isOpen:s,onClose:r,onDownloadReceipt:a,onMakePayment:i})=>{var o,c,m;if(!s||!t)return null;const n=d=>({scheduled:"bg-blue-100 text-blue-800 border-blue-200",confirmed:"bg-green-100 text-green-800 border-green-200",completed:"bg-purple-100 text-purple-800 border-purple-200",cancelled:"bg-red-100 text-red-800 border-red-200",converted:"bg-emerald-100 text-emerald-800 border-emerald-200",draft:"bg-yellow-100 text-yellow-800 border-yellow-200","pending-payment":"bg-orange-100 text-orange-800 border-orange-200","payment-received":"bg-blue-100 text-blue-800 border-blue-200"})[d]||"bg-gray-100 text-gray-800 border-gray-200",l=t.currency||((o=t.pricing)==null?void 0:o.currency)||"USD";return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:"Trip Details"}),e.jsx("p",{className:"text-primary-600",children:t.reference})]}),e.jsx("button",{onClick:r,className:"text-2xl text-primary-400 hover:text-primary-600",children:"×"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-medium border ${n(t.status)}`,children:t.status.replace("-"," ").toUpperCase()})}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-2xl font-bold text-primary-900",children:[l," ",(t.finalPrice||t.estimatedPrice||0).toLocaleString()]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-900 border-b pb-2",children:"Trip Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Destination"}),e.jsx("p",{className:"text-primary-900 font-medium",children:t.title}),e.jsxs("p",{className:"text-sm text-gray-500",children:["📍 ",t.destination]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Travelers"}),e.jsxs("p",{className:"text-primary-900",children:[t.travelers," traveler",t.travelers>1?"s":""]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-900 border-b pb-2",children:"Payment Information"}),t.bookingDetails?e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[e.jsx("label",{className:"text-sm font-medium text-blue-700",children:"Total"}),e.jsxs("p",{className:"text-lg font-bold text-blue-900",children:[l," ",(t.finalPrice||0).toLocaleString()]})]}),e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[e.jsx("label",{className:"text-sm font-medium text-green-700",children:"Paid"}),e.jsxs("p",{className:"text-lg font-bold text-green-900",children:[l," ",t.bookingDetails.totalPaid.toLocaleString()]})]})]})}):e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:e.jsx("p",{className:"text-gray-600",children:"Payment details available after consultation"})})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center p-6 border-t border-gray-200",children:[e.jsx(M,{variant:"outline",onClick:r,children:"Close"}),e.jsxs("div",{className:"flex gap-3",children:[((c=t.actions)==null?void 0:c.canDownloadReceipt)&&a&&e.jsx(M,{variant:"outline",onClick:a,children:"Download Receipt"}),((m=t.actions)==null?void 0:m.canMakePayment)&&i&&e.jsx(M,{onClick:i,className:"bg-green-600 hover:bg-green-700",children:"Make Payment"})]})]})]})})},fk=()=>{var q,X;const t=rt(),{user:s,isAuthenticated:r}=Ps(),[a,i]=b.useState("mytrips"),[n,l]=b.useState(!0),[o,c]=b.useState([]),[m,d]=b.useState([]),[x,p]=b.useState([]),[j,g]=b.useState(null),[u,y]=b.useState(!1),[h,f]=b.useState(null),[v,T]=b.useState(!1),P=[{id:"fav-1",type:"itinerary",title:"Japan Cultural Journey",subtitle:"10 days • Cultural",price:3299,image:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=300&h=200&fit=crop"},{id:"fav-2",type:"hotel",title:"Swiss Alpine Resort",subtitle:"Zermatt, Switzerland",price:450,image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=200&fit=crop"}];b.useEffect(()=>{if(!r){t("/auth");return}R()},[r]),b.useEffect(()=>{(a==="appointments"||a==="bookings"||a==="mytrips")&&R()},[a]);const R=async()=>{var N,D,G;console.log("🔄 Loading user data...");try{y(!0);const[$,J,E]=await Promise.all([et.get("/appointments"),et.get("/appointments/bookings"),et.get("/user/trips")]);$.success&&(console.log("✅ User appointments loaded:",((N=$.data.appointments)==null?void 0:N.length)||0),c($.data.appointments||[])),J.success&&(console.log("✅ User bookings loaded:",((D=J.data.bookings)==null?void 0:D.length)||0),d(J.data.bookings||[])),E.success&&(console.log("✅ Unified trips loaded:",((G=E.data.trips)==null?void 0:G.length)||0),p(E.data.trips||[]),g(E.data.stats||null))}catch($){console.error("Failed to load user data:",$)}finally{y(!1),l(!1)}},O=N=>{var $;const D=N.currency||(($=N.pricing)==null?void 0:$.currency)||"USD",G=N.finalPrice||N.estimatedPrice||0;alert(`Payment Instructions

Booking Reference: ${N.reference}
Amount: ${D} ${G.toLocaleString()}

Payment Methods:
• Bank Transfer
• UPI Payment
• Cash Payment

Contact Information:
Phone: +1-234-567-8900
Email: payments@travel.com

After payment, please share the transaction details for confirmation.`)},U=N=>{var _;const D={reference:N.reference,title:N.title,destination:N.destination,amount:N.finalPrice||N.estimatedPrice||0,currency:N.currency||((_=N.pricing)==null?void 0:_.currency)||"USD",status:N.status,date:new Date().toLocaleDateString()},G=`TRAVEL RECEIPT

Reference: ${D.reference}
Trip: ${D.title}
Destination: ${D.destination}
Amount: ${D.currency} ${D.amount.toLocaleString()}
Status: ${D.status.toUpperCase()}
Date: ${D.date}

Thank you for choosing our services!`,$=new Blob([G],{type:"text/plain"}),J=URL.createObjectURL($),E=document.createElement("a");E.href=J,E.download=`receipt-${N.reference}.txt`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(J)},C=N=>{switch(N){case"flight":return"✈️";case"hotel":return"🏨";case"package":return"📦";case"itinerary":return"🗺️";default:return"🎯"}};return n?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Xe,{size:"lg"})}):e.jsxs("div",{className:"min-h-screen bg-primary-50",children:[e.jsx("section",{className:"bg-white py-8 border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-primary-900",children:["Welcome back, ",s==null?void 0:s.firstName,"!"]}),e.jsx("p",{className:"text-primary-600",children:"Manage your bookings and plan your next adventure"})]}),e.jsx(M,{onClick:()=>t("/trips"),children:"Plan New Trip"})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(oe,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-governor to-blue-mirage rounded-full flex items-center justify-center text-white text-xl font-bold",children:[(q=s==null?void 0:s.firstName)==null?void 0:q[0],(X=s==null?void 0:s.lastName)==null?void 0:X[0]]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-primary-900",children:[s==null?void 0:s.firstName," ",s==null?void 0:s.lastName]}),e.jsx("p",{className:"text-sm text-primary-600",children:"Traveler since 2024"})]})]}),e.jsx("nav",{className:"space-y-2",children:[{id:"mytrips",label:"My Trips",icon:"🌍"},{id:"favorites",label:"Favorites",icon:"❤️"},{id:"profile",label:"Profile",icon:"👤"},{id:"settings",label:"Settings",icon:"⚙️"}].map(N=>e.jsxs("button",{onClick:()=>i(N.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition-colors ${a===N.id?"bg-blue-ocean text-white":"text-primary-700 hover:bg-primary-100"}`,children:[e.jsx("span",{children:N.icon}),e.jsx("span",{children:N.label})]},N.id))})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[a==="mytrips"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:"My Trips"}),e.jsx(M,{onClick:()=>t("/trips"),children:"Plan New Trip"})]}),j&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs(oe,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-ocean mb-1",children:j.totalTrips}),e.jsx("div",{className:"text-sm text-primary-600",children:"Total Trips"})]}),e.jsxs(oe,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-emerald mb-1",children:j.appointments.scheduled}),e.jsx("div",{className:"text-sm text-primary-600",children:"Upcoming Consultations"})]}),e.jsxs(oe,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-premium mb-1",children:j.bookings.confirmed}),e.jsx("div",{className:"text-sm text-primary-600",children:"Confirmed Trips"})]}),e.jsxs(oe,{className:"p-4 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:["$",j.totalValue.toLocaleString()]}),e.jsx("div",{className:"text-sm text-primary-600",children:"Total Investment"})]})]}),u?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Xe,{size:"lg"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading trips..."})]}):x.length===0?e.jsxs(oe,{className:"p-12 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🌍"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No trips yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Start your journey by booking a consultation call"}),e.jsx(M,{onClick:()=>t("/trips"),children:"Browse Destinations"})]}):e.jsx("div",{className:"space-y-4",children:x.map(N=>{var _,H,V;const D=(ae,me)=>({scheduled:"bg-blue-100 text-blue-800",completed:"bg-purple-100 text-purple-800",converted:"bg-emerald-100 text-emerald-800",draft:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-green-800"})[ae]||"bg-gray-100 text-gray-800",$=(ae=>{if(ae.type==="appointment")switch(ae.status){case"scheduled":return{stage:1,label:"Consultation Scheduled"};case"confirmed":return{stage:2,label:"Consultation Confirmed"};case"completed":return{stage:3,label:"Consultation Completed"};case"converted":return{stage:4,label:"Converted to Booking"};default:return{stage:1,label:"Consultation Scheduled"}}else switch(ae.status){case"draft":return{stage:4,label:"Awaiting Payment"};case"pending-payment":return{stage:5,label:"Payment Processing"};case"payment-received":return{stage:6,label:"Payment Confirmed"};case"confirmed":return{stage:6,label:"Trip Confirmed"};case"completed":return{stage:7,label:"Trip Completed"};default:return{stage:4,label:"Awaiting Payment"}}})(N),J=ae=>({Berlin:"https://images.unsplash.com/photo-1587330979470-3016b6702d89?w=300&h=200&fit=crop",Paris:"https://images.unsplash.com/photo-1502602898536-47ad22581b52?w=300&h=200&fit=crop",Tokyo:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=300&h=200&fit=crop",Bali:"https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?w=300&h=200&fit=crop",London:"https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=300&h=200&fit=crop"})[ae]||"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=300&h=200&fit=crop",E=N.currency||((_=N.pricing)==null?void 0:_.currency)||"USD";return e.jsx(oe,{className:"overflow-hidden hover:shadow-lg transition-all duration-200 hover:border-blue-200",children:e.jsxs("div",{className:"flex flex-col lg:flex-row",children:[e.jsx("div",{className:"lg:w-48 h-48 lg:h-auto",children:e.jsx("img",{src:J(N.destination),alt:N.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-xl",children:N.type==="appointment"?"📅":"🎟️"}),e.jsx("h3",{className:"text-lg font-bold text-primary-900",children:N.title}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${D(N.status,N.type)}`,children:N.status.replace("-"," ").toUpperCase()})]}),e.jsxs("p",{className:"text-primary-600 text-sm mb-2",children:["📍 ",N.destination]}),e.jsxs("p",{className:"text-xs text-primary-500 mb-3",children:[N.type==="appointment"?"📅":"🎟️"," ",N.reference," • ",N.travelers," traveler",N.travelers>1?"s":"",N.originalAppointment&&e.jsxs("span",{className:"block mt-1 text-gray-500",children:["📅 From consultation: ",N.originalAppointment.reference]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"text-xs font-medium text-primary-700",children:"Progress:"}),e.jsx("div",{className:"text-xs text-primary-600",children:$.label})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:"bg-blue-ocean h-1.5 rounded-full transition-all duration-300",style:{width:`${$.stage/7*100}%`}})})]}),N.type==="appointment"&&N.date&&e.jsxs("p",{className:"text-xs text-primary-600",children:["🕰️ ",new Date(N.date).toLocaleDateString()," at ",N.timeSlot]}),N.type==="booking"&&N.originalAppointment&&e.jsxs("p",{className:"text-xs text-primary-600",children:["📅 Original consultation: ",new Date(N.originalAppointment.date).toLocaleDateString()," at ",N.originalAppointment.timeSlot]}),N.bookingDetails&&e.jsxs("div",{className:"text-xs text-primary-600",children:[e.jsxs("p",{children:["💳 Payment Status: ",e.jsx("span",{className:"font-medium",children:N.bookingDetails.paymentStatus.replace("-"," ").toUpperCase()})]}),e.jsxs("p",{children:["Paid: ",E," ",N.bookingDetails.totalPaid.toLocaleString()," • Remaining: ",E," ",N.bookingDetails.remainingAmount.toLocaleString()]}),N.bookingDetails.paymentStatus==="pending"&&e.jsxs("p",{className:"text-orange-600 font-medium mt-1",children:["⚠️ Payment of ",E," ",N.bookingDetails.remainingAmount.toLocaleString()," required"]}),N.bookingDetails.paymentStatus==="completed"&&e.jsx("p",{className:"text-green-600 font-medium mt-1",children:"✅ Payment confirmed - Trip ready!"})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 lg:w-40",children:[e.jsxs("div",{className:"text-right mb-2",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary-900",children:[E," ",(N.finalPrice||N.estimatedPrice||0).toLocaleString()]}),e.jsx("div",{className:"text-sm text-primary-500",children:N.type==="appointment"?"Estimated":"Total Amount"})]}),e.jsx(M,{size:"sm",variant:"outline",className:"w-full text-xs",onClick:()=>{f(N),T(!0)},children:"View Details"}),((H=N.actions)==null?void 0:H.canMakePayment)&&e.jsx(M,{size:"sm",className:"w-full text-xs bg-green-600 hover:bg-green-700",onClick:()=>O(N),children:"Make Payment"}),((V=N.actions)==null?void 0:V.canDownloadReceipt)&&e.jsx(M,{size:"sm",variant:"outline",className:"w-full text-xs",onClick:()=>U(N),children:"Download Receipt"})]})]})},N.id)})})]}),!1,!1,a==="favorites"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:"Saved Favorites"}),e.jsx(M,{variant:"outline",onClick:()=>t("/trips"),children:"Browse More"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:P.map(N=>e.jsxs(oe,{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsx("img",{src:N.image,alt:N.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{children:C(N.type)}),e.jsx("h3",{className:"font-bold text-primary-900",children:N.title})]}),e.jsx("p",{className:"text-primary-600 text-sm mb-3",children:N.subtitle}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-lg font-bold text-emerald",children:["$",N.price]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{size:"sm",children:"Book Now"}),e.jsx("button",{className:"p-2 text-red-500 hover:bg-red-50 rounded",children:"❤️"})]})]})]})]},N.id))})]}),a==="profile"&&e.jsxs(oe,{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-6",children:"Profile Information"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"First Name"}),e.jsx("input",{type:"text",defaultValue:s==null?void 0:s.firstName,className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Last Name"}),e.jsx("input",{type:"text",defaultValue:s==null?void 0:s.lastName,className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Email"}),e.jsx("input",{type:"email",defaultValue:s==null?void 0:s.email,className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Phone"}),e.jsx("input",{type:"tel",placeholder:"+1 (555) 123-4567",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]}),e.jsx(M,{children:"Save Changes"})]})]}),a==="settings"&&e.jsxs(oe,{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-6",children:"Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Notifications"}),e.jsx("div",{className:"space-y-3",children:[{id:"email",label:"Email notifications",desc:"Booking confirmations and updates"},{id:"sms",label:"SMS notifications",desc:"Important travel alerts"},{id:"deals",label:"Deal alerts",desc:"Special offers and discounts"}].map(N=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-primary-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-primary-900",children:N.label}),e.jsx("div",{className:"text-sm text-primary-600",children:N.desc})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-primary-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-ocean"})]})]},N.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Privacy"}),e.jsx("div",{className:"space-y-3",children:e.jsx(M,{variant:"outline",className:"text-red-600 border-red-200 hover:bg-red-50",children:"Delete Account"})})]})]})]})]})]})}),e.jsx(hk,{trip:h,isOpen:v,onClose:()=>{T(!1),f(null)},onDownloadReceipt:()=>{h&&U(h)},onMakePayment:()=>{h&&O(h)}})]})},gf={createPaymentIntent:(t,s="usd")=>qe.post("/payments/create-intent",{amount:t,currency:s}),confirmPayment:(t,s)=>qe.post("/payments/confirm",{paymentIntentId:t,paymentMethodId:s}),savePaymentMethod:t=>qe.post("/payments/methods",t),getUserPaymentMethods:()=>qe.get("/payments/methods")},gk={getUserBookings:()=>qe.get("/bookings"),getBookingDetails:t=>qe.get(`/bookings/${t}`),cancelBooking:t=>qe.post(`/bookings/${t}/cancel`),createBooking:t=>qe.post("/bookings",t)};class yk{async searchHotels(s){return ge.getPaginated("/hotels",s)}async getHotelDetails(s){return ge.get(`/hotels/${s}`)}async getHotelRooms(s,r){return ge.get(`/hotels/${s}/rooms`,r)}async checkAvailability(s,r){return ge.get(`/hotels/${s}/availability`,r)}async getHotelReviews(s,r){return ge.getPaginated(`/hotels/${s}/reviews`,r)}async addHotelReview(s,r){return ge.post(`/hotels/${s}/reviews`,r)}async getHotelAmenities(s){return ge.get(`/hotels/${s}/amenities`)}async getHotelPhotos(s){return ge.get(`/hotels/${s}/photos`)}async getNearbyHotels(s,r,a){return ge.get(`/hotels/nearby/${s}/${r}`,{radius:a})}async compareHotels(s){return ge.post("/hotels/compare",{hotelIds:s})}async getHotelDeals(){return(await fetch(`${Ke.BASE_URL}/hotels/deals`)).json()}async createPriceAlert(s){return ge.post("/hotels/price-alerts",s)}async getPriceAlerts(){return ge.get("/hotels/price-alerts")}async deletePriceAlert(s){return ge.delete(`/hotels/price-alerts/${s}`)}async getPopularDestinations(){return(await fetch(`${Ke.BASE_URL}/hotels/popular-destinations`)).json()}async getHotelFilters(s){return ge.get("/hotels/filters",s)}async searchLocations(s){return ge.get("/locations/search",{q:s})}}const bk=new yk;class vk{async searchFlights(s){return ge.getPaginated("/flights/search",s)}async getFlightDetails(s){return ge.get(`/flights/${s}`)}async getFlightSeats(s){return ge.get(`/flights/${s}/seats`)}async compareFlights(s){return ge.post("/flights/compare",{flightIds:s})}async createPriceAlert(s){return ge.post("/flights/price-alerts",s)}async getPriceAlerts(){return ge.get("/flights/price-alerts")}async deletePriceAlert(s){return ge.delete(`/flights/price-alerts/${s}`)}async getFlexibleSearch(s){return ge.post("/flights/flexible-search",s)}async getMultiCitySearch(s){return ge.post("/flights/multi-city",{segments:s})}async getCalendarPrices(s){return ge.get("/flights/calendar-prices",s)}async holdSeat(s,r){return ge.post(`/flights/${s}/hold-seat`,r)}async getAirlines(){return ge.get("/airlines")}async searchAirports(s){return ge.get("/airports/search",{q:s})}async getFlightFilters(s){return ge.get("/flights/filters",s)}async getPopularRoutes(){return ge.get("/flights/popular-routes")}async getFlightDeals(){return ge.get("/flights/deals")}async getBaggageInfo(s){return ge.get(`/flights/${s}/baggage-info`)}async getMealOptions(s){return ge.get(`/flights/${s}/meal-options`)}}const jk=new vk,Nk=Xs({firstName:De().min(2,"First name required"),lastName:De().min(2,"Last name required"),email:De().email("Valid email required"),phone:De().min(10,"Valid phone number required"),specialRequests:De().optional(),agreeTerms:Xc().refine(t=>t,"You must agree to terms")}),yf=()=>{var T,P;const{type:t,id:s}=tr(),r=rt(),a=Ms(),i=(T=a.state)==null?void 0:T.customizations,n=(P=a.state)==null?void 0:P.quote,{user:l,isAuthenticated:o}=Ps(),[c,m]=b.useState(!1),[d,x]=b.useState(null),[p,j]=b.useState(1),g=Lr({resolver:ki(Nk),defaultValues:{firstName:(l==null?void 0:l.firstName)||"",lastName:(l==null?void 0:l.lastName)||"",email:(l==null?void 0:l.email)||"",phone:(l==null?void 0:l.phone)||"",specialRequests:"",agreeTerms:!1}}),u=[{id:1,title:"Details",icon:"👤"},{id:2,title:"Payment",icon:"💳"},{id:3,title:"Confirmation",icon:"✅"}];b.useEffect(()=>{var R,O,U,C;if(!o){r("/auth",{state:{returnTo:a.pathname}});return}n&&i?(x({title:"Customized Trip",location:i.destination||"Custom Destination",dates:`${(R=i.travelDates)==null?void 0:R.departure} - ${(O=i.travelDates)==null?void 0:O.return}`,travelers:((U=i.travelers)==null?void 0:U.adults)+((C=i.travelers)==null?void 0:C.children)||2,price:n.subtotal||0,total:n.total||0}),j(1)):t==="trip"&&s?y():h()},[t,s,o,n,i]);const y=async()=>{try{const O=(await Pr.getTripDetails(s)).trip;x({title:O.title,location:O.destination,dates:"Select dates",travelers:2,price:O.pricing.estimated||0,total:O.pricing.estimated||0})}catch(R){console.error("Failed to load trip data:",R),r("/trips")}},h=async()=>{var R,O,U,C,q,X,N,D,G,$,J,E,_;try{if(t==="hotel"&&s){const V=(await bk.getHotelDetails(s)).data.hotel;x({title:V.name,location:`${(O=(R=V.location)==null?void 0:R.city)==null?void 0:O.name}, ${(C=(U=V.location)==null?void 0:U.country)==null?void 0:C.name}`,dates:"Select dates",guests:2,price:((X=(q=V.pricing)==null?void 0:q.priceRange)==null?void 0:X.min)||0,total:((D=(N=V.pricing)==null?void 0:N.priceRange)==null?void 0:D.min)||0})}else if(t==="flight"&&s){const V=(await jk.getFlightDetails(s)).data.flight;x({title:`${(G=V.route.departure.airport)==null?void 0:G.city} → ${($=V.route.arrival.airport)==null?void 0:$.city}`,airline:(J=V.airline)==null?void 0:J.name,date:new Date(V.route.departure.scheduledTime).toLocaleDateString(),passengers:1,price:((E=V.pricing.economy)==null?void 0:E.totalPrice)||0,total:((_=V.pricing.economy)==null?void 0:_.totalPrice)||0})}}catch(H){console.error("Failed to load booking data:",H),r(-1)}},f=async R=>{m(!0);try{const O={type:t,itemId:s,personalInfo:{firstName:R.firstName,lastName:R.lastName,email:R.email,phone:R.phone},bookingDetails:d||{},customizations:i||{},specialRequests:R.specialRequests,totalPrice:(d==null?void 0:d.total)||0};t==="trip"&&i&&(O.customizations=i),j(2)}catch(O){console.error("Booking validation failed:",O)}finally{m(!1)}},v=async()=>{m(!0);try{const R=await gf.createPaymentIntent(((d==null?void 0:d.total)||0)*100);await gf.confirmPayment(R.data.paymentIntent.id,"pm_card_visa");const O={type:t,itemId:s,personalInfo:g.getValues(),bookingDetails:d||{},customizations:i||{},paymentInfo:{cardNumber:"",expiryDate:"",cvv:"",cardName:""},totalPrice:(d==null?void 0:d.total)||0},U=await gk.createBooking(O);await su.sendBookingConfirmation(U.data.booking.id,(l==null?void 0:l.email)||""),j(3)}catch(R){console.error("Payment failed:",R)}finally{m(!1)}};return d?e.jsxs("div",{className:"min-h-screen bg-primary-50",children:[e.jsx("section",{className:"bg-white py-6 border-b",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-primary-600 hover:text-primary-900 transition-colors mb-4",children:[e.jsx("span",{children:"←"}),e.jsx("span",{children:"Back"})]}),e.jsx("h1",{className:"text-3xl font-bold text-primary-900 mb-6",children:"Complete Your Booking"}),e.jsx("div",{className:"flex items-center",children:u.map((R,O)=>e.jsxs(ht.Fragment,{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ${p>=R.id?"bg-blue-ocean text-white":"bg-primary-200 text-primary-600"}`,children:R.icon}),e.jsx("div",{className:"ml-2",children:e.jsx("div",{className:`text-sm font-semibold ${p>=R.id?"text-primary-900":"text-primary-500"}`,children:R.title})})]}),O<u.length-1&&e.jsx("div",{className:`flex-1 h-1 mx-4 ${p>R.id?"bg-blue-ocean":"bg-primary-200"}`})]},R.id))})]})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[p===1&&e.jsxs(oe,{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-6",children:"Traveler Details"}),e.jsxs("form",{onSubmit:g.handleSubmit(f),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"First Name"}),e.jsx("input",{...g.register("firstName"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"}),g.formState.errors.firstName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.formState.errors.firstName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Last Name"}),e.jsx("input",{...g.register("lastName"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"}),g.formState.errors.lastName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.formState.errors.lastName.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Email"}),e.jsx("input",{...g.register("email"),type:"email",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"}),g.formState.errors.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.formState.errors.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Phone"}),e.jsx("input",{...g.register("phone"),type:"tel",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"}),g.formState.errors.phone&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.formState.errors.phone.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Special Requests"}),e.jsx("textarea",{...g.register("specialRequests"),rows:3,placeholder:"Any special requirements or requests...",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent resize-none"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("input",{...g.register("agreeTerms"),type:"checkbox",className:"mt-1 accent-blue-ocean"}),e.jsxs("label",{className:"text-sm text-primary-700",children:["I agree to the ",e.jsx("a",{href:"/terms",className:"text-blue-ocean hover:underline",children:"Terms & Conditions"})," and ",e.jsx("a",{href:"/privacy",className:"text-blue-ocean hover:underline",children:"Privacy Policy"})]})]}),g.formState.errors.agreeTerms&&e.jsx("p",{className:"text-red-500 text-sm",children:g.formState.errors.agreeTerms.message}),e.jsx(M,{type:"submit",fullWidth:!0,size:"lg",disabled:c,children:c?e.jsx(Xe,{size:"sm"}):"Continue to Payment"})]})]}),p===2&&e.jsxs(oe,{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-6",children:"Payment Information"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Card Number"}),e.jsx("input",{type:"text",placeholder:"1234 5678 9012 3456",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Expiry Date"}),e.jsx("input",{type:"text",placeholder:"MM/YY",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"CVV"}),e.jsx("input",{type:"text",placeholder:"123",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Cardholder Name"}),e.jsx("input",{type:"text",placeholder:"John Doe",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{children:"🔒"}),e.jsx("span",{className:"font-semibold text-primary-900",children:"Secure Payment"})]}),e.jsx("p",{className:"text-sm text-primary-600",children:"Your payment information is encrypted and secure"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-white border border-primary-200 rounded-lg",children:[e.jsx("span",{children:"💳"}),e.jsx("span",{className:"text-sm",children:"Visa"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-white border border-primary-200 rounded-lg",children:[e.jsx("span",{children:"💳"}),e.jsx("span",{className:"text-sm",children:"Mastercard"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-white border border-primary-200 rounded-lg",children:[e.jsx("span",{children:"🅿️"}),e.jsx("span",{className:"text-sm",children:"PayPal"})]})]})]}),e.jsx(M,{fullWidth:!0,size:"lg",onClick:v,disabled:c,children:c?e.jsx(Xe,{size:"sm"}):`Pay $${d.total}`})]})]}),p===3&&e.jsxs(oe,{className:"p-6 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),e.jsx("h2",{className:"text-3xl font-bold text-primary-900 mb-4",children:"Booking Confirmed!"}),e.jsx("p",{className:"text-primary-600 mb-6",children:"Your booking has been confirmed. You'll receive a confirmation email shortly."}),e.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg mb-6",children:[e.jsx("div",{className:"text-sm text-primary-600 mb-1",children:"Booking Reference"}),e.jsxs("div",{className:"text-xl font-bold text-primary-900",children:["TRV-",Math.random().toString(36).substr(2,9).toUpperCase()]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(M,{variant:"outline",onClick:()=>r("/dashboard"),children:"View Booking"}),e.jsx(M,{onClick:()=>r("/"),children:"Back to Home"})]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(oe,{className:"p-6 sticky top-4",children:[e.jsx("h3",{className:"text-lg font-bold text-primary-900 mb-4",children:"Booking Summary"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-primary-900",children:d.title}),e.jsx("p",{className:"text-sm text-primary-600",children:d.location||d.airline}),e.jsx("p",{className:"text-sm text-primary-600",children:d.date||d.dates})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Base Price"}),e.jsxs("span",{children:["$",d.price]})]}),d.nights&&e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsxs("span",{children:[d.nights," nights × ",d.guests," guests"]}),e.jsxs("span",{children:["$",d.price*d.nights]})]}),d.passengers&&e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsxs("span",{children:[d.passengers," passengers"]}),e.jsxs("span",{children:["$",d.price*d.passengers]})]}),e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Service Fee"}),e.jsx("span",{children:"$99"})]}),e.jsxs("div",{className:"border-t pt-2 flex justify-between font-bold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",d.total]})]})]}),e.jsx("div",{className:"bg-emerald/10 p-3 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2 text-emerald font-semibold text-sm",children:[e.jsx("span",{children:"✅"}),e.jsx("span",{children:"Free cancellation up to 24h"})]})})]})]})})]})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Xe,{size:"lg"})})};Xs({firstName:De().min(2,"First name required"),lastName:De().min(2,"Last name required"),email:De().email("Valid email required"),phone:De().min(10,"Valid phone number required"),travelers:up().min(1).max(20)});Xs({preferredDate:De().min(1,"Please select a date"),timeSlot:De().min(1,"Please select a time slot")});Xs({firstName:De().min(2,"First name required"),lastName:De().min(2,"Last name required"),email:De().email("Valid email required"),phone:De().min(10,"Valid phone number required"),travelers:up().min(1).max(20),preferredDate:De().min(1,"Please select a date"),timeSlot:De().min(1,"Please select a time slot"),specialRequests:De().optional(),agreeTerms:Xc().refine(t=>t,"You must agree to terms")});const wk=()=>{var T,P,R,O,U,C,q,X,N,D,G,$,J;const{id:t}=tr(),s=rt(),{user:r,isAuthenticated:a}=Ps(),[i,n]=b.useState(!1),[l,o]=b.useState(null),[c,m]=b.useState(1);b.useEffect(()=>{console.log("Current step changed to:",c)},[c]);const[d,x]=b.useState([]),[p,j]=b.useState(!1),g=Lr({mode:"onChange",defaultValues:{firstName:(r==null?void 0:r.firstName)||((T=r==null?void 0:r.profile)==null?void 0:T.firstName)||"",lastName:(r==null?void 0:r.lastName)||((P=r==null?void 0:r.profile)==null?void 0:P.lastName)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||((R=r==null?void 0:r.profile)==null?void 0:R.phone)||"",travelers:2,preferredDate:new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],timeSlot:"",specialRequests:"",agreeTerms:!1}}),u=[{id:1,title:"Your Details",icon:"👤",desc:"Personal information"},{id:2,title:"Schedule",icon:"📅",desc:"Pick date & time"},{id:3,title:"Confirm",icon:"✅",desc:"Review & confirm"}];b.useEffect(()=>{if(!a){s("/auth",{state:{returnTo:`/trip-booking/${t}`}});return}y()},[t,a]),b.useEffect(()=>{var E,_,H;r&&g.reset({firstName:r.firstName||((E=r.profile)==null?void 0:E.firstName)||"",lastName:r.lastName||((_=r.profile)==null?void 0:_.lastName)||"",email:r.email||"",phone:r.phone||((H=r.profile)==null?void 0:H.phone)||"",travelers:g.getValues("travelers")||2,preferredDate:g.getValues("preferredDate")||new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],timeSlot:g.getValues("timeSlot")||"",specialRequests:g.getValues("specialRequests")||"",agreeTerms:g.getValues("agreeTerms")||!1})},[r,g]);const y=async()=>{if(t){n(!0);try{const E=await et.get(`/trips/${t}`);E.success&&o(E.data.trip||E.data)}catch(E){console.error("Failed to load trip:",E),s("/trips")}finally{n(!1)}}},h=()=>{const E=["09:00 AM - 10:00 AM","10:30 AM - 11:30 AM","12:00 PM - 01:00 PM","02:00 PM - 03:00 PM","03:30 PM - 04:30 PM","05:00 PM - 06:00 PM"];console.log("Generated time slots:",E),x(E)},f=()=>{const E=g.getValues("preferredDate"),_=g.getValues("timeSlot");!E||!_||m(3)},v=async E=>{var _,H,V;n(!0);try{const ae={tripId:t,customerInfo:{firstName:E.firstName,lastName:E.lastName,email:E.email,phone:E.phone},bookingDetails:{travelers:E.travelers,preferredDate:E.preferredDate,timeSlot:E.timeSlot,specialRequests:E.specialRequests},tripInfo:{title:l==null?void 0:l.title,destination:(_=l==null?void 0:l.primaryDestination)==null?void 0:_.name,duration:l==null?void 0:l.duration,price:((H=l==null?void 0:l.pricing)==null?void 0:H.finalPrice)||((V=l==null?void 0:l.pricing)==null?void 0:V.estimated)}};(await et.post("/appointments",ae)).success&&j(!0)}catch(ae){console.error("Booking failed:",ae)}finally{n(!1)}};return i&&!l?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Xe,{size:"lg"})}):p?e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#FCFCFD] to-white flex items-center justify-center px-4",children:e.jsxs(oe,{className:"max-w-md w-full p-8 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),e.jsx("h2",{className:"text-2xl font-bold text-[#23262F] mb-4 font-['DM_Sans']",children:"Appointment Booked!"}),e.jsx("p",{className:"text-[#777E90] mb-6 font-['Poppins']",children:"Your consultation appointment has been scheduled. Our travel expert will contact you at the selected time to discuss your trip details."}),e.jsxs("div",{className:"bg-[#F4F5F6] p-4 rounded-lg mb-6 text-left",children:[e.jsx("div",{className:"text-sm text-[#777E90] mb-1",children:"Appointment Details:"}),e.jsx("div",{className:"font-medium text-[#23262F]",children:g.getValues("preferredDate")}),e.jsx("div",{className:"font-medium text-[#23262F]",children:g.getValues("timeSlot")}),e.jsxs("div",{className:"text-sm text-[#777E90] mt-2",children:["Reference: TRV-",Math.random().toString(36).substr(2,8).toUpperCase()]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(M,{variant:"outline",onClick:()=>s("/dashboard"),className:"flex-1",children:"My Bookings"}),e.jsx(M,{onClick:()=>s("/"),className:"flex-1",children:"Back Home"})]})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#FCFCFD] to-white",children:[e.jsx("section",{className:"bg-white py-6 border-b border-[#E6E8EC]",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("button",{onClick:()=>s(-1),className:"flex items-center gap-2 text-[#777E90] hover:text-[#23262F] transition-colors mb-4",children:[e.jsx("span",{children:"←"}),e.jsx("span",{children:"Back"})]}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-[#23262F] mb-6 font-['DM_Sans']",children:"Book Your Trip"}),e.jsx("div",{className:"flex items-center",children:u.map((E,_)=>e.jsxs(ht.Fragment,{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-colors ${c>=E.id?"bg-[#3B71FE] text-white":"bg-[#F4F5F6] text-[#777E90]"}`,children:E.icon}),e.jsxs("div",{className:"ml-3 hidden sm:block",children:[e.jsx("div",{className:`text-sm font-semibold ${c>=E.id?"text-[#23262F]":"text-[#777E90]"}`,children:E.title}),e.jsx("div",{className:"text-xs text-[#777E90]",children:E.desc})]})]}),_<u.length-1&&e.jsx("div",{className:`flex-1 h-1 mx-4 transition-colors ${c>E.id?"bg-[#3B71FE]":"bg-[#E6E8EC]"}`})]},E.id))})]})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[c===1&&e.jsxs(oe,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-[#23262F] mb-6 font-['DM_Sans']",children:"Your Details"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#23262F] mb-2",children:"First Name"}),e.jsx("input",{...g.register("firstName"),className:"w-full px-4 py-3 border border-[#E6E8EC] rounded-lg focus:ring-2 focus:ring-[#3B71FE] focus:border-transparent"}),g.formState.errors.firstName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.formState.errors.firstName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#23262F] mb-2",children:"Last Name"}),e.jsx("input",{...g.register("lastName"),className:"w-full px-4 py-3 border border-[#E6E8EC] rounded-lg focus:ring-2 focus:ring-[#3B71FE] focus:border-transparent"}),g.formState.errors.lastName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.formState.errors.lastName.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#23262F] mb-2",children:"Email"}),e.jsx("input",{...g.register("email"),type:"email",className:"w-full px-4 py-3 border border-[#E6E8EC] rounded-lg focus:ring-2 focus:ring-[#3B71FE] focus:border-transparent"}),g.formState.errors.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.formState.errors.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#23262F] mb-2",children:"Phone Number *"}),e.jsx("input",{...g.register("phone"),type:"tel",placeholder:"+1 (555) 123-4567",className:"w-full px-4 py-3 border border-[#E6E8EC] rounded-lg focus:ring-2 focus:ring-[#3B71FE] focus:border-transparent"}),g.formState.errors.phone&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.formState.errors.phone.message}),e.jsx("p",{className:"text-xs text-[#777E90] mt-1",children:"Required for appointment confirmation"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#23262F] mb-2",children:"Number of Travelers"}),e.jsx("select",{...g.register("travelers",{valueAsNumber:!0}),className:"w-full px-4 py-3 border border-[#E6E8EC] rounded-lg focus:ring-2 focus:ring-[#3B71FE] focus:border-transparent",children:Array.from({length:((O=l==null?void 0:l.groupSize)==null?void 0:O.max)||8},(E,_)=>_+1).map(E=>e.jsxs("option",{value:E,children:[E," traveler",E>1?"s":""]},E))})]}),e.jsx(M,{type:"button",fullWidth:!0,size:"lg",onClick:()=>{var _,H,V,ae;console.log("Button clicked");const E=g.getValues();if(console.log("Form data:",E),console.log("Current step before:",c),!((_=E.firstName)!=null&&_.trim())||!((H=E.lastName)!=null&&H.trim())||!((V=E.email)!=null&&V.trim())||!((ae=E.phone)!=null&&ae.trim())){console.log("Validation failed - missing fields"),alert("Please fill all required fields");return}console.log("Validation passed, generating slots and moving to step 2"),h(),m(2),console.log("Current step after:",2)},children:"Continue to Schedule"})]})]}),c>1&&e.jsxs("form",{onSubmit:g.handleSubmit(c===2?f:v),children:[c===2&&e.jsxs(oe,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-[#23262F] mb-6 font-['DM_Sans']",children:"Schedule Consultation"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-[#F4F5F6] p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{children:"📞"}),e.jsx("span",{className:"font-semibold text-[#23262F]",children:"Free Consultation Call"})]}),e.jsx("p",{className:"text-sm text-[#777E90]",children:"Our travel expert will call you to discuss your trip preferences, customize the itinerary, and answer any questions."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#23262F] mb-2",children:"Preferred Date"}),e.jsx("input",{...g.register("preferredDate"),type:"date",min:new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],max:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],className:"w-full px-4 py-3 border border-[#E6E8EC] rounded-lg focus:ring-2 focus:ring-[#3B71FE] focus:border-transparent"}),g.formState.errors.preferredDate&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.formState.errors.preferredDate.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#23262F] mb-2",children:"Available Time Slots"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:d.map(E=>e.jsxs("label",{className:"flex items-center p-3 border border-[#E6E8EC] rounded-lg cursor-pointer hover:border-[#3B71FE] transition-colors",children:[e.jsx("input",{...g.register("timeSlot"),type:"radio",value:E,className:"mr-3 accent-[#3B71FE]"}),e.jsx("span",{className:"text-sm font-medium",children:E})]},E))}),g.formState.errors.timeSlot&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.formState.errors.timeSlot.message})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(M,{variant:"outline",onClick:()=>m(1),className:"flex-1",children:"Back"}),e.jsx(M,{type:"submit",className:"flex-1",children:"Continue"})]})]})]}),c===3&&e.jsxs(oe,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-[#23262F] mb-6 font-['DM_Sans']",children:"Confirm Appointment"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-[#F4F5F6] p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-[#23262F] mb-3",children:"Appointment Summary"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#777E90]",children:"Date:"}),e.jsx("span",{className:"font-medium",children:g.getValues("preferredDate")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#777E90]",children:"Time:"}),e.jsx("span",{className:"font-medium",children:g.getValues("timeSlot")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#777E90]",children:"Contact:"}),e.jsx("span",{className:"font-medium",children:g.getValues("phone")})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#23262F] mb-2",children:"Special Requests (Optional)"}),e.jsx("textarea",{...g.register("specialRequests"),rows:3,placeholder:"Any specific preferences or questions about the trip...",className:"w-full px-4 py-3 border border-[#E6E8EC] rounded-lg focus:ring-2 focus:ring-[#3B71FE] focus:border-transparent resize-none"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("input",{...g.register("agreeTerms"),type:"checkbox",className:"mt-1 accent-[#3B71FE]"}),e.jsx("label",{className:"text-sm text-[#777E90]",children:"I agree to the consultation call and understand that this is not a confirmed booking until payment is processed after the call."})]}),g.formState.errors.agreeTerms&&e.jsx("p",{className:"text-red-500 text-sm",children:g.formState.errors.agreeTerms.message}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(M,{variant:"outline",onClick:()=>m(2),className:"flex-1",children:"Back"}),e.jsx(M,{type:"submit",disabled:i,className:"flex-1",children:i?e.jsx(Xe,{size:"sm"}):"Confirm Appointment"})]})]})]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(oe,{className:"p-6 sticky top-4",children:[e.jsx("h3",{className:"text-lg font-bold text-[#23262F] mb-4 font-['DM_Sans']",children:"Trip Summary"}),l&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-[#23262F]",children:l.title}),e.jsx("p",{className:"text-sm text-[#777E90]",children:(U=l.primaryDestination)==null?void 0:U.name}),e.jsxs("p",{className:"text-sm text-[#777E90]",children:[(C=l.duration)==null?void 0:C.days," days, ",(q=l.duration)==null?void 0:q.nights," nights"]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Price per person"}),e.jsxs("span",{children:[((X=l.pricing)==null?void 0:X.currency)==="INR"?"₹":"$",((N=l.pricing)==null?void 0:N.finalPrice)||((D=l.pricing)==null?void 0:D.estimated)||0]})]}),e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Travelers"}),e.jsxs("span",{children:[g.watch("travelers")," person",g.watch("travelers")>1?"s":""]})]}),e.jsxs("div",{className:"border-t pt-2 flex justify-between font-bold",children:[e.jsx("span",{children:"Estimated Total"}),e.jsxs("span",{children:[((G=l.pricing)==null?void 0:G.currency)==="INR"?"₹":"$",(((($=l.pricing)==null?void 0:$.finalPrice)||((J=l.pricing)==null?void 0:J.estimated)||0)*g.watch("travelers")).toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-[#58C27D]/10 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[#58C27D] font-semibold text-sm",children:[e.jsx("span",{children:"✅"}),e.jsx("span",{children:"No payment required now"})]}),e.jsx("p",{className:"text-xs text-[#777E90] mt-1",children:"Payment will be discussed during consultation"})]})]})]})})]})})]})},Sk=Ke.BASE_URL.replace("/api",""),kk=/^[📍🔍🎯🏷️✨🎨⚡📂🏖️🌊☀️🏔️⛰️🥾🏛️🎭💎🥂🛎️💰🎒💵👨👩👧👦🎠👶💕🌹💑🎢🧗🚁]\s/,Ck=/\s(trips?|difficulty|getaways?|destinations?|experiences?|adventures?|sports?|escapes?|holidays?|tours?)$/i,_k=t=>t.replace(kk,"").replace(Ck,"").trim(),Pk=t=>t?t.startsWith("http")?t:`${Sk}${t}`:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=500&h=300&fit=crop",Ek=(t,s=100)=>t?Ys(t).substring(0,s):"Discover amazing experiences and create unforgettable memories",bf=t=>{switch(t){case"INR":return"₹";case"EUR":return"€";case"GBP":return"£";default:return"$"}},Dk=()=>{const t=rt(),[s]=Li(),[r,a]=b.useState([]),[i,n]=b.useState([]),[l,o]=b.useState([]),[c,m]=b.useState(!1),[d,x]=b.useState(""),[p,j]=b.useState([]),[g,u]=b.useState(!1),[y,h]=b.useState({category:"",priceRange:"",duration:"",search:""});Ak(),b.useEffect(()=>{const N=s.get("category")||"",D=s.get("search")||s.get("description")||"",G=s.get("budget")||"";return h({category:f(N),priceRange:v(G),duration:"",search:D}),D&&x(D),()=>{u(!1),j([])}},[s]),b.useEffect(()=>{const N=new AbortController;return(async()=>{y.search||y.category||y.priceRange||y.duration?await P(N.signal):await T(N.signal)})(),()=>{N.abort()}},[y]);const f=N=>({"adventure-trips":"adventure","cultural-trips":"cultural","beach-trips":"relaxation"})[N]||N,v=N=>({budget:"budget","mid-range":"mid-range",luxury:"luxury"})[N]||"",T=b.useCallback(async N=>{m(!0);try{const[D,G]=await Promise.all([Pr.getFeaturedTrips(),St.getCategories("trip")]);N!=null&&N.aborted||(n(D.trips||[]),a(D.trips||[]),o(G.categories||[]))}catch(D){N!=null&&N.aborted||(console.error("Failed to load featured trips:",D),n([]),a([]))}finally{N!=null&&N.aborted||m(!1)}},[]),P=b.useCallback(async N=>{m(!0);try{const D=await Pr.getTrips(y);N!=null&&N.aborted||a(D.trips||[])}catch(D){N!=null&&N.aborted||(console.error("Failed to load trips:",D),a([]))}finally{N!=null&&N.aborted||m(!1)}},[y]),R=b.useCallback(Tk(N=>{N.length>=2?O(N):(j([]),u(!1))},300),[r,i,l]),O=b.useCallback(async N=>{var _,H;const D=N.toLowerCase();try{const V=await et.get(`/trips?search=${encodeURIComponent(N)}&limit=5`);if(V.success&&((H=(_=V.data)==null?void 0:_.trips)==null?void 0:H.length)>0){const ae=V.data.trips.map(me=>{var F,ee;return(F=me.primaryDestination)!=null&&F.name?`📍 ${me.primaryDestination.name}`:`🎯 ${((ee=me.title)==null?void 0:ee.replace(/<[^>]*>/g,"").substring(0,40))||"Trip"}`});j([...new Set(ae)].slice(0,4)),u(!0);return}}catch{console.warn("Search API not available, using local suggestions")}const G=new Set;(r.length>0?r:i).forEach(V=>{var ae,me;(me=(ae=V.primaryDestination)==null?void 0:ae.name)!=null&&me.toLowerCase().includes(D)&&G.add(`📍 ${V.primaryDestination.name}`)}),l.forEach(V=>{var ae;(ae=V.name)!=null&&ae.toLowerCase().includes(D)&&G.add(`${V.icon||"📂"} ${V.name}`)}),Object.entries({beach:"🏖️ Beach destinations",mountain:"🏔️ Mountain adventures",culture:"🏛️ Cultural experiences",luxury:"💎 Luxury getaways",budget:"💰 Budget adventures",family:"👨👩👧👦 Family trips",romantic:"💕 Romantic escapes",adventure:"🎢 Adventure sports",lal:"🎯 Lala Land",berlin:"📍 Berlin",manali:"📍 Manali"}).forEach(([V,ae])=>{(V.includes(D)||D.includes(V))&&G.add(ae)}),["Adventure trips","Cultural tours","Beach holidays","Mountain treks"].forEach(V=>{V.toLowerCase().includes(D)&&G.add(`🔍 ${V}`)}),j(Array.from(G).slice(0,6)),u(!0)},[r,i,l]),U=N=>{N.preventDefault(),h(D=>({...D,search:d})),u(!1)},C=(N,D)=>{h(G=>({...G,[N]:D}))},q=()=>{h({category:"",priceRange:"",duration:"",search:""}),x(""),u(!1)},X=b.useMemo(()=>Object.values(y).some(N=>N!==""),[y]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#FCFCFD] to-white",children:[e.jsxs("section",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-emerald-500/5 to-amber-400/5"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-12 pb-20",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/80 backdrop-blur-sm border border-emerald-200 px-4 py-2 rounded-full text-sm mb-6 text-emerald-700 font-medium",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),e.jsxs("span",{children:["✨ ",r.length||i.length," amazing trips available"]})]}),e.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black text-[#23262F] mb-4 sm:mb-6 font-['DM_Sans'] leading-[0.9] sm:leading-[0.85] tracking-tight",children:["Your next amazing",e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-[#3B71FE] to-[#58C27D] bg-clip-text text-transparent",children:"adventure awaits"})]}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-[#777E90] mb-6 sm:mb-8 font-['Poppins'] leading-relaxed max-w-2xl mx-auto px-4 sm:px-0",children:"Discover handcrafted itineraries, customize to your heart's content, and create memories that last forever"})]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx("form",{onSubmit:U,className:"relative",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#B1B5C3] text-xl",children:"🔍"}),e.jsx("input",{type:"text",placeholder:"Search destinations, activities, or dream trips...",value:d,onChange:N=>{x(N.target.value),N.target.value.length>=2?R(N.target.value):(j([]),u(!1))},onFocus:()=>{d.length>=2&&O(d)},onBlur:()=>setTimeout(()=>u(!1),200),onKeyDown:N=>{N.key==="Escape"&&u(!1)},className:"w-full pl-12 pr-4 py-4 bg-white border-2 border-[#E6E8EC] rounded-2xl focus:ring-2 focus:ring-[#3B71FE] focus:border-[#3B71FE] transition-all text-base font-['Poppins'] placeholder:text-[#B1B5C3] shadow-sm hover:shadow-md"}),d&&e.jsx("button",{type:"button",onClick:()=>{x(""),h(N=>({...N,search:""})),u(!1)},className:"absolute right-4 top-1/2 -translate-y-1/2 text-[#B1B5C3] hover:text-[#777E90] text-xl",children:"✕"}),g&&p.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-[#E6E8EC] rounded-2xl shadow-xl z-50 max-h-64 overflow-y-auto",children:p.map((N,D)=>e.jsx("button",{type:"button",onClick:()=>{const G=_k(N);x(G),h($=>({...$,search:G})),u(!1)},className:"w-full px-4 py-3 text-left hover:bg-[#F4F5F6] transition-colors font-['Poppins'] text-[#23262F] border-b border-[#E6E8EC] last:border-b-0 flex items-center gap-2",children:N},D))})]}),e.jsx("button",{type:"submit",className:"px-8 py-4 bg-gradient-to-r from-[#3B71FE] to-[#58C27D] text-white rounded-2xl font-bold font-['DM_Sans'] hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300",children:"Search"})]})})})]})]}),e.jsx("section",{className:"py-8 bg-white border-t border-[#E6E8EC]",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:[{key:"",label:"All Trips",icon:"🌍"},{key:"adventure",label:"Adventure",icon:"🏔️"},{key:"cultural",label:"Cultural",icon:"🏛️"},{key:"relaxation",label:"Beach & Wellness",icon:"🏖️"},{key:"romance",label:"Romance",icon:"💕"},{key:"family",label:"Family",icon:"👨‍👩‍👧‍👦"}].map(N=>e.jsxs("button",{onClick:()=>C("category",N.key),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${y.category===N.key?"bg-[#3B71FE] text-white shadow-lg":"bg-[#F4F5F6] text-[#777E90] hover:bg-[#E6E8EC] hover:text-[#23262F]"}`,children:[e.jsx("span",{children:N.icon}),e.jsx("span",{className:"font-['DM_Sans']",children:N.label})]},N.key))}),e.jsx("div",{className:"flex flex-wrap gap-3 justify-center mt-4",children:[{key:"",label:"Any Budget"},{key:"budget",label:"💰 Under ₹1,500"},{key:"mid-range",label:"💵 ₹1,500 - ₹3,500"},{key:"luxury",label:"💎 Above ₹3,500"}].map(N=>e.jsx("button",{onClick:()=>C("priceRange",N.key),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${y.priceRange===N.key?"bg-[#58C27D] text-white shadow-lg":"bg-white border border-[#E6E8EC] text-[#777E90] hover:border-[#58C27D] hover:text-[#58C27D]"}`,children:e.jsx("span",{className:"font-['DM_Sans']",children:N.label})},N.key))}),X&&e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{onClick:q,className:"text-sm text-[#777E90] hover:text-[#23262F] font-medium font-['Poppins'] underline",children:"Clear all filters"})})]})}),e.jsx("section",{className:"py-12 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-[#23262F] font-['DM_Sans'] leading-tight mb-2",children:X?`${r.length} trips found`:"✨ Featured Adventures"}),X&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.search&&e.jsxs("span",{className:"px-3 py-1 bg-[#3B71FE]/10 text-[#3B71FE] rounded-full text-sm font-medium",children:['🔍 "',y.search,'"']}),y.category&&e.jsxs("span",{className:"px-3 py-1 bg-[#58C27D]/10 text-[#58C27D] rounded-full text-sm font-medium",children:["📂 ",y.category]}),y.priceRange&&e.jsxs("span",{className:"px-3 py-1 bg-[#FFD166]/10 text-[#FFD166] rounded-full text-sm font-medium",children:["💰 ",y.priceRange]})]})]}),c&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-[#3B71FE] border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-[#777E90] font-['Poppins']",children:"Finding amazing trips for you..."})]}),!c&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:r.map((N,D)=>{var G,$,J,E,_,H,V,ae,me,F,ee,ue,S,ne,Z,K,se,be,Se,Ae,Le,Te,Fe,Me,Be,$e,A;return e.jsxs("div",{className:"group cursor-pointer bg-white rounded-2xl sm:rounded-3xl overflow-hidden shadow-[0_4px_20px_rgba(0,0,0,0.08)] hover:shadow-[0_8px_40px_rgba(0,0,0,0.12)] transition-all duration-500 hover:-translate-y-1 sm:hover:-translate-y-2 active:scale-95 sm:active:scale-100",onClick:()=>t(`/trips/${N.slug||N._id}`),children:[e.jsxs("div",{className:"relative overflow-hidden h-64",children:[e.jsx("img",{src:Pk(($=(G=N.images)==null?void 0:G[0])==null?void 0:$.url),alt:N.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",onError:z=>{z.currentTarget.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=500&h=300&fit=crop"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),e.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-start",children:[N.featured&&e.jsx("span",{className:"bg-gradient-to-r from-[#FF6B35] to-[#F7931E] text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-lg",children:"🔥 Featured"}),e.jsxs("span",{className:"bg-white/90 backdrop-blur-sm text-[#23262F] px-3 py-1.5 rounded-full text-xs font-bold shadow-lg ml-auto",children:[((J=N.duration)==null?void 0:J.days)||5," Days"]})]}),e.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[e.jsx("h3",{className:"text-xl font-black text-white mb-1 drop-shadow-lg font-['DM_Sans'] leading-tight",children:Ys(N.title)||"Amazing Adventure"}),e.jsxs("p",{className:"text-white/90 text-sm drop-shadow font-['Poppins']",children:["📍 ",Ys((E=N.primaryDestination)==null?void 0:E.name)||"Beautiful Destination"]})]})]}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mb-3 sm:mb-4",children:[e.jsxs("span",{className:"px-2 py-1 bg-[#3B71FE]/10 text-[#3B71FE] rounded-lg text-xs font-medium whitespace-nowrap",children:[(_=N.category)==null?void 0:_.icon," ",Ys((H=N.category)==null?void 0:H.name)]}),N.difficulty&&e.jsx("span",{className:"px-2 py-1 bg-[#58C27D]/10 text-[#58C27D] rounded-lg text-xs font-medium whitespace-nowrap",children:Ys(((V=N.difficulty)==null?void 0:V.charAt(0).toUpperCase())+((ae=N.difficulty)==null?void 0:ae.slice(1)))})]}),e.jsxs("p",{className:"text-[#777E90] text-xs sm:text-sm mb-3 line-clamp-2 leading-relaxed font-['Poppins']",children:[Ek(N.description,100),"..."]}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mb-3 sm:mb-4 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-[#F4F5F6] rounded-lg min-h-[24px]",children:[e.jsx("span",{className:"text-xs",children:"👥"}),e.jsxs("span",{className:"text-[#777E90] font-['Poppins'] text-xs",children:[Math.max(1,((me=N.groupSize)==null?void 0:me.min)||1),"-",Math.min(50,((F=N.groupSize)==null?void 0:F.max)||20)," guests"]})]}),e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-[#F4F5F6] rounded-lg min-h-[24px]",children:[e.jsx("span",{className:"text-xs",children:"💪"}),e.jsxs("span",{className:"text-[#777E90] font-['Poppins'] capitalize text-xs",children:[["low","moderate","high"].includes((ee=N.physicalRequirements)==null?void 0:ee.fitnessLevel)?N.physicalRequirements.fitnessLevel:"low"," fitness"]})]}),(ue=N.bookingInfo)!=null&&ue.instantBook?e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-[#58C27D]/10 rounded-lg min-h-[24px]",children:[e.jsx("span",{className:"text-xs",children:"⚡"}),e.jsx("span",{className:"text-[#58C27D] font-['Poppins'] font-medium text-xs",children:"Instant book"})]}):e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-[#FFD166]/10 rounded-lg min-h-[24px]",children:[e.jsx("span",{className:"text-xs",children:"📋"}),e.jsx("span",{className:"text-[#FFD166] font-['Poppins'] font-medium text-xs",children:"Approval needed"})]})]}),e.jsxs("div",{className:"flex justify-between items-end mb-4",children:[e.jsxs("div",{children:[((S=N.pricing)==null?void 0:S.discountAmount)>0&&((ne=N.pricing)==null?void 0:ne.sellPrice)&&e.jsxs("div",{className:"text-sm text-[#B1B5C3] line-through font-['DM_Sans'] mb-1",children:[bf((Z=N.pricing)==null?void 0:Z.currency),N.pricing.sellPrice.toLocaleString()]}),e.jsxs("div",{className:"text-2xl font-black text-[#23262F] font-['DM_Sans'] leading-none",children:[bf((K=N.pricing)==null?void 0:K.currency),(((se=N.pricing)==null?void 0:se.finalPrice)||((be=N.pricing)==null?void 0:be.estimated)||1999).toLocaleString(),((Se=N.pricing)==null?void 0:Se.discountPercent)>0&&e.jsxs("span",{className:"text-sm text-[#58C27D] font-medium ml-2",children:[Math.round(Math.min(99,Math.max(1,N.pricing.discountPercent))),"% off"]})]}),e.jsxs("div",{className:"text-xs text-[#777E90] font-medium font-['Poppins'] mt-1",children:["per person • ",((Ae=N.pricing)==null?void 0:Ae.priceRange)||"mid-range"," • ",(Le=N.pricing)!=null&&Le.taxIncluded?"taxes included":"plus taxes"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx("span",{className:"text-[#FFD166] text-base",children:"⭐"}),e.jsx("span",{className:"font-bold text-[#23262F] font-['DM_Sans'] text-sm",children:((Te=N.stats)==null?void 0:Te.rating)||"New"}),((Fe=N.stats)==null?void 0:Fe.reviewCount)>0&&e.jsxs("span",{className:"text-xs text-[#777E90] font-['Poppins']",children:["(",N.stats.reviewCount,")"]})]}),e.jsxs("div",{className:"text-xs text-[#58C27D] font-medium font-['Poppins']",children:["👁️ ",((Me=N.stats)==null?void 0:Me.views)||0," views"]})]})]}),e.jsxs("div",{className:"text-xs text-[#777E90] font-['Poppins'] mb-3 sm:mb-4 p-2 bg-[#F4F5F6] rounded-lg",children:["✅ ",((Be=N.bookingInfo)==null?void 0:Be.cancellationPolicy)||"Free cancellation available"," • 💳 ",Math.min(100,Math.max(0,(($e=N.bookingInfo)==null?void 0:$e.depositRequired)||50)),"% deposit required"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[e.jsx("button",{className:"flex-1 bg-gradient-to-r from-[#3B71FE] to-[#58C27D] text-white hover:shadow-lg transition-all duration-300 hover:-translate-y-0.5 font-bold font-['DM_Sans'] text-sm rounded-xl sm:rounded-2xl py-3 px-4 min-h-[44px] active:scale-95",onClick:z=>{z.stopPropagation(),t(`/trips/${N.slug||N._id}`)},children:"View Details"}),e.jsx("button",{className:"flex-1 sm:flex-none px-4 py-3 border-2 border-[#3B71FE] text-[#3B71FE] hover:bg-[#3B71FE] hover:text-white transition-all duration-300 font-bold font-['DM_Sans'] text-sm rounded-xl sm:rounded-2xl min-h-[44px] active:scale-95",onClick:z=>{z.stopPropagation(),t(`/trips/${N.slug||N._id}/customize`)},children:"Customize"})]})]})]},`trip-${N._id||N.slug||D}-${((A=N.title)==null?void 0:A.substring(0,10))||"trip"}`)})}),!c&&r.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-6",children:"🌍"}),e.jsx("h3",{className:"text-2xl font-black text-[#23262F] mb-4 font-['DM_Sans']",children:"No trips found"}),e.jsx("p",{className:"text-[#777E90] mb-8 font-['Poppins'] max-w-md mx-auto leading-relaxed",children:"Try adjusting your search or explore our amazing featured trips"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center max-w-md mx-auto",children:[e.jsx("button",{onClick:q,className:"bg-gradient-to-r from-[#3B71FE] to-[#58C27D] text-white px-6 py-3 rounded-xl sm:rounded-2xl font-bold font-['DM_Sans'] hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300 text-sm sm:text-base min-h-[44px] active:scale-95",children:"Clear Search"}),e.jsx("button",{onClick:()=>t("/ai-itinerary"),className:"border-2 border-[#3B71FE] text-[#3B71FE] hover:bg-[#3B71FE] hover:text-white px-6 py-3 rounded-xl sm:rounded-2xl font-bold font-['DM_Sans'] transition-all duration-300 text-sm sm:text-base min-h-[44px] active:scale-95",children:"Create Custom Trip"})]})]})]})}),e.jsx("section",{className:"py-16 bg-gradient-to-br from-[#F4F5F6] to-white",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[e.jsxs("div",{className:"group",children:[e.jsx("div",{className:"text-5xl font-black bg-gradient-to-r from-[#3B71FE] to-[#58C27D] bg-clip-text text-transparent mb-4 font-['DM_Sans'] group-hover:scale-110 transition-transform duration-300",children:"47K+"}),e.jsx("div",{className:"text-lg text-[#777E90] font-['Poppins'] font-medium",children:"Happy Travelers"})]}),e.jsxs("div",{className:"group",children:[e.jsx("div",{className:"text-5xl font-black bg-gradient-to-r from-[#FFD166] to-[#FF6B35] bg-clip-text text-transparent mb-4 font-['DM_Sans'] group-hover:scale-110 transition-transform duration-300",children:"4.9★"}),e.jsx("div",{className:"text-lg text-[#777E90] font-['Poppins'] font-medium",children:"Average Rating"})]}),e.jsxs("div",{className:"group",children:[e.jsx("div",{className:"text-5xl font-black bg-gradient-to-r from-[#58C27D] to-[#3B71FE] bg-clip-text text-transparent mb-4 font-['DM_Sans'] group-hover:scale-110 transition-transform duration-300",children:"95%"}),e.jsx("div",{className:"text-lg text-[#777E90] font-['Poppins'] font-medium",children:"Would Recommend"})]})]})})})]})};function Tk(t,s){let r;const a=(...i)=>{clearTimeout(r),r=window.setTimeout(()=>t.apply(null,i),s)};return a.cancel=()=>clearTimeout(r),a}const Ak=()=>{b.useEffect(()=>()=>{},[])},jn={createCompany:t=>qe.post("/corporate/companies",t),getCompanyDetails:()=>qe.get("/corporate/companies/me"),updateCompanySettings:t=>qe.put("/corporate/companies/settings",{settings:t}),getCompanyDashboard:()=>qe.get("/corporate/companies/dashboard"),addEmployee:t=>qe.post("/corporate/companies/employees",t),getCompanyEmployees:t=>qe.get("/corporate/companies/employees",{params:t}),updateEmployeePermissions:(t,s)=>qe.put(`/corporate/companies/employees/${t}`,s),createCorporateBooking:t=>qe.post("/corporate/bookings",t),getCompanyBookings:t=>qe.get("/corporate/bookings",{params:t}),getBookingAnalytics:t=>qe.get("/corporate/bookings/analytics",{params:t}),getPendingApprovals:()=>qe.get("/corporate/approvals/pending"),approveBooking:(t,s,r)=>qe.post(`/corporate/bookings/${t}/approve`,{action:s,...r})},Rk=Xs({department:De().min(1,"Department is required"),project:De().optional(),purpose:De().min(1,"Travel purpose is required"),purposeDescription:De().optional(),primaryTraveler:Xs({firstName:De().min(2,"First name required"),lastName:De().min(2,"Last name required"),email:De().email("Valid email required"),department:De().min(1,"Department required")}),additionalTravelers:r4(Xs({firstName:De().min(2,"First name required"),lastName:De().min(2,"Last name required"),email:De().email("Valid email required"),department:De().min(1,"Department required")})).optional(),departureDate:De().min(1,"Departure date required"),returnDate:De().optional(),specialRequests:De().optional(),agreeTerms:Xc().refine(t=>t,"You must agree to terms")}),Fk=()=>{var O,U,C,q,X,N,D,G;const{type:t,id:s}=tr(),r=rt(),a=Ms(),{user:i,isAuthenticated:n}=Ps(),[l,o]=b.useState(!1),[c,m]=b.useState(null),[d,x]=b.useState(null),[p,j]=b.useState(1),[g,u]=b.useState([]),y=Lr({resolver:ki(Rk),defaultValues:{department:((O=i==null?void 0:i.corporate)==null?void 0:O.department)||"",project:"",purpose:"business-meeting",purposeDescription:"",primaryTraveler:{firstName:((U=i==null?void 0:i.profile)==null?void 0:U.firstName)||"",lastName:((C=i==null?void 0:i.profile)==null?void 0:C.lastName)||"",email:(i==null?void 0:i.email)||"",department:((q=i==null?void 0:i.corporate)==null?void 0:q.department)||""},additionalTravelers:[],departureDate:new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],returnDate:"",specialRequests:"",agreeTerms:!1}}),h=[{id:1,title:"Corporate Details",icon:"🏢"},{id:2,title:"Travelers",icon:"👥"},{id:3,title:"Review & Submit",icon:"✅"}],f=[{value:"business-meeting",label:"Business Meeting"},{value:"conference",label:"Conference/Event"},{value:"training",label:"Training"},{value:"client-visit",label:"Client Visit"},{value:"team-building",label:"Team Building"},{value:"other",label:"Other"}];b.useEffect(()=>{var $;if(!n){r("/auth",{state:{returnTo:a.pathname}});return}if(!(($=i==null?void 0:i.corporate)!=null&&$.company)){r("/corporate/setup");return}v()},[n,i]);const v=async()=>{var $,J,E,_,H,V;o(!0);try{const ae=await jn.getCompanyDetails();x(ae.data.company);const me=ae.data.company.settings.budgetControls.departmentBudgets.map(F=>F.department);if(u(me),t==="trip"&&s){const ee=(await Pr.getTripDetails(s)).trip;m({title:ee.title,destination:($=ee.primaryDestination)==null?void 0:$.name,duration:`${(J=ee.duration)==null?void 0:J.days} days, ${(E=ee.duration)==null?void 0:E.nights} nights`,price:((_=ee.pricing)==null?void 0:_.finalPrice)||((H=ee.pricing)==null?void 0:H.estimated)||0,currency:((V=ee.pricing)==null?void 0:V.currency)||"USD"})}}catch(ae){console.error("Failed to load initial data:",ae)}finally{o(!1)}},T=()=>{var J;const $=y.getValues("additionalTravelers")||[];y.setValue("additionalTravelers",[...$,{firstName:"",lastName:"",email:"",department:((J=i==null?void 0:i.corporate)==null?void 0:J.department)||""}])},P=$=>{const J=y.getValues("additionalTravelers")||[];y.setValue("additionalTravelers",J.filter((E,_)=>_!==$))},R=async $=>{var J,E,_;o(!0);try{const H=[{employee:{...$.primaryTraveler},isPrimary:!0},...($.additionalTravelers||[]).map(me=>({employee:me,isPrimary:!1}))],V={type:t,corporate:{department:$.department,project:$.project,purpose:$.purpose,purposeDescription:$.purposeDescription},travelers:H,bookingDetails:{[t]:{[`${t}Id`]:s,...c}},travelDates:{departure:$.departureDate,return:$.returnDate},specialRequests:$.specialRequests},ae=await jn.createCorporateBooking(V);r("/corporate/bookings",{state:{message:ae.data.message,bookingReference:ae.data.booking.bookingReference,requiresApproval:ae.data.requiresApproval}})}catch(H){console.error("Corporate booking failed:",H),alert(((_=(E=(J=H.response)==null?void 0:J.data)==null?void 0:E.error)==null?void 0:_.message)||"Booking failed. Please try again.")}finally{o(!1)}};return l&&!c?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Xe,{size:"lg"})}):e.jsxs("div",{className:"min-h-screen bg-primary-50",children:[e.jsx("section",{className:"bg-white py-6 border-b",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-primary-600 hover:text-primary-900 transition-colors mb-4",children:[e.jsx("span",{children:"←"}),e.jsx("span",{children:"Back"})]}),e.jsx("h1",{className:"text-3xl font-bold text-primary-900 mb-2",children:"Corporate Booking"}),e.jsx("p",{className:"text-primary-600",children:"Book travel for your team with corporate rates and approval workflow"}),e.jsx("div",{className:"flex items-center mt-6",children:h.map(($,J)=>e.jsxs(ht.Fragment,{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ${p>=$.id?"bg-blue-ocean text-white":"bg-primary-200 text-primary-600"}`,children:$.icon}),e.jsx("div",{className:"ml-2",children:e.jsx("div",{className:`text-sm font-semibold ${p>=$.id?"text-primary-900":"text-primary-500"}`,children:$.title})})]}),J<h.length-1&&e.jsx("div",{className:`flex-1 h-1 mx-4 ${p>$.id?"bg-blue-ocean":"bg-primary-200"}`})]},$.id))})]})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("form",{onSubmit:y.handleSubmit(R),children:[p===1&&e.jsxs(oe,{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-6",children:"Corporate Details"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Department *"}),e.jsxs("select",{...y.register("department"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Department"}),g.map($=>e.jsx("option",{value:$,children:$},$))]}),y.formState.errors.department&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.formState.errors.department.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Project/Cost Center"}),e.jsx("input",{...y.register("project"),placeholder:"Optional",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Travel Purpose *"}),e.jsx("select",{...y.register("purpose"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:f.map($=>e.jsx("option",{value:$.value,children:$.label},$.value))}),y.formState.errors.purpose&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.formState.errors.purpose.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Purpose Description"}),e.jsx("textarea",{...y.register("purposeDescription"),rows:3,placeholder:"Provide more details about the travel purpose...",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Departure Date *"}),e.jsx("input",{...y.register("departureDate"),type:"date",min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"}),y.formState.errors.departureDate&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.formState.errors.departureDate.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Return Date"}),e.jsx("input",{...y.register("returnDate"),type:"date",min:y.watch("departureDate"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]})]}),e.jsx(M,{type:"button",fullWidth:!0,size:"lg",onClick:()=>j(2),children:"Continue to Travelers"})]})]}),p===2&&e.jsxs(oe,{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-6",children:"Travelers"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-primary-900 mb-4",children:"Primary Traveler (You)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"First Name *"}),e.jsx("input",{...y.register("primaryTraveler.firstName"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Last Name *"}),e.jsx("input",{...y.register("primaryTraveler.lastName"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Email *"}),e.jsx("input",{...y.register("primaryTraveler.email"),type:"email",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Department *"}),e.jsx("select",{...y.register("primaryTraveler.department"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:g.map($=>e.jsx("option",{value:$,children:$},$))})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-semibold text-primary-900",children:"Additional Travelers"}),e.jsx(M,{type:"button",variant:"outline",onClick:T,children:"+ Add Traveler"})]}),(X=y.watch("additionalTravelers"))==null?void 0:X.map(($,J)=>e.jsxs("div",{className:"border border-primary-200 p-4 rounded-lg mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h4",{className:"font-medium text-primary-900",children:["Traveler ",J+2]}),e.jsx("button",{type:"button",onClick:()=>P(J),className:"text-red-500 hover:text-red-700",children:"Remove"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"First Name *"}),e.jsx("input",{...y.register(`additionalTravelers.${J}.firstName`),className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Last Name *"}),e.jsx("input",{...y.register(`additionalTravelers.${J}.lastName`),className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Email *"}),e.jsx("input",{...y.register(`additionalTravelers.${J}.email`),type:"email",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Department *"}),e.jsx("select",{...y.register(`additionalTravelers.${J}.department`),className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:g.map(E=>e.jsx("option",{value:E,children:E},E))})]})]})]},J))]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(M,{variant:"outline",onClick:()=>j(1),className:"flex-1",children:"Back"}),e.jsx(M,{type:"button",onClick:()=>j(3),className:"flex-1",children:"Continue to Review"})]})]})]}),p===3&&e.jsxs(oe,{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-6",children:"Review & Submit"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-primary-900 mb-3",children:"Booking Summary"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Department:"}),e.jsx("span",{className:"font-medium",children:y.watch("department")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Purpose:"}),e.jsx("span",{className:"font-medium",children:(N=f.find($=>$.value===y.watch("purpose")))==null?void 0:N.label})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Travelers:"}),e.jsx("span",{className:"font-medium",children:1+(((D=y.watch("additionalTravelers"))==null?void 0:D.length)||0)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Travel Dates:"}),e.jsxs("span",{className:"font-medium",children:[y.watch("departureDate"),y.watch("returnDate")&&` - ${y.watch("returnDate")}`]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Special Requests"}),e.jsx("textarea",{...y.register("specialRequests"),rows:3,placeholder:"Any special requirements or requests...",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent resize-none"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("input",{...y.register("agreeTerms"),type:"checkbox",className:"mt-1 accent-blue-ocean"}),e.jsx("label",{className:"text-sm text-primary-700",children:"I agree to the corporate travel policy and understand that this booking may require approval before confirmation."})]}),y.formState.errors.agreeTerms&&e.jsx("p",{className:"text-red-500 text-sm",children:y.formState.errors.agreeTerms.message}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(M,{variant:"outline",onClick:()=>j(2),className:"flex-1",children:"Back"}),e.jsx(M,{type:"submit",disabled:l,className:"flex-1",children:l?e.jsx(Xe,{size:"sm"}):"Submit Booking"})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(oe,{className:"p-6 sticky top-4",children:[e.jsx("h3",{className:"text-lg font-bold text-primary-900 mb-4",children:"Booking Details"}),c&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-primary-900",children:c.title}),e.jsx("p",{className:"text-sm text-primary-600",children:c.destination}),e.jsx("p",{className:"text-sm text-primary-600",children:c.duration})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Base Price (per person)"}),e.jsxs("span",{children:[c.currency," ",c.price]})]}),e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Corporate Discount"}),e.jsx("span",{className:"text-emerald",children:"-10%"})]}),e.jsxs("div",{className:"border-t pt-2 flex justify-between font-bold",children:[e.jsx("span",{children:"Estimated Total"}),e.jsxs("span",{children:[c.currency," ",Math.round(c.price*.9*(1+(((G=y.watch("additionalTravelers"))==null?void 0:G.length)||0)))]})]})]}),e.jsxs("div",{className:"bg-amber-premium/10 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-amber-premium font-semibold text-sm",children:[e.jsx("span",{children:"⚠️"}),e.jsx("span",{children:"Approval Required"})]}),e.jsx("p",{className:"text-xs text-primary-600 mt-1",children:"This booking will be sent for approval based on your company policy"})]})]})]})})]})})]})},Ik=()=>{var p,j,g,u,y,h,f,v,T;const t=rt(),{user:s}=Ps(),[r,a]=b.useState(!0),[i,n]=b.useState(null),[l,o]=b.useState([]),[c,m]=b.useState([]);b.useEffect(()=>{var P;if(!((P=s==null?void 0:s.corporate)!=null&&P.company)){t("/corporate/setup");return}d()},[s]);const d=async()=>{var P;a(!0);try{const[R,O,U]=await Promise.all([jn.getCompanyDashboard(),jn.getCompanyBookings({limit:5}),(P=s==null?void 0:s.corporate)!=null&&P.canApprove?jn.getPendingApprovals():Promise.resolve({data:{bookings:[]}})]);n(R.data),o(O.data.bookings),m(U.data.bookings)}catch(R){console.error("Failed to load dashboard data:",R)}finally{a(!1)}},x=async(P,R,O)=>{try{await jn.approveBooking(P,R,{notes:O}),d()}catch(U){console.error("Approval action failed:",U)}};return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Xe,{size:"lg"})}):e.jsxs("div",{className:"min-h-screen bg-primary-50",children:[e.jsx("section",{className:"bg-white py-6 border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-primary-900",children:"Corporate Dashboard"}),e.jsx("p",{className:"text-primary-600 mt-1",children:"Manage your company's travel bookings and approvals"})]}),e.jsx(M,{onClick:()=>t("/trips"),children:"New Booking"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(oe,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-ocean/10 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"👥"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-primary-600",children:"Total Employees"}),e.jsx("p",{className:"text-2xl font-bold text-primary-900",children:((p=i==null?void 0:i.stats)==null?void 0:p.totalEmployees)||0})]})]})}),e.jsx(oe,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-emerald/10 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"✈️"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-primary-600",children:"Active Bookings"}),e.jsx("p",{className:"text-2xl font-bold text-primary-900",children:((j=i==null?void 0:i.stats)==null?void 0:j.activeBookings)||0})]})]})}),e.jsx(oe,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-amber-premium/10 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"⏳"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-primary-600",children:"Pending Approvals"}),e.jsx("p",{className:"text-2xl font-bold text-primary-900",children:((g=i==null?void 0:i.stats)==null?void 0:g.pendingApprovals)||0})]})]})}),e.jsx(oe,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-purple-500/10 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"💰"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-primary-600",children:"Monthly Spend"}),e.jsxs("p",{className:"text-2xl font-bold text-primary-900",children:["$",((y=(u=i==null?void 0:i.stats)==null?void 0:u.monthlySpend)==null?void 0:y.toLocaleString())||0]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(oe,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-primary-900",children:"Recent Bookings"}),e.jsx(M,{variant:"outline",onClick:()=>t("/corporate/bookings"),children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:l.length>0?l.map(P=>e.jsxs("div",{className:"border border-primary-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-primary-900",children:P.bookingReference}),e.jsxs("p",{className:"text-sm text-primary-600",children:[P.bookedBy.profile.firstName," ",P.bookedBy.profile.lastName," • ",P.corporate.department]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${P.status==="confirmed"?"bg-emerald/10 text-emerald":P.status==="pending-approval"?"bg-amber-premium/10 text-amber-premium":P.status==="rejected"?"bg-red-500/10 text-red-500":"bg-primary-100 text-primary-600"}`,children:P.status.replace("-"," ")})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-primary-600",children:new Date(P.travelDates.departure).toLocaleDateString()}),e.jsxs("span",{className:"font-semibold text-primary-900",children:["$",P.pricing.total.toLocaleString()]})]})]},P._id)):e.jsx("p",{className:"text-primary-600 text-center py-8",children:"No recent bookings"})})]}),((h=s==null?void 0:s.corporate)==null?void 0:h.canApprove)&&e.jsxs(oe,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-primary-900",children:"Pending Approvals"}),e.jsx(M,{variant:"outline",onClick:()=>t("/corporate/approvals"),children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:c.length>0?c.slice(0,3).map(P=>e.jsxs("div",{className:"border border-primary-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-primary-900",children:P.bookingReference}),e.jsxs("p",{className:"text-sm text-primary-600",children:[P.bookedBy.profile.firstName," ",P.bookedBy.profile.lastName]}),e.jsxs("p",{className:"text-sm text-primary-600",children:[P.corporate.department," • ",P.corporate.purpose]})]}),e.jsxs("span",{className:"font-semibold text-primary-900",children:["$",P.pricing.total.toLocaleString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{size:"sm",onClick:()=>x(P._id,"approve"),className:"flex-1",children:"Approve"}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>x(P._id,"reject","Rejected from dashboard"),className:"flex-1",children:"Reject"})]})]},P._id)):e.jsx("p",{className:"text-primary-600 text-center py-8",children:"No pending approvals"})})]}),!((f=s==null?void 0:s.corporate)!=null&&f.canApprove)&&e.jsxs(oe,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-primary-900 mb-6",children:"Department Spending"}),e.jsx("div",{className:"space-y-4",children:((v=i==null?void 0:i.departmentSpending)==null?void 0:v.slice(0,5).map(P=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-primary-900",children:P._id}),e.jsxs("p",{className:"text-sm text-primary-600",children:[P.bookingCount," bookings"]})]}),e.jsxs("span",{className:"font-semibold text-primary-900",children:["$",P.totalSpent.toLocaleString()]})]},P._id)))||e.jsx("p",{className:"text-primary-600 text-center py-8",children:"No spending data available"})})]})]}),e.jsxs(oe,{className:"p-6 mt-8",children:[e.jsx("h2",{className:"text-xl font-bold text-primary-900 mb-6",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(M,{variant:"outline",onClick:()=>t("/trips"),className:"p-4 h-auto flex flex-col items-center",children:[e.jsx("span",{className:"text-2xl mb-2",children:"✈️"}),e.jsx("span",{children:"Book Travel"})]}),((T=s==null?void 0:s.corporate)==null?void 0:T.canApprove)&&e.jsxs(M,{variant:"outline",onClick:()=>t("/corporate/approvals"),className:"p-4 h-auto flex flex-col items-center",children:[e.jsx("span",{className:"text-2xl mb-2",children:"✅"}),e.jsx("span",{children:"Review Approvals"})]}),e.jsxs(M,{variant:"outline",onClick:()=>t("/corporate/reports"),className:"p-4 h-auto flex flex-col items-center",children:[e.jsx("span",{className:"text-2xl mb-2",children:"📊"}),e.jsx("span",{children:"View Reports"})]})]})]})]})]})},Lk=Xs({name:De().min(2,"Company name is required"),legalName:De().optional(),email:De().email("Valid email required"),phone:De().optional(),website:De().url().optional().or(a4("")),street:De().optional(),city:De().optional(),state:De().optional(),country:De().optional(),zipCode:De().optional(),currency:De().default("USD"),requireApproval:Xc().default(!0),allowedBookingWindow:up().min(1).max(365).default(30),departments:De().min(1,"At least one department is required")}),Mk=()=>{const t=rt(),{user:s}=Ps(),[r,a]=b.useState(!1),i=Lr({resolver:ki(Lk),defaultValues:{name:"",legalName:"",email:(s==null?void 0:s.email)||"",phone:"",website:"",street:"",city:"",state:"",country:"",zipCode:"",currency:"USD",requireApproval:!0,allowedBookingWindow:30,departments:"IT, HR, Sales, Marketing, Finance"}}),n=async l=>{var o,c,m;a(!0);try{const d=l.departments.split(",").map(p=>p.trim()).filter(p=>p),x={name:l.name,legalName:l.legalName,contact:{email:l.email,phone:l.phone,website:l.website,address:{street:l.street,city:l.city,state:l.state,country:l.country,zipCode:l.zipCode}},settings:{currency:l.currency,travelPolicy:{requireApproval:l.requireApproval,approvalLimits:[],allowedBookingWindow:l.allowedBookingWindow},budgetControls:{enabled:!0,departmentBudgets:d.map(p=>({department:p,annualBudget:5e4,spentAmount:0,currency:l.currency}))}},subscription:{plan:"basic",status:"active"}};await jn.createCompany(x),t("/corporate/dashboard",{state:{message:"Company setup completed successfully!"}})}catch(d){console.error("Company setup failed:",d),alert(((m=(c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)==null?void 0:m.message)||"Setup failed. Please try again.")}finally{a(!1)}};return e.jsxs("div",{className:"min-h-screen bg-primary-50",children:[e.jsx("section",{className:"bg-white py-6 border-b",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-primary-900 mb-2",children:"Corporate Account Setup"}),e.jsx("p",{className:"text-primary-600",children:"Set up your company account to start booking corporate travel"})]})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(oe,{className:"p-6",children:e.jsxs("form",{onSubmit:i.handleSubmit(n),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-primary-900 mb-4",children:"Company Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Company Name *"}),e.jsx("input",{...i.register("name"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",placeholder:"Acme Corporation"}),i.formState.errors.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.formState.errors.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Legal Name"}),e.jsx("input",{...i.register("legalName"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",placeholder:"Acme Corporation Inc."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Email *"}),e.jsx("input",{...i.register("email"),type:"email",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",placeholder:"admin@company.com"}),i.formState.errors.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.formState.errors.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Phone"}),e.jsx("input",{...i.register("phone"),type:"tel",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",placeholder:"+1 (555) 123-4567"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Website"}),e.jsx("input",{...i.register("website"),type:"url",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",placeholder:"https://company.com"})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-primary-900 mb-4",children:"Travel Policy"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Currency"}),e.jsxs("select",{...i.register("currency"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent",children:[e.jsx("option",{value:"USD",children:"USD - US Dollar"}),e.jsx("option",{value:"EUR",children:"EUR - Euro"}),e.jsx("option",{value:"GBP",children:"GBP - British Pound"}),e.jsx("option",{value:"INR",children:"INR - Indian Rupee"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Booking Window (days)"}),e.jsx("input",{...i.register("allowedBookingWindow",{valueAsNumber:!0}),type:"number",min:"1",max:"365",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent"}),e.jsx("p",{className:"text-xs text-primary-600 mt-1",children:"How many days in advance employees can book"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{...i.register("requireApproval"),type:"checkbox",className:"accent-blue-ocean"}),e.jsx("label",{className:"text-sm text-primary-700",children:"Require approval for all bookings"})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-primary-900 mb-4",children:"Departments"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-primary-900 mb-2",children:"Department Names *"}),e.jsx("textarea",{...i.register("departments"),rows:3,className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean focus:border-transparent resize-none",placeholder:"IT, HR, Sales, Marketing, Finance"}),e.jsx("p",{className:"text-xs text-primary-600 mt-1",children:"Separate department names with commas"}),i.formState.errors.departments&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.formState.errors.departments.message})]})]}),e.jsx(M,{type:"submit",fullWidth:!0,size:"lg",disabled:r,children:r?e.jsx(Xe,{size:"sm"}):"Complete Setup"})]})})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(oe,{className:"p-6 sticky top-4",children:[e.jsx("h3",{className:"text-lg font-bold text-primary-900 mb-4",children:"Corporate Benefits"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-emerald text-xl",children:"💰"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-primary-900",children:"Corporate Rates"}),e.jsx("p",{className:"text-sm text-primary-600",children:"Get exclusive discounts on flights, hotels, and packages"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-blue-ocean text-xl",children:"✅"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-primary-900",children:"Approval Workflow"}),e.jsx("p",{className:"text-sm text-primary-600",children:"Streamlined approval process for travel bookings"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-amber-premium text-xl",children:"📊"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-primary-900",children:"Expense Tracking"}),e.jsx("p",{className:"text-sm text-primary-600",children:"Detailed reports and budget management tools"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-purple-500 text-xl",children:"👥"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-primary-900",children:"Team Management"}),e.jsx("p",{className:"text-sm text-primary-600",children:"Manage employees and their travel permissions"})]})]})]})]})})]})})]})},$k=Xs({companyName:De().min(2,"Company name is required"),contactPerson:De().min(2,"Contact person is required"),contactEmail:De().email("Valid email is required"),contactPhone:De().min(10,"Valid phone number is required"),gstNumber:De().optional(),billingAddress:De().optional(),specialRequests:De().optional()}),Ok=()=>{var P,R,O;const{type:t,id:s}=tr(),r=rt(),{user:a,isAuthenticated:i}=Ps(),[n,l]=b.useState(!1),[o,c]=b.useState(null),[m,d]=b.useState(2),[x,p]=b.useState([]),[j,g]=b.useState(""),u=Lr({resolver:ki($k),defaultValues:{companyName:"",contactPerson:((P=a==null?void 0:a.profile)==null?void 0:P.firstName)+" "+((R=a==null?void 0:a.profile)==null?void 0:R.lastName)||"",contactEmail:(a==null?void 0:a.email)||"",contactPhone:"",gstNumber:"",billingAddress:"",specialRequests:""}});b.useEffect(()=>{if(!i){r("/auth",{state:{returnTo:location.pathname}});return}y()},[t,s,i]),b.useEffect(()=>{const U=Array.from({length:m},(C,q)=>{var X,N,D;return{id:q+1,title:"Mr",firstName:q===0&&((X=a==null?void 0:a.profile)==null?void 0:X.firstName)||"",lastName:q===0&&((N=a==null?void 0:a.profile)==null?void 0:N.lastName)||"",email:q===0&&(a==null?void 0:a.email)||"",phone:q===0&&((D=a==null?void 0:a.profile)==null?void 0:D.phone)||"",dateOfBirth:"",passportNumber:"",nationality:"Indian"}});p(U)},[m,a]);const y=async()=>{var U,C,q,X,N,D;try{if(t==="trip"&&s){const $=(await Pr.getTripDetails(s)).trip;c({title:$.title,destination:(U=$.primaryDestination)==null?void 0:U.name,duration:`${(C=$.duration)==null?void 0:C.days} days, ${(q=$.duration)==null?void 0:q.nights} nights`,pricePerPerson:((X=$.pricing)==null?void 0:X.finalPrice)||((N=$.pricing)==null?void 0:N.estimated)||0,currency:((D=$.pricing)==null?void 0:D.currency)||"USD"})}}catch(G){console.error("Failed to load booking data:",G)}},h=(U,C,q)=>{p(X=>X.map((N,D)=>D===U?{...N,[C]:q}:N))},f=()=>{const U=[];return x.forEach((C,q)=>{var X,N;(X=C.firstName)!=null&&X.trim()||U.push(`Traveler ${q+1}: First name is required`),(N=C.lastName)!=null&&N.trim()||U.push(`Traveler ${q+1}: Last name is required`)}),U},v=async U=>{var q,X,N;g("");const C=f();if(C.length>0){g("Please fill required traveler details: "+C.join(", "));return}l(!0);try{const D={type:"corporate-group",itemId:s,companyDetails:{companyName:U.companyName,contactPerson:U.contactPerson,contactEmail:U.contactEmail,contactPhone:U.contactPhone,gstNumber:U.gstNumber,billingAddress:U.billingAddress},travelers:x,totalTravelers:m,specialRequests:U.specialRequests,totalAmount:((o==null?void 0:o.pricePerPerson)||0)*m,bookingDetails:o},G=await et.post("/appointments/corporate-group",D);G.success&&r("/booking-confirmation",{state:{bookingReference:G.data.booking.bookingReference,message:"Corporate group booking submitted successfully! Our team will contact you within 24 hours."}})}catch(D){console.error("Corporate booking failed:",D);const G=((N=(X=(q=D.response)==null?void 0:q.data)==null?void 0:X.error)==null?void 0:N.message)||D.message||"Booking failed. Please try again.";g(G)}finally{l(!1)}};if(!o)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Xe,{size:"lg"})});const T=(o.pricePerPerson||0)*m;return e.jsxs("div",{className:"min-h-screen bg-primary-50",children:[e.jsx("section",{className:"bg-white py-6 border-b",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-primary-600 hover:text-primary-900 transition-colors mb-4",children:[e.jsx("span",{children:"←"}),e.jsx("span",{children:"Back"})]}),e.jsx("h1",{className:"text-3xl font-bold text-primary-900 mb-2",children:"Corporate Group Booking"}),e.jsx("p",{className:"text-primary-600",children:"Book for multiple travelers with corporate benefits"})]})}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(oe,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-primary-900 mb-4",children:"Number of Travelers"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"text-sm font-medium text-primary-700",children:"Total Travelers:"}),e.jsx("select",{value:m,onChange:U=>d(Number(U.target.value)),className:"px-4 py-2 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean",children:Array.from({length:50},(U,C)=>C+1).map(U=>e.jsxs("option",{value:U,children:[U," ",U===1?"Traveler":"Travelers"]},U))})]})]}),e.jsxs(oe,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-primary-900 mb-4",children:"Company Details"}),e.jsxs("form",{onSubmit:u.handleSubmit(v),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Company Name *"}),e.jsx("input",{...u.register("companyName"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean",placeholder:"Your Company Name"}),u.formState.errors.companyName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.formState.errors.companyName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"GST Number"}),e.jsx("input",{...u.register("gstNumber"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean",placeholder:"GST Number (Optional)"}),u.formState.errors.gstNumber&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.formState.errors.gstNumber.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Contact Person *"}),e.jsx("input",{...u.register("contactPerson"),className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean"}),u.formState.errors.contactPerson&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.formState.errors.contactPerson.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Contact Phone *"}),e.jsx("input",{...u.register("contactPhone"),type:"tel",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean"}),u.formState.errors.contactPhone&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.formState.errors.contactPhone.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Contact Email *"}),e.jsx("input",{...u.register("contactEmail"),type:"email",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean"}),u.formState.errors.contactEmail&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.formState.errors.contactEmail.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Billing Address"}),e.jsx("textarea",{...u.register("billingAddress"),rows:3,className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean resize-none",placeholder:"Complete billing address"})]})]})]}),e.jsxs(oe,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-primary-900 mb-4",children:"Traveler Details"}),e.jsx("div",{className:"space-y-6",children:x.map((U,C)=>{var q,X;return e.jsxs("div",{className:"border border-primary-200 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-medium text-primary-900 mb-3",children:["Traveler ",C+1," ",C===0&&"(Primary Contact)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-primary-600 mb-1",children:"Title"}),e.jsxs("select",{value:U.title,onChange:N=>h(C,"title",N.target.value),className:"w-full px-3 py-2 border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean text-sm",children:[e.jsx("option",{value:"Mr",children:"Mr"}),e.jsx("option",{value:"Ms",children:"Ms"}),e.jsx("option",{value:"Mrs",children:"Mrs"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-primary-600 mb-1",children:"First Name *"}),e.jsx("input",{value:U.firstName,onChange:N=>h(C,"firstName",N.target.value),className:`w-full px-3 py-2 border rounded focus:ring-1 focus:ring-blue-ocean text-sm ${(q=U.firstName)!=null&&q.trim()?"border-primary-200":"border-red-300 bg-red-50"}`,placeholder:"Required"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-primary-600 mb-1",children:"Last Name *"}),e.jsx("input",{value:U.lastName,onChange:N=>h(C,"lastName",N.target.value),className:`w-full px-3 py-2 border rounded focus:ring-1 focus:ring-blue-ocean text-sm ${(X=U.lastName)!=null&&X.trim()?"border-primary-200":"border-red-300 bg-red-50"}`,placeholder:"Required"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-primary-600 mb-1",children:"Email"}),e.jsx("input",{value:U.email,onChange:N=>h(C,"email",N.target.value),type:"email",className:"w-full px-3 py-2 border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-primary-600 mb-1",children:"Phone"}),e.jsx("input",{value:U.phone,onChange:N=>h(C,"phone",N.target.value),className:"w-full px-3 py-2 border border-primary-200 rounded focus:ring-1 focus:ring-blue-ocean text-sm"})]})]})]},C)})})]}),e.jsxs(oe,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-primary-900 mb-4",children:"Special Requests"}),e.jsx("textarea",{...u.register("specialRequests"),rows:4,className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-blue-ocean resize-none",placeholder:"Any special requirements for the group (dietary preferences, room preferences, etc.)..."}),u.formState.errors.specialRequests&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.formState.errors.specialRequests.message})]}),j&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-red-500",children:"⚠️"}),e.jsx("p",{className:"text-red-700 text-sm",children:j})]})}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border-2 border-blue-ocean",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-primary-900",children:"Ready to Book?"}),e.jsx("p",{className:"text-sm text-primary-600",children:"Please ensure all required fields are filled"})]}),e.jsx(M,{onClick:u.handleSubmit(v),fullWidth:!0,size:"lg",disabled:n,className:"bg-gradient-to-r from-blue-ocean to-emerald",children:n?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{size:"sm"}),e.jsx("span",{children:"Processing Booking..."})]}):`Book for ${m} Travelers - ${o.currency} ${Math.round(T*.95).toLocaleString()}`})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(oe,{className:"p-6 sticky top-4",children:[e.jsx("h3",{className:"text-lg font-bold text-primary-900 mb-4",children:"Booking Summary"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-primary-900",children:o.title}),e.jsx("p",{className:"text-sm text-primary-600",children:o.destination}),e.jsx("p",{className:"text-sm text-primary-600",children:o.duration})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Price per person"}),e.jsxs("span",{children:[o.currency," ",(O=o.pricePerPerson)==null?void 0:O.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Number of travelers"}),e.jsx("span",{children:m})]}),e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Group discount (5%)"}),e.jsxs("span",{className:"text-emerald",children:["-",o.currency," ",Math.round(T*.05).toLocaleString()]})]}),e.jsxs("div",{className:"border-t pt-2 flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total Amount"}),e.jsxs("span",{children:[o.currency," ",Math.round(T*.95).toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-emerald/10 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-emerald font-semibold text-sm",children:[e.jsx("span",{children:"✅"}),e.jsx("span",{children:"Corporate Benefits"})]}),e.jsxs("ul",{className:"text-xs text-primary-600 mt-2 space-y-1",children:[e.jsx("li",{children:"• 5% group discount applied"}),e.jsx("li",{children:"• GST invoice provided"}),e.jsx("li",{children:"• Flexible payment terms"}),e.jsx("li",{children:"• Dedicated support"})]})]})]})]})})]})})]})},Bk=()=>{const t=Ms(),s=rt(),{bookingReference:r,message:a}=t.state||{};return e.jsx("div",{className:"min-h-screen bg-primary-50 flex items-center justify-center px-4",children:e.jsxs(oe,{className:"max-w-md w-full p-8 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),e.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-4",children:"Booking Confirmed!"}),e.jsx("p",{className:"text-primary-600 mb-6",children:a||"Your booking has been submitted successfully."}),r&&e.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg mb-6",children:[e.jsx("div",{className:"text-sm text-primary-600 mb-1",children:"Booking Reference"}),e.jsx("div",{className:"text-xl font-bold text-primary-900",children:r})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(M,{variant:"outline",onClick:()=>s("/dashboard"),className:"flex-1",children:"My Bookings"}),e.jsx(M,{onClick:()=>s("/"),className:"flex-1",children:"Back Home"})]})]})})},zk=new s2({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});function Uk(){const{initializeAuth:t}=Ps();return b.useEffect(()=>{t()},[t]),e.jsx(a2,{client:zk,children:e.jsxs(DN,{children:[e.jsxs("div",{className:"min-h-screen bg-primary-50 flex flex-col",children:[e.jsx(c4,{}),e.jsx("main",{className:"flex-1 pt-16",children:e.jsxs(NN,{children:[e.jsx(Qe,{path:"/",element:e.jsx(p4,{})}),e.jsx(Qe,{path:"/flights",element:e.jsx(b4,{})}),e.jsx(Qe,{path:"/flights/:id",element:e.jsx(j4,{})}),e.jsx(Qe,{path:"/hotels",element:e.jsx(N4,{})}),e.jsx(Qe,{path:"/hotels/:id",element:e.jsx(w4,{})}),e.jsx(Qe,{path:"/trips",element:e.jsx(Md,{})}),e.jsx(Qe,{path:"/tripsold",element:e.jsx(Dk,{})}),e.jsx(Qe,{path:"/tripsold/:id",element:e.jsx(S4,{})}),e.jsx(Qe,{path:"/trips/:id",element:e.jsx(k4,{})}),e.jsx(Qe,{path:"/trips/:id/customize",element:e.jsx(T4,{})}),e.jsx(Qe,{path:"/ai-itinerary",element:e.jsx(ff,{})}),e.jsx(Qe,{path:"/itineraries/ai",element:e.jsx(ff,{})}),e.jsx(Qe,{path:"/custom-builder",element:e.jsx(A4,{})}),e.jsx(Qe,{path:"/itinerary-hub",element:e.jsx(si,{to:"/trips",replace:!0})}),e.jsx(Qe,{path:"/itinerary-hub/:id",element:e.jsx(si,{to:"/trips",replace:!0})}),e.jsx(Qe,{path:"/packages",element:e.jsx(si,{to:"/trips",replace:!0})}),e.jsx(Qe,{path:"/packages/:id",element:e.jsx(si,{to:"/trips",replace:!0})}),e.jsx(Qe,{path:"/itinerary-details",element:e.jsx(Md,{})}),e.jsx(Qe,{path:"/destination/:id",element:e.jsx(Md,{})}),e.jsx(Qe,{path:"/booking/:type/:id",element:e.jsx(jr,{children:e.jsx(yf,{})})}),e.jsx(Qe,{path:"/trip-booking/:id",element:e.jsx(jr,{children:e.jsx(wk,{})})}),e.jsx(Qe,{path:"/corporate/booking/:type/:id",element:e.jsx(jr,{children:e.jsx(Fk,{})})}),e.jsx(Qe,{path:"/corporate/dashboard",element:e.jsx(jr,{children:e.jsx(Ik,{})})}),e.jsx(Qe,{path:"/corporate/setup",element:e.jsx(jr,{children:e.jsx(Mk,{})})}),e.jsx(Qe,{path:"/corporate-booking/:type/:id",element:e.jsx(jr,{children:e.jsx(Ok,{})})}),e.jsx(Qe,{path:"/booking-confirmation",element:e.jsx(jr,{children:e.jsx(Bk,{})})}),e.jsx(Qe,{path:"/search",element:e.jsx(F4,{})}),e.jsx(Qe,{path:"/admin",element:e.jsx(jr,{adminOnly:!0,children:e.jsx(lk,{})})}),e.jsx(Qe,{path:"/blog",element:e.jsx(ck,{})}),e.jsx(Qe,{path:"/blog/:slug",element:e.jsx(dk,{})}),e.jsx(Qe,{path:"/about",element:e.jsx(mk,{})}),e.jsx(Qe,{path:"/contact",element:e.jsx(uk,{})}),e.jsx(Qe,{path:"/legal",element:e.jsx(pk,{})}),e.jsx(Qe,{path:"*",element:e.jsx(xk,{})}),e.jsx(Qe,{path:"/dashboard",element:e.jsx(jr,{children:e.jsx(fk,{})})}),e.jsx(Qe,{path:"/booking",element:e.jsx(yf,{})}),e.jsx(Qe,{path:"*",element:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("h1",{className:"text-2xl font-bold text-primary-900",children:"Page Not Found"})})})]})}),e.jsx(d4,{})]}),e.jsx(Q2,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#1e293b",border:"1px solid #e2e8f0",borderRadius:"0.75rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}})]})})}zd.createRoot(document.getElementById("root")).render(e.jsx(ht.StrictMode,{children:e.jsx(Uk,{})}));
