<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TravelAI - Performance Optimized</title>
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" as="style">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style">
    
    <!-- Critical CSS Inline -->
    <style>
        :root {
            --primary-900: #0F172A; --primary-800: #1E293B; --primary-700: #334155; --primary-600: #475569; --primary-400: #94A3B8; --primary-100: #F1F5F9; --primary-50: #F8FAFC;
            --ocean-blue: #1E40AF; --mirage-blue: #4b90e6; --governor-bay: #2553eb; --emerald: #10B981; --premium-amber: #F59E0B; --soft-coral: #FF6B6B;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; line-height: 1.5; overflow-x: hidden; }
        
        /* Critical Above-the-fold Styles */
        .nav-container {
            position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
            background: rgba(15, 23, 42, 0.95); backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1); height: 70px;
        }
        
        .hero {
            height: 100vh; background: linear-gradient(135deg, var(--ocean-blue) 0%, var(--mirage-blue) 50%, var(--emerald) 100%);
            position: relative; display: flex; align-items: center; justify-content: center;
            padding: 90px 1.5rem 2rem;
        }
        
        .hero-content {
            max-width: 1200px; width: 100%; position: relative; z-index: 10;
            display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; align-items: center;
        }
        
        .hero-title {
            font-size: clamp(2.2rem, 4.5vw, 3.2rem); font-weight: 800; line-height: 1.1;
            color: white; margin-bottom: 1rem;
        }
        
        .search-widget {
            background: rgba(255, 255, 255, 0.98); backdrop-filter: blur(25px);
            border-radius: 1.5rem; padding: 2rem 2.5rem; max-width: 500px; width: 100%;
        }
        
        /* Mobile-First Responsive */
        @media (max-width: 1023px) {
            .hero-content { 
                grid-template-columns: 1fr; gap: 2rem; text-align: center;
                height: calc(100vh - 120px); justify-content: center;
            }
            .hero-text { order: 2; }
            .search-widget { order: 1; max-width: none; margin: 0 auto; }
        }
        
        @media (max-width: 480px) {
            .hero { padding: 70px 1rem 1rem; }
            .search-widget { padding: 1.5rem; }
        }
    </style>
    
    <!-- Load Non-Critical CSS Asynchronously -->
    <link rel="preload" href="styles/main.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="styles/main.css"></noscript>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2553eb">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="AI-powered travel platform for flights, hotels, and personalized itineraries. Book your perfect trip with TravelAI.">
    <meta name="keywords" content="travel, flights, hotels, AI itinerary, travel planning, booking">
    <meta property="og:title" content="TravelAI - Complete Travel Platform">
    <meta property="og:description" content="Your AI-powered travel companion for perfect trips">
    <meta property="og:image" content="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=1200&h=630">
    <meta property="og:url" content="https://travelai.com">
    <meta name="twitter:card" content="summary_large_image">
</head>
<body>
    <!-- Navigation Component -->
    <nav class="nav-container" id="navbar">
        <div class="navbar">
            <div class="nav-left">
                <div class="logo">TravelAI</div>
                <div class="nav-search">
                    <input type="text" placeholder="Search destinations, hotels, flights..." class="nav-search-input" id="nav-search">
                    <button class="nav-search-btn" aria-label="Search"><i class="fas fa-search"></i></button>
                </div>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="flights.html">Flights</a></li>
                <li><a href="hotels.html">Hotels</a></li>
                <li><a href="itinerary.html">Itineraries</a></li>
                <li><a href="packages.html">Packages</a></li>
                <li><a href="travel-insurance.html">Insurance</a></li>
                <li><a href="help-center.html">Help</a></li>
                <li><a href="dashboard.html">Dashboard</a></li>
            </ul>
            <div class="nav-right">
                <a href="auth.html" class="nav-cta">Get Started</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <div class="hero-text">
                <h1 class="hero-title">
                    Your Complete Travel Platform
                    <span style="background: linear-gradient(135deg, #F59E0B, #FFF); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">All in One Place</span>
                </h1>
                <p class="hero-subtitle">
                    From flights and hotels to complete AI-powered itineraries - everything you need for perfect travel experiences.
                </p>
            </div>
            
            <div class="search-widget">
                <div class="search-header">
                    <h2 class="search-title">Start Your Journey</h2>
                    <p class="search-subtitle">Choose your travel service</p>
                </div>
                <div class="search-tabs">
                    <button class="search-tab active" onclick="switchTab('itinerary')">üó∫Ô∏è Complete Trip</button>
                    <button class="search-tab" onclick="switchTab('flights')">‚úàÔ∏è Flights</button>
                    <button class="search-tab" onclick="switchTab('hotels')">üè® Hotels</button>
                </div>
                <div class="search-content active" id="itinerary-content">
                    <button class="primary-cta" onclick="startPlanning()">üöÄ Start Planning - Free!</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Lazy Load Images -->
    <img data-src="https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=600&h=400" 
         class="lazy-image" alt="Tokyo skyline" loading="lazy">

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => console.log('SW registered'))
                    .catch(error => console.log('SW registration failed'));
            });
        }
    </script>

    <!-- Optimized JavaScript -->
    <script>
        // Critical JavaScript - Inline
        function switchTab(tab) {
            document.querySelectorAll('.search-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
        }

        function startPlanning() {
            location.href = 'itinerary.html';
        }

        // Lazy Loading Images
        const lazyImages = document.querySelectorAll('.lazy-image');
        const imageObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    img.src = img.dataset.src;
                    img.classList.remove('lazy-image');
                    observer.unobserve(img);
                }
            });
        });

        lazyImages.forEach(img => imageObserver.observe(img));

        // Search Autocomplete
        const searchInput = document.getElementById('nav-search');
        const destinations = ['Tokyo, Japan', 'Paris, France', 'New York, USA', 'London, UK'];
        
        searchInput.addEventListener('input', function(e) {
            const query = e.target.value.toLowerCase();
            if (query.length > 2) {
                const matches = destinations.filter(dest => dest.toLowerCase().includes(query));
                // Show suggestions
            }
        });
    </script>

    <!-- Load Non-Critical JavaScript Asynchronously -->
    <script src="js/main.js" async></script>
</body>
</html>